<process draft="false" dev-studio-version="7.6.01.02">
  <process-def name=":AO-AD-HP_ServiceManager:v7.1:Configuration_Management:Create Department">
    <parameters>
      <input global="false" required="false">
        <description>The name of the adapter to use to handle the request. Default adapter name: HPSMActor.</description>
        <from>adapter name</from>
        <to>adapter name</to>
      </input>
      <input global="false" required="true">
        <description>The items for the adapter request. This should be an XML document with a root element named "items" having a child "item", which should contain the data necessary to execute the specific request. 

Create Department

This wrapper creates a Department.

Sample Item Xml: 

&lt;items&gt;
	&lt;item&gt;
		&lt;operation-name&gt;create-department&lt;/operation-name&gt;
		&lt;model&gt;
		  &lt;keys&gt;
		  &lt;/keys&gt;
		  &lt;instance&gt;
		  
			&lt;department-name&gt;
			  &lt;value&gt;D-0001&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/department-name&gt;
			&lt;company&gt;
				&lt;value&gt;C-0001&lt;/value&gt;
				&lt;type&gt;String&lt;/type&gt;
			&lt;/company&gt;
			
			&lt;department-i-d&gt;
			  &lt;value&gt;department i d&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/department-i-d&gt;
			&lt;department-s-l-a&gt;
			  &lt;value&gt;155&lt;/value&gt;
			  &lt;type&gt;Decimal&lt;/type&gt;
			&lt;/department-s-l-a&gt;
			&lt;parent-department&gt;
			  &lt;value&gt;parent department&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/parent-department&gt;
			&lt;cost-center&gt;
			  &lt;value&gt;cost center&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/cost-center&gt;
		  &lt;/instance&gt;
		&lt;/model&gt;
	&lt;/item&gt;
&lt;/items&gt;

Elements’ Description: 
The elements provided in the instance element refer to particular field of the record. We create an instance of this record by providing information in the &lt;value&gt; elements.

Complete Elements’ Description: 

NOTE: To create a ‘Department’ record, you require at least &lt;department-name&gt; element to be populated properly. See the bold elements in this “Elements’ Description”.

NOTE: The pair(&lt;department &gt;, &lt;company&gt;) is used as key.  Thus, this pair must be unique.  The element &lt;department&gt; is an derived element (derived from &lt;department-name&gt; and &lt;company&gt;) whose value is  ‘&lt;company&gt;/&lt;department-name&gt;’. 

item [Required]:
	This is a child of &lt;items&gt;. This &lt;item&gt; tag can be multiple times to support "multiple items 	support". 

operation-name [Required]: 

	This shows, what operation you want to perform.

	Valid values:
&lt;operation-name&gt;create-department&lt;/operation-name&gt; is valid operation name element.

model [Required]: It is the parent tag for containing all other tags.

keys [Required]: keys [Required]: Specifies the unique identifier of a record. 


Instance [Required] :
It can have many children. The children of this element describe fields of 	a record.

Department-name[Required]: Name of the department. 

Name of this field in the application: General &gt; Dept Name. 

Valid Values: Any string subject to the pair (&lt;department&gt;, &lt;company&gt;) be unique.  

Default Value: No default values. This is a required element. 

Company[Optional]: The company name. 

	Name of this element in the application: General &gt; Company. 

Valid Values: Any string. This value should be a valid Company value.
	
	Default Value: “”.

Department-i-d[Optional]: The department ID. 

	Name of this element in the application: General &gt; Dept Code

	Valid Values: Any string. 
	
	Default Value: “”

Department-s-l-a [Optional] : The SLA associated with department. 

	Name of this element in the application: General &gt; SLA

	Valid Values: Any valid SLA value

	Default Value: 

Parent-department [Optional]: The parent department. 
	
	Name of this element in the application: General &gt; Parent Department. 

Valid Values: Any string, or you can select existing department record from the application repository. 

	Default Value: “”


Cost-center [Optioanl]: The cost center.

	Name of this element in the application: General &gt; Cost Center. 

	Valid Values: Any string. 
	
	Default Value: “”
</description>
        <from>items</from>
        <to>items</to>
      </input>
      <input global="false" required="false">
        <description>Provide username/password in form of xml. 

This input parameter is required when the user wants to override the default values for username and password provided in the adapter configuration. This is required for cases where an operation cannot be executed with the default username/password provided in the adapter configuration and only user with special permissions can execute the operation. Examples of such operations can be - 'approve-change', 'deny-change', 'close-change', 'approve-task'

Sample XML Format: 

&lt;connection-parameters&gt;
	&lt;alternate-username&gt;USERNAME&lt;/alternate-username&gt;
	&lt;alternate-password&gt;PASSWORD&lt;/alternate-password&gt;
&lt;/connection-parameters&gt;</description>
        <from>connection parameters</from>
        <to>connection parameters</to>
      </input>
      <output global="false" required="false">
        <description>The adapter response containing the results. </description>
        <to>adapter response</to>
        <from>adapter response</from>
      </output>
    </parameters>
    <access />
    <sequence>
      <switch>
        <meta>
          <documentation />
          <run-mode-handling>
            <run-mode>OCP</run-mode>
            <allow-step-into>true</allow-step-into>
          </run-mode-handling>
          <checkpoint>false</checkpoint>
        </meta>
        <execute-all-applicable-cases>false</execute-all-applicable-cases>
        <default>
          <sequence>
            <call-process>
              <process-name>:AO-AD-HP_ServiceManager:Utilities:Operation Name Error Reporting</process-name>
              <parameters>
                <input>
                  <value>create-department</value>
                  <to>operation name</to>
                </input>
                <input>
                  <from>items</from>
                  <to>items</to>
                </input>
              </parameters>
              <meta>
                <documentation />
                <run-mode-handling>
                  <run-mode>OCP</run-mode>
                  <allow-step-into>false</allow-step-into>
                </run-mode-handling>
                <checkpoint>false</checkpoint>
              </meta>
              <location>:switch[1]:sequence[1]:call-process[1]</location>
            </call-process>
          </sequence>
        </default>
        <case>
          <condition>
            <document>
              <input>
                <from>items</from>
              </input>
            </document>
            <xpath-expression>
              <xpath-replacement-tokens />
              <xpath><![CDATA[(//operation-name)[1]/text() = 'create-department']]></xpath>
            </xpath-expression>
          </condition>
          <sequence>
            <assign>
              <assignment>
                <document>
                  <input>
                    <from>items</from>
                  </input>
                </document>
                <result>
                  <output>
                    <to>items</to>
                  </output>
                </result>
                <xslt-stylesheet>
                  <stylesheet-replacement-tokens />
                  <stylesheet><![CDATA[<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
  <xsl:output indent="no" />
  <xsl:template match="/">
    <items>
      <xsl:for-each select="//item">
        <item>
          <entity-type>
            <xsl:text disable-output-escaping="no">department</xsl:text>
          </entity-type>
          <xsl:copy-of select="./*" />
        </item>
      </xsl:for-each>
    </items>
  </xsl:template>
</xsl:stylesheet>]]></stylesheet>
                </xslt-stylesheet>
              </assignment>
              <meta>
                <documentation />
                <checkpoint>false</checkpoint>
              </meta>
              <location>:switch[1]:sequence[2]:assign[1]</location>
            </assign>
            <call-process>
              <process-name>:AO-AD-HP_ServiceManager:Utilities:Configuration_Management:Create Configuration Item Utility</process-name>
              <parameters>
                <input>
                  <from>adapter name</from>
                  <to>adapter name</to>
                </input>
                <input>
                  <from>items</from>
                  <to>items</to>
                </input>
                <input>
                  <from>connection parameters</from>
                  <to>connection parameters</to>
                </input>
                <output>
                  <from>adapter response</from>
                  <to>adapter response</to>
                </output>
              </parameters>
              <meta>
                <documentation />
                <run-mode-handling>
                  <run-mode>OCP</run-mode>
                  <allow-step-into>false</allow-step-into>
                </run-mode-handling>
                <checkpoint>false</checkpoint>
              </meta>
              <location>:switch[1]:sequence[2]:call-process[1]</location>
            </call-process>
          </sequence>
        </case>
        <location>:switch[1]</location>
      </switch>
    </sequence>
    <meta>
      <expose-to>
        <consumer>RULE</consumer>
        <consumer>SCHEDULE</consumer>
      </expose-to>
      <documentation>
        <description>Create Department

This wrapper creates a Department.</description>
        <version>1.0</version>
      </documentation>
      <peer-location>
        <location>any</location>
      </peer-location>
      <record-metrics>false</record-metrics>
      <process-id>4d2ae773-0f8b-3562-83fb-71cb89b07a26</process-id>
      <author />
      <category />
      <status />
      <keywords />
      <systems />
      <last-modified-by />
      <last-modified>1290594335830</last-modified>
    </meta>
  </process-def>
</process>