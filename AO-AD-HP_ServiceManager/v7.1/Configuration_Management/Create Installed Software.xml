<process draft="false" dev-studio-version="7.6.01.02">
  <process-def name=":AO-AD-HP_ServiceManager:v7.1:Configuration_Management:Create Installed Software">
    <parameters>
      <input global="false" required="false">
        <description>The name of the adapter to use to handle the request. Default adapter name: HPSMActor.</description>
        <from>adapter name</from>
        <to>adapter name</to>
      </input>
      <input global="false" required="true">
        <description>The items for the adapter request. This should be an XML document with a root element named "items" having multiple child "item" elements, which should contain the data necessary to execute the specific request. 

Create Installed Software 

This wrapper creates 'Installed Software'.

Sample Item Xml: 

&lt;items&gt;
	&lt;item&gt;
		&lt;operation-name&gt;create-installed-software&lt;/operation-name&gt;
		&lt;model&gt;
		  &lt;keys&gt;
		  &lt;/keys&gt;
		  &lt;instance&gt;
			&lt;application-name&gt;
			  &lt;value&gt;application name&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/application-name&gt;
			&lt;license-number&gt;
			  &lt;value&gt;license number&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/license-number&gt;
			&lt;directory&gt;
			  &lt;value&gt;directory&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/directory&gt;
			&lt;description&gt;
			  &lt;value&gt;description&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/description&gt;
			&lt;version&gt;
			  &lt;value&gt;version&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/version&gt;
			&lt;installation-date&gt;
			  &lt;value&gt;2008.11.01 08:00:00&lt;/value&gt;
			  &lt;type&gt;DateTime&lt;/type&gt;
			&lt;/installation-date&gt;
			&lt;installed-by&gt;
			  &lt;value&gt;installed by&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/installed-by&gt;
			&lt;installed-on-c-i&gt;
			  &lt;value&gt;installed on c i&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/installed-on-c-i&gt;
			&lt;suite-component&gt;
			  &lt;value&gt;true&lt;/value&gt;
			  &lt;type&gt;Boolean&lt;/type&gt;
			&lt;/suite-component&gt;
			&lt;is-authorized&gt;
			  &lt;value&gt;true&lt;/value&gt;
			  &lt;type&gt;Boolean&lt;/type&gt;
			&lt;/is-authorized&gt;
			&lt;status&gt;
			  &lt;value&gt;status&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/status&gt;
			&lt;serial-number&gt;
			  &lt;value&gt;serial number&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/serial-number&gt;
		  &lt;/instance&gt;
		&lt;/model&gt;
	&lt;/item&gt;
&lt;/items&gt;
 
Elements’ Description: 
The elements provided in the instance element refer to particular field of the record. We create an instance of this record by providing information in the &lt;value&gt; elements.

Complete Elements’ Description: 

item [Required]: This is a child of &lt;items&gt;. This &lt;item&gt; tag can be multiple times to support "multiple items support". 

operation-name [Required]: This is used to specify the operation that needs to be performed.

	Valid values: create-installed-software

model[Required]: It is the parent tag for containing all other tags.
	
keys [Required]: used as a unique identifier of the records by the application.

instance [Required] : It can have several child elements. The children of this element describe fields of a record.

application-name[Required]: The name of the application. 

	Name of this element in the application: Application Information &gt; Application Name

	Valid Values: Any string. 

license-number [Optional]: the license number. 

	Name of this element in the application: Application Information &gt; License ID

	Valid Values: Any string.
	
	Default Value: ""

installed-on-c-i [Required]: configuration item where software is installed. 

	Name of this element in the application: Installed Computer System &gt; Installed System

	Valid Values: Any string. 
	
directory[Optional]: the directory. 

	Name of this element in the application: Application Information &gt; Installed Directory

	Valid Values: Any string.

	Default Value: “”

description [Optional]: The description field.

	Name of this element in the application: Application Information &gt; Description

	Valid Values: Any string. 

	Default Value: “”

version [Optional]: the version information.

	Name of this element in the application: Application Information &gt; Version

	Valid Values: Any string.
 
	Default Value: “”

installation-date [Optional] : The date of installation. 

	Name of this element in the application: Installed Computer System &gt; Installation Date

	Valid Values: Any input in DateTime(i.e., YYYY.MM.DD hh:mm:ss) fomat. 

	Default Value: “”

installed-by [Optional]: Installing person.

	Name of this element in the application: Installed Computer System &gt; Installed By 

	Valid Values: Any string. 

	Default Value: “”

suite-component [Optional] : 

	Name of this element in the application: Application Information &gt; "Suite Component?"

	Valid Values: true, false. 

	Default Value: false

is-authorized [Optional]: This is used to specify if software is authorized. 

	Name of this element in the application: Application Information &gt; "Authorized?"

	Valid Values: true, false.

	Default Value: false

status [Optional]: status of the software. 

	Name of this element in the application: Application Information &gt; Status

	Valid Values: Any string. 

	Default Value: “”

serial-number [Optional]: the serial number for the software. 

	Name of this element in the application: Application Information &gt; Serial No.

	Valid Values: Any string. 

	Default Value: “”
</description>
        <from>items</from>
        <to>items</to>
      </input>
      <input global="false" required="false">
        <description>Provide username/password in form of xml. 

This input parameter is required when the user wants to override the default values for username and password provided in the adapter configuration. This is required for cases where an operation cannot be executed with the default username/password provided in the adapter configuration and only user with special permissions can execute the operation. Examples of such operations can be - 'approve-change', 'deny-change', 'close-change', 'approve-task'

Sample XML Format: 

&lt;connection-parameters&gt;
	&lt;alternate-username&gt;USERNAME&lt;/alternate-username&gt;
	&lt;alternate-password&gt;PASSWORD&lt;/alternate-password&gt;
&lt;/connection-parameters&gt;</description>
        <from>connection parameters</from>
        <to>connection parameters</to>
      </input>
      <output global="false" required="false">
        <description>The adapter response containing the results. </description>
        <to>adapter response</to>
        <from>adapter response</from>
      </output>
    </parameters>
    <access />
    <sequence>
      <switch>
        <meta>
          <documentation />
          <run-mode-handling>
            <run-mode>OCP</run-mode>
            <allow-step-into>true</allow-step-into>
          </run-mode-handling>
          <checkpoint>false</checkpoint>
        </meta>
        <execute-all-applicable-cases>false</execute-all-applicable-cases>
        <default>
          <sequence>
            <call-process>
              <process-name>:AO-AD-HP_ServiceManager:Utilities:Operation Name Error Reporting</process-name>
              <parameters>
                <input>
                  <value>create-installed-software</value>
                  <to>operation name</to>
                </input>
                <input>
                  <from>items</from>
                  <to>items</to>
                </input>
              </parameters>
              <meta>
                <documentation />
                <run-mode-handling>
                  <run-mode>OCP</run-mode>
                  <allow-step-into>false</allow-step-into>
                </run-mode-handling>
                <checkpoint>false</checkpoint>
              </meta>
              <location>:switch[1]:sequence[1]:call-process[1]</location>
            </call-process>
          </sequence>
        </default>
        <case>
          <condition>
            <document>
              <input>
                <from>items</from>
              </input>
            </document>
            <xpath-expression>
              <xpath-replacement-tokens />
              <xpath><![CDATA[(//operation-name)[1]/text() = 'create-installed-software']]></xpath>
            </xpath-expression>
          </condition>
          <sequence>
            <assign>
              <assignment>
                <document>
                  <input>
                    <from>items</from>
                  </input>
                </document>
                <result>
                  <output>
                    <to>items</to>
                  </output>
                </result>
                <xslt-stylesheet>
                  <stylesheet-replacement-tokens />
                  <stylesheet><![CDATA[<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
  <xsl:output indent="no" />
  <xsl:template match="/">
    <items>
      <xsl:for-each select="//item">
        <item>
          <entity-type>
            <xsl:text disable-output-escaping="no">installed-software</xsl:text>
          </entity-type>
          <xsl:copy-of select="./*" />
        </item>
      </xsl:for-each>
    </items>
  </xsl:template>
</xsl:stylesheet>]]></stylesheet>
                </xslt-stylesheet>
              </assignment>
              <meta>
                <documentation />
                <checkpoint>false</checkpoint>
              </meta>
              <location>:switch[1]:sequence[2]:assign[1]</location>
            </assign>
            <call-process>
              <process-name>:AO-AD-HP_ServiceManager:Utilities:Configuration_Management:Create Configuration Item Utility</process-name>
              <parameters>
                <input>
                  <from>adapter name</from>
                  <to>adapter name</to>
                </input>
                <input>
                  <from>items</from>
                  <to>items</to>
                </input>
                <input>
                  <from>connection parameters</from>
                  <to>connection parameters</to>
                </input>
                <output>
                  <from>adapter response</from>
                  <to>adapter response</to>
                </output>
              </parameters>
              <meta>
                <documentation />
                <run-mode-handling>
                  <run-mode>OCP</run-mode>
                  <allow-step-into>false</allow-step-into>
                </run-mode-handling>
                <checkpoint>false</checkpoint>
              </meta>
              <location>:switch[1]:sequence[2]:call-process[1]</location>
            </call-process>
          </sequence>
        </case>
        <location>:switch[1]</location>
      </switch>
    </sequence>
    <meta>
      <expose-to>
        <consumer>RULE</consumer>
        <consumer>SCHEDULE</consumer>
      </expose-to>
      <documentation>
        <description>
This wrapper creates 'Installed Software'.</description>
        <version>1.0</version>
      </documentation>
      <peer-location>
        <location>any</location>
      </peer-location>
      <record-metrics>false</record-metrics>
      <process-id>24ebee8a-0bc1-38ee-bfc3-662647ca604d</process-id>
      <author />
      <category />
      <status />
      <keywords />
      <systems />
      <last-modified-by />
      <last-modified>1290594339830</last-modified>
    </meta>
  </process-def>
</process>