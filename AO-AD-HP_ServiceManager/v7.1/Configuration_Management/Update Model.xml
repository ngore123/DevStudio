<process draft="false" dev-studio-version="7.6.01.02">
  <process-def name=":AO-AD-HP_ServiceManager:v7.1:Configuration_Management:Update Model">
    <parameters>
      <input global="false" required="false">
        <description>The name of the adapter to use to handle the request. Default adapter name: HPSMActor.</description>
        <from>adapter name</from>
        <to>adapter name</to>
      </input>
      <input global="false" required="true">
        <description>The items for the adapter request. This should be an XML document with a root element named "items" having a child "item", which should contain the data necessary to execute the specific request. 

Update Model

This wrapper updates Model record. The application saves this record into its repository which can later be used.

Sample Item Xml:

&lt;items&gt;
	&lt;item&gt;
		&lt;operation-name&gt;update-model&lt;/operation-name&gt;
		&lt;model&gt;
		  &lt;keys&gt;
			&lt;part-number&gt;
			  &lt;value&gt;MyPartNumber1&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/part-number&gt;
		  &lt;/keys&gt;
		  &lt;instance&gt;
			&lt;part-number&gt;
			  &lt;value&gt;MyPartNumber1&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/part-number&gt;
			&lt;manufacturer&gt;
			  &lt;value&gt;Internal&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/manufacturer&gt;
			&lt;model&gt;
			  &lt;value&gt;model-updated&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/model&gt;
			&lt;category&gt;
			  &lt;value&gt;Office Move&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/category&gt;
			&lt;description&gt;
			  &lt;type&gt;Array&lt;/type&gt;
			  &lt;description&gt;
				&lt;element&gt;
				  &lt;value&gt;description line1&lt;/value&gt;
				  &lt;type&gt;String&lt;/type&gt;
				&lt;/element&gt;				
				&lt;element&gt;
				  &lt;value&gt;description line2&lt;/value&gt;
				  &lt;type&gt;String&lt;/type&gt;
				&lt;/element&gt;
			  &lt;/description&gt;
			&lt;/description&gt;
			&lt;brief-description&gt;
			  &lt;value&gt;brief description&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/brief-description&gt;
			
			&lt;installed-quantity&gt;
			  &lt;value&gt;1&lt;/value&gt;
			  &lt;type&gt;Decimal&lt;/type&gt;
			&lt;/installed-quantity&gt;
			&lt;quantity-available&gt;
			  &lt;value&gt;2&lt;/value&gt;
			  &lt;type&gt;Decimal&lt;/type&gt;
			&lt;/quantity-available&gt;
			&lt;quantity-on-order&gt;
			  &lt;value&gt;3&lt;/value&gt;
			  &lt;type&gt;Decimal&lt;/type&gt;
			&lt;/quantity-on-order&gt;
			&lt;min-order-amount&gt;
			  &lt;value&gt;4&lt;/value&gt;
			  &lt;type&gt;Decimal&lt;/type&gt;
			&lt;/min-order-amount&gt;
			&lt;max-order-amount&gt;
			  &lt;value&gt;5&lt;/value&gt;
			  &lt;type&gt;Decimal&lt;/type&gt;
			&lt;/max-order-amount&gt;
			&lt;order-lot-size&gt;
			  &lt;value&gt;6&lt;/value&gt;
			  &lt;type&gt;Decimal&lt;/type&gt;
			&lt;/order-lot-size&gt;
			&lt;quantity-received&gt;
			  &lt;value&gt;7&lt;/value&gt;
			  &lt;type&gt;Decimal&lt;/type&gt;
			&lt;/quantity-received&gt;
			&lt;quantity-reserved&gt;
			  &lt;value&gt;8&lt;/value&gt;
			  &lt;type&gt;Decimal&lt;/type&gt;
			&lt;/quantity-reserved&gt;
			&lt;quantity-on-request&gt;
			  &lt;value&gt;9&lt;/value&gt;
			  &lt;type&gt;Decimal&lt;/type&gt;
			&lt;/quantity-on-request&gt;
			&lt;quantity-unavailable&gt;
			  &lt;value&gt;10&lt;/value&gt;
			  &lt;type&gt;Decimal&lt;/type&gt;
			&lt;/quantity-unavailable&gt;
			&lt;default-priority&gt;
			  &lt;value&gt;11&lt;/value&gt;
			  &lt;type&gt;Decimal&lt;/type&gt;
			&lt;/default-priority&gt;
			&lt;default-quantity&gt;
			  &lt;value&gt;12&lt;/value&gt;
			  &lt;type&gt;Decimal&lt;/type&gt;
			&lt;/default-quantity&gt;
			&lt;quantity-back-ordered&gt;
			  &lt;value&gt;13&lt;/value&gt;
			  &lt;type&gt;Decimal&lt;/type&gt;
			&lt;/quantity-back-ordered&gt;
			&lt;cost&gt;
			  &lt;value&gt;14&lt;/value&gt;
			  &lt;type&gt;Decimal&lt;/type&gt;
			&lt;/cost&gt;
			&lt;material-group&gt;
			  &lt;value&gt;material group&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/material-group&gt;
			&lt;GLNumber&gt;
			  &lt;value&gt;GLNumber&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/GLNumber&gt;
			&lt;g-l-number&gt;
			  &lt;value&gt;g l Number&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/g-l-number&gt;
		  &lt;/instance&gt;
		&lt;/model&gt;
	&lt;/item&gt;
&lt;/items&gt; 


Elements’ Description:

Update Process takes place in following manner-

The record is first selected (located) by the information provided in the &lt;keys&gt; element. Essentially, you populate &lt;keys&gt; element with valid key elements otherwise the record wouldn’t be located. 

Once the record is located properly, the fields are updated by the information provided in &lt;instance&gt; element. That is, the respective fields of located record are replaced by the elements’ values that are provided in &lt;instance&gt; element.

NOTE: While locating a record, complete matching of key is required. This means if you give key value to be “abc” and there is a record in the application repository which has key element as “abc123” then this record wouldn’t be located for the update (compare with Find Wrappers.)
 
Modification/Update in located record is done in following manner-

Suppose an random element with name &lt;random-element&gt; which has an 'fieldValue1'. i.e. on retrieving, we'll get.

&lt;instance&gt;
	...
	...
	
	&lt;random-element&gt;
		&lt;value&gt;fieldValue1&lt;/value&gt;
		&lt;type&gt;fieldType&lt;type&gt;
	&lt;/random-element&gt;
	...
	...
&lt;/instance&gt;

Now see following cases of updation-


Case-1:
&lt;instance&gt;
&lt;/instance&gt;

i.e., we don't provide even the element &lt;random-element&gt;
Result: the field get ignored, i.e. not updated.

Case-2:
&lt;instance&gt;
	&lt;random-element&gt;
		&lt;value&gt;&lt;/value&gt;
		&lt;type&gt;fieldType&lt;type&gt;
	&lt;/random-element&gt;
&lt;/instance&gt;

i.e., we don't provide anything inside &lt;value&gt; element (child of element &lt;random-element&gt;.)
Result: the field get ignored, i.e. not updated.

Case-3:
&lt;instance&gt;
	&lt;random-element&gt;
		&lt;value&gt; &lt;/value&gt;
		&lt;type&gt;fieldType&lt;type&gt;
	&lt;/random-element&gt;
&lt;/instance&gt;

i.e., we provide an space character " " (or more contiguous space characters, like "   ") inside &lt;value&gt; element (child of element &lt;random-element&gt;.)
Result: the field get's updated, and the field &lt;random-elements&gt; is set to blank ""(compare with space character " ".)


Case-4:
&lt;instance&gt;
	&lt;random-element&gt;
		&lt;value&gt;fieldValue2&lt;/value&gt;
		&lt;type&gt;fieldType&lt;type&gt;
	&lt;/random-element&gt;
&lt;/instance&gt;

i.e., we provide "fieldValue2" inside &lt;value&gt; element (child of element &lt;random-element&gt;.)
Result: the value "fieldValue2" is set to field of &lt;random-element&gt;. 



NOTE: One can update the key elements too.

Complete Elements’ Description: 

item [Required]:
	This is a child of &lt;items&gt;. This &lt;item&gt; tag can be multiple times to support "multiple items support". 

operation-name [Required]: 

	This shows which operation you want to perform.

	Valid values:
&lt;operation-name&gt;update-model&lt;/operation-name&gt; is valid operation name element.

model [Required]: It is the parent tag for containing all other tags.
	 
keys [Required] : Specifies the unique identifier of a record. The tag &lt;part-number&gt; must be used as the key. 

Note : If you leave out the fields inside the &lt;keys&gt; element, the application will try to find &lt;part-number&gt; in the &lt;instance&gt; element. Provide the values for &lt;part-number&gt;, either in the &lt;keys&gt; element or in the &lt;instance&gt; element. You can also provide these values in both elements.

Instance [Required] :
It can have many children. The children of this element describe fields of 	a record.


Part-number[Required]: the part number for the model. 

	Name of this element in the application: General &gt; Part No. 
	
	Valid Values: Any string. 

Manufacturer [Optional]: The manufacturer name. 

	Name of this element in the application: General &gt; Manufacturer. 

	Valid Values: 
	ACME
	AT&amp;T Systems
	Adobe Systems
	Advanced Systems
	BizTrain
	Casio
	Cisco Systems
	Compaq
	Computer Clearance
	DEC
	Decision One
	Epson
	Hewlett-Packard
	Hewlett-Packard
	IBM France
	IBM Germany
	IBM North America
	IBM United Kingdom
	Install Group
	Intel
	Internal
	Internal Access
	Iomega
	Linksys
	Logitech
	Lotus
	Microsoft - CA
	Microsoft - WA
	Microsoft Corp.
	Microsoft Corporation
	NCR corporation
	Nokia
	Office Depot
	Oracle Corporation
	Pacific Bell
	Palm, Inc.
	Panasonic
	Paradyne
	Quantum
	SAP
	Sales Force
	Seagate
	Sony
	Staples
	Steelcase
	Symantec
	Symantec
	Telex
	Texas Instruments
	Toshiba
	Viewsonic
	Vodafone
	WinRar
	Xerox

	Note : The above given Manufacturer can be added/updated and deleted using the application.
		
Model [Optional]: The Model info. 

	Name of this element in the application: General &gt; Model.
	
	Valid Values: Any string.

Category[Optional]: The category information. 

	Name of this element in the application: Catalog &gt; LI Category. 

	Valid Values: 
	Chairs
	Changes
	Changes to Lines
	Computer Accessories
	Computer Components
	Computers and Related
	Contractor Conversion
	Corporate
	Corporate Security
	Corporate Telecom
	Corporate Telecom PKG
	Desks
	Desktop
	Desktop Packages
	Desktops
	Employee Change
	Employee Office Move
	Employee Promotion
	Employee Termination
	Employee Transfer
	Furniture
	HR Tasks
	Handheld And PDAs
	Hardware
	Hardware Upgrade
	Human Resources
	PC
	etc.
	
	Note : The above given Categories can be added/updated and deleted using the application.

Description[Optional]: The description. It's an array type element. An array type element is looks like-

	Note : This field is not available on GUI for Create Model Screen.

&lt;array-type-element&gt;
	&lt;type&gt;array&lt;/type&gt;
	&lt;array-type-element&gt;

		&lt;!-- here multiple children can exist. each with name "element" --&gt;
		&lt;element&gt;&lt;/element&gt;
		&lt;element&gt;&lt;/element&gt;
		&lt;element&gt;&lt;/element&gt;
		...

	&lt;/array-type-element&gt;
&lt;/array-type-element&gt;
	
Element[Optional]: This shows one line in the description filed. 

	Name of these element in the application: General &gt; Detailed Description. 

	Valid Values: Any string.

Brief-description [Optional]: The brief description. 

	Name of this field in the application: General &gt; Brief Description. 

	Valid Values: Any string. 

Installed-quantity[Optional]: Number of installed quantity. 

	Name of this field in the application: Current Quantities &gt; Total &gt; Installed. 

	Valid Values: Any decimal Value.

	Default Value: 0
	
	Note : This field is not available on GUI for Create Model Screen.

quantity-available [Optional]: The available quantity. 
	
	Name of this field in the application: Current  Quantities &gt; Total &gt; Available

	Valid Values: Any decimal value.

	Default Value: 0
	
	Note : This field is not available on GUI for Create Model Screen.

quantity-on-order [Optional]: The quantities which are in order. 

	Name of this field in the application: Current Quantities &gt; Total &gt; On Order. 
	
	Valid Values: Any decimal value. 

	Default Value: 0
	
	Note : This field is not available on GUI for Create Model Screen.

min-order-amount[Optional]: the minimum order amount. 

	Name of this element in the application: Reorder &gt; Min. Ord. Amount. 
	
	Valid Values: Any decimal value.
	
	Default Value: 0
	
	Note : This field is not available on GUI for Create Model Screen.

max-order-amount[Optional]: The max order amount. 

	Name of this element in the application: Reorder &gt; Max Ord. Amount. 

	Valid Values: Any decimal value.

	Default Value: 0
	
	Note : This field is not available on GUI for Create Model Screen.

order-lot-size[Optional]: The order lot size. 

	Name of this element in the application: Reorder &gt; Lot Size (Ord.)

	Valid Values: Any decimal value.

	Default Value: 0
	
	Note : This field is not available on GUI for Create Model Screen.

quantity-received[Optional]: Number of received quantities. 

	Name of this element in the application: Current Quantities &gt; Total &gt; Received. 

	Valid Values: Any decimal value.

	Default Value: 0
	
	Note : This field is not available on GUI for Create Model Screen.

quantity-reserved[Optional]: Number of reserved quantities.

	Name of this element in the application: Current Quantities &gt; Total &gt;  Reserved. 

	Valid Values: Any decimal value.

	Default Value: 0
	
	Note : This field is not available on GUI for Create Model Screen.
		
quantity-on-request[Optional]: Number of quantities available on request

	Name of this element in the application:  Current Quantities &gt; Total &gt;  On Request. 

	Valid Values: Any decimal value.

	Valid Value: 0
	
	Note : This field is not available on GUI for Create Model Screen.

quantity-unavailable[Optional]: Number of quantities unavailable. 

	Name of this element in the application: Current Quantities &gt; Total &gt; Unavailable. 

	Valid Values: Any decimal value.

	Default Value: 0
	
	Note : This field is not available on GUI for Create Model Screen.

default-priority[Optional]: The default priority. 

	Name of this element in the application: General &gt; Default Priority.

	Valid Values: Any decimal value.

default-quantity[Optional]: The default quantities count. 
	
	Name of this element in the application: General &gt; Default quantities. 

	Valid Values: Any decimal value.

quantity-back-ordered[Optional]: The number of back ordered quantities. 

	Name of this element in the application: Current Quantities &gt; Total &gt; Backordered.

	Valid Values: Any decimal value.

	Default Value: 0

	Note : This field is not available on GUI for Create Model Screen.

cost[Optional]: The cost for the Model. 
	
	Name of this element in the application: General &gt; Cost.

	Valid Values: Any decimal value. 

material-group[Optional]: the group of material. 

	Name of this element in the application: Reorder &gt; Material Group.

	Valid Values: Any string. 
	
	Note : This field is not available on GUI for Create Model Screen.
	
GLNumber[Optional]: GL Number. 

Name of this element in the application: it’s referring (with only read permission) to the same field which is referred by &lt;g-l-number&gt; element. 

	Valid Values: Any string. 
	
g-l-number[Optional]: The GL number. 

	Name of this element in the application: General &gt; GL Number. 

	Valid Values: Any string. 
</description>
        <from>items</from>
        <to>items</to>
      </input>
      <input global="false" required="false">
        <description>Provide username/password in form of xml. 

This input parameter is required when the user wants to override the default values for username and password provided in the adapter configuration. This is required for cases where an operation cannot be executed with the default username/password provided in the adapter configuration and only user with special permissions can execute the operation. Examples of such operations can be - 'approve-change', 'deny-change', 'close-change', 'approve-task'

Sample XML Format: 

&lt;connection-parameters&gt;
	&lt;alternate-username&gt;USERNAME&lt;/alternate-username&gt;
	&lt;alternate-password&gt;PASSWORD&lt;/alternate-password&gt;
&lt;/connection-parameters&gt;</description>
        <from>connection parameters</from>
        <to>connection parameters</to>
      </input>
      <output global="false" required="false">
        <description>The adapter response containing the results. </description>
        <to>adapter response</to>
        <from>adapter response</from>
      </output>
    </parameters>
    <access />
    <sequence>
      <switch>
        <meta>
          <documentation />
          <run-mode-handling>
            <run-mode>OCP</run-mode>
            <allow-step-into>true</allow-step-into>
          </run-mode-handling>
          <checkpoint>false</checkpoint>
        </meta>
        <execute-all-applicable-cases>false</execute-all-applicable-cases>
        <default>
          <sequence>
            <call-process>
              <process-name>:AO-AD-HP_ServiceManager:Utilities:Operation Name Error Reporting</process-name>
              <parameters>
                <input>
                  <value>update-model</value>
                  <to>operation name</to>
                </input>
                <input>
                  <from>items</from>
                  <to>items</to>
                </input>
              </parameters>
              <meta>
                <documentation />
                <run-mode-handling>
                  <run-mode>OCP</run-mode>
                  <allow-step-into>false</allow-step-into>
                </run-mode-handling>
                <checkpoint>false</checkpoint>
              </meta>
              <location>:switch[1]:sequence[1]:call-process[1]</location>
            </call-process>
          </sequence>
        </default>
        <case>
          <condition>
            <document>
              <input>
                <from>items</from>
              </input>
            </document>
            <xpath-expression>
              <xpath-replacement-tokens />
              <xpath><![CDATA[(//operation-name)[1]/text() = 'update-model']]></xpath>
            </xpath-expression>
          </condition>
          <sequence>
            <assign>
              <assignment>
                <document>
                  <input>
                    <from>items</from>
                  </input>
                </document>
                <result>
                  <output>
                    <to>items</to>
                  </output>
                </result>
                <xslt-stylesheet>
                  <stylesheet-replacement-tokens />
                  <stylesheet><![CDATA[<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
  <xsl:output indent="no" />
  <xsl:template match="/">
    <items>
      <xsl:for-each select="//item">
        <item>
          <entity-type>
            <xsl:text disable-output-escaping="no">model</xsl:text>
          </entity-type>
          <xsl:copy-of select="./*" />
        </item>
      </xsl:for-each>
    </items>
  </xsl:template>
</xsl:stylesheet>]]></stylesheet>
                </xslt-stylesheet>
              </assignment>
              <meta>
                <documentation />
                <checkpoint>false</checkpoint>
              </meta>
              <location>:switch[1]:sequence[2]:assign[1]</location>
            </assign>
            <call-process>
              <process-name>:AO-AD-HP_ServiceManager:Utilities:Configuration_Management:Update Configuration Item Utility</process-name>
              <parameters>
                <input>
                  <from>adapter name</from>
                  <to>adapter name</to>
                </input>
                <input>
                  <from>items</from>
                  <to>items</to>
                </input>
                <input>
                  <from>connection parameters</from>
                  <to>connection parameters</to>
                </input>
                <output>
                  <from>adapter response</from>
                  <to>adapter response</to>
                </output>
              </parameters>
              <meta>
                <documentation />
                <run-mode-handling>
                  <run-mode>OCP</run-mode>
                  <allow-step-into>false</allow-step-into>
                </run-mode-handling>
                <checkpoint>false</checkpoint>
              </meta>
              <location>:switch[1]:sequence[2]:call-process[1]</location>
            </call-process>
          </sequence>
        </case>
        <location>:switch[1]</location>
      </switch>
    </sequence>
    <meta>
      <expose-to>
        <consumer>RULE</consumer>
        <consumer>SCHEDULE</consumer>
      </expose-to>
      <documentation>
        <description>Update Model

This wrapper updates Model record. The application saves this record into its repository which can later be used.

</description>
        <version>1.0</version>
      </documentation>
      <peer-location>
        <location>any</location>
      </peer-location>
      <record-metrics>false</record-metrics>
      <process-id>b1b6a5b2-50fd-3881-b42d-0cecb2788e38</process-id>
      <author />
      <category />
      <status />
      <keywords />
      <systems />
      <last-modified-by />
      <last-modified>1290594392877</last-modified>
    </meta>
  </process-def>
</process>