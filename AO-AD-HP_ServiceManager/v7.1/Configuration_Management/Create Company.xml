<process draft="false" dev-studio-version="7.6.01.02">
  <process-def name=":AO-AD-HP_ServiceManager:v7.1:Configuration_Management:Create Company">
    <parameters>
      <input global="false" required="false">
        <description>The name of the adapter to use to handle the request. Default adapter name: HPSMActor.</description>
        <from>adapter name</from>
        <to>adapter name</to>
      </input>
      <input global="false" required="true">
        <description>The items for the adapter request. This should be an XML document with a root element named "items" having a children "item" (to support multiple item support, we give "item" multiple times), which should contain the data necessary to execute the specific request. 

Create Company

This wrapper creates company record in the application. 

Sample Item Xml: 

&lt;items&gt;
	&lt;item&gt;
		&lt;operation-name&gt;create-company&lt;/operation-name&gt;
		&lt;model&gt;
		  &lt;keys&gt;
		  &lt;/keys&gt;
		  &lt;instance&gt;
			&lt;customer-since&gt;
			  &lt;value&gt;2008.11.01 08:00:00&lt;/value&gt;
			  &lt;type&gt;DateTime&lt;/type&gt;
			&lt;/customer-since&gt;
			&lt;customer-i-d&gt;
			  &lt;value&gt;CustomerID10&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/customer-i-d&gt;
			&lt;company-code&gt;
			  &lt;value&gt;Company Code&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/company-code&gt;
			&lt;address-line1&gt;
			  &lt;value&gt;Address&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/address-line1&gt;
			&lt;city&gt;
			  &lt;value&gt;City&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/city&gt;
			&lt;state&gt;
			  &lt;value&gt;State&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/state&gt;
			&lt;country&gt;
			  &lt;value&gt;Country&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/country&gt;
			&lt;zip-code&gt;
			  &lt;value&gt;Post&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/zip-code&gt;
			&lt;phone-number&gt;
			  &lt;value&gt;Phone Number&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/phone-number&gt;
			&lt;fax-number&gt;
			  &lt;value&gt;Fax Number&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/fax-number&gt;
			&lt;service-manager&gt;
			  &lt;value&gt;Service Manager&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/service-manager&gt;
			&lt;service-delivery-manager&gt;
			  &lt;value&gt;Service Delivery Manager&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/service-delivery-manager&gt;
			&lt;company-name&gt;
			  &lt;value&gt;Company Name&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/company-name&gt;
			&lt;default-s-l-a&gt;
			  &lt;value&gt;155&lt;/value&gt;
			  &lt;type&gt;Int&lt;/type&gt;
			&lt;/default-s-l-a&gt;
		  &lt;/instance&gt;
		&lt;/model&gt;	
	&lt;/item&gt;
&lt;/items&gt;
Elements’ Description: 

The elements provided in the instance element refer to particular field of the record. We create an instance of this record by providing information in the &lt;value&gt; elements.

NOTE: Application has pre-defined key elements. The elements given in the &lt;keys&gt; element are not used. 

Complete Elements’ Description: 

NOTE: To create a company record, you require at least &lt;customer-i-d&gt; and &lt;company-code&gt; to be populated properly. See the bold elements in this “Elements’ Description”.


item [Required]:
	This is a child of &lt;items&gt;. This &lt;item&gt; tag can be multiple times to support "multiple items support". 

operation-name [Required]: 

	This is used to specify the operation that needs to be performed.

	Valid values:
&lt;operation-name&gt;create-company&lt;/operation-name&gt; is valid operation name element.

model [Required]: It is the parent tag for containing all other tags.
	 
keys [Required]: used to search for the record with the elements inside it.

 Instance [Required] :
It can have many children. The children of this element describe fields of 	a record.

Customer-since[Optional] :  The date-time since what the customer exists.
	
	Valid Value: any input in ‘DateTime’ format. This format is- 
	YYYY.MM.DD HH:MM:SS
	YYYY -&gt; Year
	MM -&gt; Month
	DD -&gt; Date
	HH -&gt; Hours (24 hours system)
	MM -&gt; Minutes
	SS -&gt; Seconds.

	Example,

2008.11.01 08:00:00

Name of  this element in the application:  “Customer Since.”
	
	Default Value: “”

customer-i-d [Required]: Customer Id, used as key too. 
	
	Valid Value: Any String.

Name of  this element in the application:  “Customer ID.”

Default Value: None. If no value is provided, a record will not be created.

Company-code [Required]: Code of company.
	
	Valid Values : Any String.

Name of  this element in the application:  “Company code.”

Default Value: None. If no value is provided, a record will not be created.

Address-line [Optional] : Address.

	Valid Values : Any string.
Name of  this element in the application:  “Address.”

	Default Value: “”

City [Optional] : City of the company.
	
	Valid Values : Any string.
Name of  this element in the application: first field of  “City/State/Post Code.”

	Default Value: “”

State [Optional] : State name.
	
	Valid Values: Any string.
Name of  this element in the application:  Second field of “City/State/Post Code.”

	Default Value: “”

Country [Optional] : Country.
	
	Valid Values: Any string. 
Name of  this element in the application: “Country.”
	
Default Value: “”

Zip-code [Optional] : zip code.

	Valid Values: Any string.
Name of  this element in the application:  Third field of “City/State/Post Code.”
	
Default Value: “”

Phone-number [Optional] : phone number.

	Valid Values: Any string.	
Name of  this element in the application:   “Phone Number.”
	
Default Value: “”


Fax-number [Optional] : Fax Number.

	Valid Values: Any string.
Name of  this element in the application:   “Fax Number.”
	
Default Value: “”
	
 Service-manager [Optional] : Service manager.

	Valid Values: Any String.
Name of  this element in the application:  “Service Manager.”

	Default Value: “”

Service-delivery-manager [Optional] : Service delivery manager. 

	Valid Values: Any string.
Name of  this element in the application:   “Service Delivery Manager.”

	Default Value: “”

Company-name [Optional] : Company name.

	Valid Values: Any string.
Name of  this element in the application:   “Company Name.”

Default Value: “”

Default-s-l-a [Optional] : Default SLA.

Name of  this element in the application:   “Default SLA for Company.”
	
	Valid Values: Any integer. For example “155”. (application specific nature.) 
	
	Default Value: “”
</description>
        <from>items</from>
        <to>items</to>
      </input>
      <input global="false" required="false">
        <description>Provide username/password in form of xml. 

This input parameter is required when the user wants to override the default values for username and password provided in the adapter configuration. This is required for cases where an operation cannot be executed with the default username/password provided in the adapter configuration and only user with special permissions can execute the operation. Examples of such operations can be - 'approve-change', 'deny-change', 'close-change', 'approve-task'

Sample XML Format: 

&lt;connection-parameters&gt;
	&lt;alternate-username&gt;USERNAME&lt;/alternate-username&gt;
	&lt;alternate-password&gt;PASSWORD&lt;/alternate-password&gt;
&lt;/connection-parameters&gt;</description>
        <from>connection parameters</from>
        <to>connection parameters</to>
      </input>
      <output global="false" required="false">
        <description>The adapter response containing the results. </description>
        <to>adapter response</to>
        <from>adapter response</from>
      </output>
    </parameters>
    <access />
    <sequence>
      <switch>
        <meta>
          <documentation />
          <run-mode-handling>
            <run-mode>OCP</run-mode>
            <allow-step-into>true</allow-step-into>
          </run-mode-handling>
          <checkpoint>false</checkpoint>
        </meta>
        <execute-all-applicable-cases>false</execute-all-applicable-cases>
        <default>
          <sequence>
            <call-process>
              <process-name>:AO-AD-HP_ServiceManager:Utilities:Operation Name Error Reporting</process-name>
              <parameters>
                <input>
                  <value>create-company</value>
                  <to>operation name</to>
                </input>
                <input>
                  <from>items</from>
                  <to>items</to>
                </input>
              </parameters>
              <meta>
                <documentation />
                <run-mode-handling>
                  <run-mode>OCP</run-mode>
                  <allow-step-into>false</allow-step-into>
                </run-mode-handling>
                <checkpoint>false</checkpoint>
              </meta>
              <location>:switch[1]:sequence[1]:call-process[1]</location>
            </call-process>
          </sequence>
        </default>
        <case>
          <condition>
            <document>
              <input>
                <from>items</from>
              </input>
            </document>
            <xpath-expression>
              <xpath-replacement-tokens />
              <xpath><![CDATA[(//operation-name)[1]/text() = 'create-company']]></xpath>
            </xpath-expression>
          </condition>
          <sequence>
            <assign>
              <assignment>
                <document>
                  <input>
                    <from>items</from>
                  </input>
                </document>
                <result>
                  <output>
                    <to>items</to>
                  </output>
                </result>
                <xslt-stylesheet>
                  <stylesheet-replacement-tokens />
                  <stylesheet><![CDATA[<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
  <xsl:output indent="no" />
  <xsl:template match="/">
    <items>
      <xsl:for-each select="//item">
        <item>
          <entity-type>
            <xsl:text disable-output-escaping="no">company</xsl:text>
          </entity-type>
          <xsl:copy-of select="./*" />
        </item>
      </xsl:for-each>
    </items>
  </xsl:template>
</xsl:stylesheet>]]></stylesheet>
                </xslt-stylesheet>
              </assignment>
              <meta>
                <documentation />
                <checkpoint>false</checkpoint>
              </meta>
              <location>:switch[1]:sequence[2]:assign[1]</location>
            </assign>
            <call-process>
              <process-name>:AO-AD-HP_ServiceManager:Utilities:Configuration_Management:Create Configuration Item Utility</process-name>
              <parameters>
                <input>
                  <from>adapter name</from>
                  <to>adapter name</to>
                </input>
                <input>
                  <from>items</from>
                  <to>items</to>
                </input>
                <input>
                  <from>connection parameters</from>
                  <to>connection parameters</to>
                </input>
                <output>
                  <from>adapter response</from>
                  <to>adapter response</to>
                </output>
              </parameters>
              <meta>
                <documentation />
                <run-mode-handling>
                  <run-mode>OCP</run-mode>
                  <allow-step-into>false</allow-step-into>
                </run-mode-handling>
                <checkpoint>false</checkpoint>
              </meta>
              <location>:switch[1]:sequence[2]:call-process[1]</location>
            </call-process>
          </sequence>
        </case>
        <location>:switch[1]</location>
      </switch>
    </sequence>
    <meta>
      <expose-to>
        <consumer>RULE</consumer>
        <consumer>SCHEDULE</consumer>
      </expose-to>
      <documentation>
        <description>Create Company

This wrapper creates company record </description>
        <version>1.0</version>
      </documentation>
      <peer-location>
        <location>any</location>
      </peer-location>
      <record-metrics>false</record-metrics>
      <process-id>87cecc3e-28fe-3955-abd3-d66593fe16a2</process-id>
      <author />
      <category />
      <status />
      <keywords />
      <systems />
      <last-modified-by />
      <last-modified>1290594332596</last-modified>
    </meta>
  </process-def>
</process>