<process draft="false" dev-studio-version="7.6.01.02">
  <process-def name=":AO-AD-HP_ServiceManager:v7.1:Configuration_Management:Find Configuration Item">
    <parameters>
      <input global="false" required="false">
        <description>The name of the adapter to use to handle the request. Default adapter name: HPSMActor.</description>
        <from>adapter name</from>
        <to>adapter name</to>
      </input>
      <input global="false" required="true">
        <description>Find Configuration Item  

Itâ€™s a generic wrapper, capable of retrieving (finding) any configuration item record.


Following is an example to retrieve a "company" record (belongs to configuration item group.) 

Note: User should provide the configuration item to be retrieved, like company, computer, furnishings, displaydevice, device etc. in current case we're retrieving a "company" record.

Note: element &lt;entity-type&gt; is mandatory element. 

Reference for  entity-type:
company, computer, contact, department, device, display-device, furnishing, handheld-device, installed-software, location, mainframe, model, network-device, office-electronic, software-license, storage-device, telecommunication-device, vendor.

(For detailed descriptions of all elements, refer to "find-company" wrapper description.)

&lt;items&gt;
	&lt;item&gt;
		&lt;entity-type&gt;company&lt;/entity-type&gt;
		&lt;operation-name&gt;retrieve-company&lt;/operation-name&gt;
		&lt;model&gt;
		  &lt;keys&gt;
		  &lt;/keys&gt;
		  &lt;instance&gt;
			&lt;customer-since&gt;
			  &lt;value&gt;2008.11.01 08:00:00&lt;/value&gt;
			  &lt;type&gt;DateTime&lt;/type&gt;
			&lt;/customer-since&gt;
			&lt;customer-i-d&gt;
			  &lt;value&gt;CustomerID10&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/customer-i-d&gt;
			&lt;company-code&gt;
			  &lt;value&gt;Company Code&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/company-code&gt;
			&lt;address-line1&gt;
			  &lt;value&gt;Address&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/address-line1&gt;
			&lt;city&gt;
			  &lt;value&gt;City&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/city&gt;
			&lt;state&gt;
			  &lt;value&gt;State&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/state&gt;
			&lt;country&gt;
			  &lt;value&gt;Country&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/country&gt;
			&lt;zip-code&gt;
			  &lt;value&gt;Post&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/zip-code&gt;
			&lt;phone-number&gt;
			  &lt;value&gt;Phone Number&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/phone-number&gt;
			&lt;fax-number&gt;
			  &lt;value&gt;Fax Number&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/fax-number&gt;
			&lt;service-manager&gt;
			  &lt;value&gt;Servcei Manager&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/service-manager&gt;
			&lt;service-delivery-manager&gt;
			  &lt;value&gt;Service Delivery Manager&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/service-delivery-manager&gt;
			&lt;company-name&gt;
			  &lt;value&gt;Company Name&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/company-name&gt;
			&lt;default-s-l-a&gt;
			  &lt;value&gt;155&lt;/value&gt;
			  &lt;type&gt;Int&lt;/type&gt;
			&lt;/default-s-l-a&gt;
		  &lt;/instance&gt;
		&lt;/model&gt;	
	&lt;/item&gt;
&lt;/items&gt;
</description>
        <from>items</from>
        <to>items</to>
      </input>
      <input global="false" required="false">
        <description>Provide username/password in form of xml. 

This input parameter is required when the user wants to override the default values for username and password provided in the adapter configuration. This is required for cases where an operation cannot be executed with the default username/password provided in the adapter configuration and only user with special permissions can execute the operation. Examples of such operations can be - 'approve-change', 'deny-change', 'close-change', 'approve-task'

Sample XML Format: 

&lt;connection-parameters&gt;
	&lt;alternate-username&gt;USERNAME&lt;/alternate-username&gt;
	&lt;alternate-password&gt;PASSWORD&lt;/alternate-password&gt;
&lt;/connection-parameters&gt;</description>
        <from>connection parameters</from>
        <to>connection parameters</to>
      </input>
      <output global="false" required="false">
        <to>adapter response</to>
        <from>adapter response</from>
      </output>
    </parameters>
    <access />
    <sequence>
      <switch>
        <meta>
          <documentation />
          <run-mode-handling>
            <run-mode>OCP</run-mode>
            <allow-step-into>true</allow-step-into>
          </run-mode-handling>
          <checkpoint>false</checkpoint>
        </meta>
        <execute-all-applicable-cases>false</execute-all-applicable-cases>
        <default>
          <sequence>
            <call-process>
              <process-name>:AO-AD-HP_ServiceManager:Utilities:Entity type Error Reporting</process-name>
              <parameters>
                <input>
                  <from>items</from>
                  <to>items</to>
                </input>
                <input>
                  <value>Any one element of the set {company, computer, contact, department, device, display-device, furnishing, handheld-device, installed-software, location, main-frame, model, network-device, office-electronic, software-license, storage-device, telecommunication-device, vendor}.</value>
                  <to>entity type</to>
                </input>
              </parameters>
              <meta>
                <documentation />
                <run-mode-handling>
                  <run-mode>OCP</run-mode>
                  <allow-step-into>false</allow-step-into>
                </run-mode-handling>
                <checkpoint>false</checkpoint>
              </meta>
              <location>:switch[1]:sequence[1]:call-process[1]</location>
            </call-process>
          </sequence>
        </default>
        <case>
          <condition>
            <document>
              <input>
                <from>items</from>
              </input>
            </document>
            <xpath-expression>
              <xpath-replacement-tokens />
              <xpath><![CDATA[contains( "company,computer,contact,department,device,device,display-device,furnishing,handheld-device,installed-software,location,mainframe,model,network-device,office-electronic,software-license,storage-device,telecommunication-device,vendor,", concat(//entity-type/text(), ","))  and //entity-type/text() != "" and //operation-name/text() != "" and (contains(//operation-name/text(), //entity-type/text()) or (//entity-type/text() = 'handheld-device' and contains(//operation-name/text(), 'hand-held-device' )) or (//entity-type/text() = 'mainframe' and contains(//operation-name/text(), 'main-frame' )))]]></xpath>
            </xpath-expression>
          </condition>
          <sequence>
            <switch>
              <meta>
                <documentation />
                <run-mode-handling>
                  <run-mode>OCP</run-mode>
                  <allow-step-into>true</allow-step-into>
                </run-mode-handling>
                <checkpoint>false</checkpoint>
              </meta>
              <execute-all-applicable-cases>false</execute-all-applicable-cases>
              <default>
                <sequence>
                  <call-process>
                    <process-name>:AO-AD-HP_ServiceManager:Utilities:Operation Name Error Reporting</process-name>
                    <parameters>
                      <input>
                        <value>Any one element of the set {retrieve-company, retrieve-computer, retrieve-contact, retrieve-department, retrieve-device, retrieve-display-device, retrieve-furnishing, retrieve-hand-held-device, retrieve-installed-software, retrieve-location, retrieve-main-frame, retrieve-model, retrieve-network-device, retrieve-office-electronic, retrieve-software-license, retrieve-storage-device, retrieve-telecommunication-device, retrieve-vendor}</value>
                        <to>operation name</to>
                      </input>
                      <input>
                        <from>items</from>
                        <to>items</to>
                      </input>
                    </parameters>
                    <meta>
                      <documentation />
                      <run-mode-handling>
                        <run-mode>OCP</run-mode>
                        <allow-step-into>false</allow-step-into>
                      </run-mode-handling>
                      <checkpoint>false</checkpoint>
                    </meta>
                    <location>:switch[1]:sequence[2]:switch[1]:sequence[1]:call-process[1]</location>
                  </call-process>
                </sequence>
              </default>
              <case>
                <condition>
                  <document>
                    <input>
                      <from>items</from>
                    </input>
                  </document>
                  <xpath-expression>
                    <xpath-replacement-tokens />
                    <xpath><![CDATA[contains(//operation-name/text(), "retrieve")]]></xpath>
                  </xpath-expression>
                </condition>
                <sequence>
                  <call-process>
                    <process-name>:AO-AD-HP_ServiceManager:Utilities:Configuration_Management:Find Configuration Item Utility</process-name>
                    <parameters>
                      <input>
                        <from>adapter name</from>
                        <to>adapter name</to>
                      </input>
                      <input>
                        <from>items</from>
                        <to>items</to>
                      </input>
                      <input>
                        <from>connection parameters</from>
                        <to>connection parameters</to>
                      </input>
                      <output>
                        <from>adapter response</from>
                        <to>adapter response</to>
                      </output>
                    </parameters>
                    <meta>
                      <documentation />
                      <run-mode-handling>
                        <run-mode>OCP</run-mode>
                        <allow-step-into>false</allow-step-into>
                      </run-mode-handling>
                      <checkpoint>false</checkpoint>
                    </meta>
                    <location>:switch[1]:sequence[2]:switch[1]:sequence[2]:call-process[1]</location>
                  </call-process>
                </sequence>
              </case>
              <location>:switch[1]:sequence[2]:switch[1]</location>
            </switch>
          </sequence>
        </case>
        <location>:switch[1]</location>
      </switch>
    </sequence>
    <meta>
      <expose-to>
        <consumer>RULE</consumer>
        <consumer>SCHEDULE</consumer>
      </expose-to>
      <documentation>
        <description>Find Configuration Item

It's a generic wrapper to find (retrieve) following type of items:

1.	company
2.	computer
3.	contact
4.	department
5.	device
6.	display-device
7.	furnishing
8.	handheld device
9.	installed software
10.	location
11.	mainframe
12.	model
13.	network component
14.	office electronic
15.	software license
16.	storage device
17.	telecommunication device
18.	vendor</description>
        <version></version>
      </documentation>
      <peer-location>
        <location>any</location>
      </peer-location>
      <record-metrics>false</record-metrics>
      <process-id>85c05191-0b4a-3a46-8732-0bb10cc8a34c</process-id>
      <author />
      <category />
      <status />
      <keywords />
      <systems />
      <last-modified-by />
      <last-modified>1290594364487</last-modified>
    </meta>
  </process-def>
</process>