<process draft="false" dev-studio-version="8.0.00">
  <process-def name=":AutoPilot-AD-BMC_Atrium_CMDB:Update Items">
    <parameters>
      <input global="false" required="false">
        <description>adapter name    [Optional]
            The name of the adapter to use to handle the request. </description>
        <from>adapter name</from>
        <to>adapter name</to>
      </input>
      <input global="false" required="true">
        <description>version
             Identifies the version of BMC Atrium CMDB system. Currently "v2.0", "v2.1", "v7.5", "v7.6", "v8.0", "v8.1", "v9.0" and "v9.1" are supported.
</description>
        <from>version</from>
        <to>version</to>
      </input>
      <input global="false" required="true">
        <description>items
            The items to be updated. This should be an XML document with a root element named "items" having a child "item" which has a sub-child "parameters", which should contain the data necessary to update an item of the specified entity type. </description>
        <from>items</from>
        <to>items</to>
      </input>
      <input global="false" required="true">
        <description>item-type
          It is the value of the entity type, like configurationitem.  </description>
        <from>item type</from>
        <to>item type</to>
      </input>
      <output global="false" required="false">
        <description>The adapter response containing the results. </description>
        <to>adapter response</to>
        <from>adapter response</from>
      </output>
    </parameters>
    <access />
    <sequence>
      <switch>
        <meta>
          <documentation />
          <run-mode-handling>
            <run-mode>OCP</run-mode>
            <allow-step-into>true</allow-step-into>
          </run-mode-handling>
          <checkpoint>false</checkpoint>
        </meta>
        <execute-all-applicable-cases>false</execute-all-applicable-cases>
        <default>
          <sequence>
            <call-process>
              <process-name>:AutoPilot-AD-BMC_Atrium_CMDB:Utilities:Version Error Reporting</process-name>
              <meta>
                <documentation />
                <run-mode-handling>
                  <run-mode>OCP</run-mode>
                  <allow-step-into>false</allow-step-into>
                </run-mode-handling>
                <checkpoint>false</checkpoint>
              </meta>
              <location>:switch[1]:sequence[1]:call-process[1]</location>
            </call-process>
          </sequence>
        </default>
        <case>
          <condition>
            <document>
              <input>
                <from>version</from>
              </input>
            </document>
            <xpath-expression>
              <xpath-replacement-tokens />
              <xpath><![CDATA[text()='v2.0' or text()='v2.1']]></xpath>
            </xpath-expression>
          </condition>
          <sequence>
            <console-output>
              <type>INFO</type>
            </console-output>
            <switch>
              <meta>
                <documentation />
                <run-mode-handling>
                  <run-mode>OCP</run-mode>
                  <allow-step-into>true</allow-step-into>
                </run-mode-handling>
                <checkpoint>false</checkpoint>
              </meta>
              <execute-all-applicable-cases>false</execute-all-applicable-cases>
              <default>
                <sequence>
                  <call-process>
                    <process-name>:AutoPilot-AD-BMC_Atrium_CMDB:Utilities:Unsupported Entity Error</process-name>
                    <meta>
                      <documentation />
                      <run-mode-handling>
                        <run-mode>OCP</run-mode>
                        <allow-step-into>false</allow-step-into>
                      </run-mode-handling>
                      <checkpoint>false</checkpoint>
                    </meta>
                    <location>:switch[1]:sequence[2]:switch[1]:sequence[1]:call-process[1]</location>
                  </call-process>
                </sequence>
              </default>
              <case>
                <condition>
                  <document>
                    <input>
                      <from>item type</from>
                    </input>
                  </document>
                  <xpath-expression>
                    <xpath-replacement-tokens />
                    <xpath><![CDATA[text()='configurationitem']]></xpath>
                  </xpath-expression>
                </condition>
                <sequence>
                  <call-process>
                    <process-name>:AutoPilot-AD-BMC_Atrium_CMDB:v2.0:ConfigurationItem:Update Instance</process-name>
                    <parameters>
                      <input>
                        <from>adapter name</from>
                        <to>adapter name</to>
                      </input>
                      <input>
                        <from>items</from>
                        <to>items</to>
                      </input>
                      <output>
                        <from>collated adapter response</from>
                        <to>adapter response</to>
                      </output>
                    </parameters>
                    <meta>
                      <documentation />
                      <run-mode-handling>
                        <run-mode>OCP</run-mode>
                        <allow-step-into>false</allow-step-into>
                      </run-mode-handling>
                      <checkpoint>false</checkpoint>
                    </meta>
                    <location>:switch[1]:sequence[2]:switch[1]:sequence[2]:call-process[1]</location>
                  </call-process>
                </sequence>
              </case>
              <location>:switch[1]:sequence[2]:switch[1]</location>
            </switch>
          </sequence>
        </case>
        <case>
          <condition>
            <document>
              <input>
                <from>version</from>
              </input>
            </document>
            <xpath-expression>
              <xpath-replacement-tokens />
              <xpath><![CDATA[text()='v7.5' or text()='v7.6' or text()='v8.0' or text()='v8.1' or text()='v9.0' or text()='v9.1']]></xpath>
            </xpath-expression>
          </condition>
          <sequence>
            <console-output>
              <type>INFO</type>
            </console-output>
            <switch>
              <meta>
                <documentation />
                <run-mode-handling>
                  <run-mode>OCP</run-mode>
                  <allow-step-into>true</allow-step-into>
                </run-mode-handling>
                <checkpoint>false</checkpoint>
              </meta>
              <execute-all-applicable-cases>false</execute-all-applicable-cases>
              <default>
                <sequence>
                  <call-process>
                    <process-name>:AutoPilot-AD-BMC_Atrium_CMDB:Utilities:Unsupported Entity Error</process-name>
                    <meta>
                      <documentation />
                      <run-mode-handling>
                        <run-mode>OCP</run-mode>
                        <allow-step-into>false</allow-step-into>
                      </run-mode-handling>
                      <checkpoint>false</checkpoint>
                    </meta>
                    <location>:switch[1]:sequence[3]:switch[1]:sequence[1]:call-process[1]</location>
                  </call-process>
                </sequence>
              </default>
              <case>
                <condition>
                  <document>
                    <input>
                      <from>item type</from>
                    </input>
                  </document>
                  <xpath-expression>
                    <xpath-replacement-tokens />
                    <xpath><![CDATA[text()='configurationitem']]></xpath>
                  </xpath-expression>
                </condition>
                <sequence>
                  <console-output>
                    <type>INFO</type>
                  </console-output>
                  <call-process>
                    <process-name>:AutoPilot-AD-BMC_Atrium_CMDB:v7.5:ConfigurationItem:Update Instance</process-name>
                    <parameters>
                      <input>
                        <from>adapter name</from>
                        <to>adapter name</to>
                      </input>
                      <input>
                        <from>items</from>
                        <to>items</to>
                      </input>
                      <output>
                        <from>collated adapter response</from>
                        <to>adapter response</to>
                      </output>
                    </parameters>
                    <meta>
                      <documentation />
                      <run-mode-handling>
                        <run-mode>OCP</run-mode>
                        <allow-step-into>false</allow-step-into>
                      </run-mode-handling>
                      <checkpoint>false</checkpoint>
                    </meta>
                    <after-execution>
                      <console-output>
                        <type>INFO</type>
                      </console-output>
                    </after-execution>
                    <location>:switch[1]:sequence[3]:switch[1]:sequence[2]:call-process[1]</location>
                  </call-process>
                </sequence>
              </case>
              <location>:switch[1]:sequence[3]:switch[1]</location>
            </switch>
          </sequence>
        </case>
        <location>:switch[1]</location>
      </switch>
    </sequence>
    <meta>
      <expose-to>
        <consumer>RULE</consumer>
        <consumer>SCHEDULE</consumer>
      </expose-to>
      <documentation>
        <description>Update Item(s)
    Update items within BMC Atrium CMDB of entity type Class Instance.

    Inputs
       adapter name    [Optional]
            The name of the adapter to use to handle the request. 
       version
             Identifies the version of BMC Atrium CMDB system. Currently "v2.0", "v2.1", "v7.5", "v7.6", "v8.0" and "v8.1" are supported.
        items
            The items to be updated. This should be an XML document with a root element named "items" having a child "item" which has a sub-child "parameters", which should contain the data necessary to update an item of the specified entity type. 

      item-type
          It is the value of the entity type, like configurationitem.  
Outputs
        adapter response
            The adapter response containing the results. </description>
        <version>1.0</version>
      </documentation>
      <logging-options>
        <is-enabled>false</is-enabled>
        <log-file-name></log-file-name>
      </logging-options>
      <peer-location>
        <location>any</location>
      </peer-location>
      <record-metrics>false</record-metrics>
      <process-id>a63648e5-ee78-3fdb-af46-25d98d038e8b</process-id>
      <author>admin</author>
      <category></category>
      <status></status>
      <keywords></keywords>
      <systems></systems>
      <last-modified-by>aoadmin</last-modified-by>
      <last-modified>1505999057712</last-modified>
    </meta>
  </process-def>
</process>