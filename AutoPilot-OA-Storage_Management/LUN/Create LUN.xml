<process draft="false" dev-studio-version="7.6.02.01">
  <process-def name=":AutoPilot-OA-Storage_Management:LUN:Create LUN">
    <parameters>
      <input global="false" required="true">
        <description>Name of the storage vendor.  Supported vendors: NetApp, EMC</description>
        <from>configuration name</from>
        <to>configuration name</to>
      </input>
      <input global="false" required="true">
        <description>Sample input XML for SAN - NetApp

&lt;storage&gt;
	&lt;storage-container-name-or-id&gt;test1&lt;/storage-container-name-or-id&gt;
	&lt;size&gt;21000000&lt;/size&gt;
     &lt;storage-unit&gt;GB&lt;/storage-unit&gt;
	&lt;name&gt;vol3&lt;/name&gt;
	&lt;comments&gt;
		&lt;provision-member-comment&gt;
			&lt;comment-field-name-or-id&gt;id&lt;/comment-field-name-or-id&gt;
			&lt;comment-value&gt;value&lt;/comment-value&gt;
		&lt;/provision-member-comment&gt;
	&lt;/comments&gt;
	&lt;create-new-vfiler&gt;false&lt;/create-new-vfiler&gt;
	&lt;description&gt;test desc&lt;/description&gt;
	&lt;resource-name-or-id&gt;simeth0:aggr0&lt;/resource-name-or-id&gt;
	&lt;initial-snapshot-space&gt;2000000&lt;/initial-snapshot-space&gt;
	&lt;maximum-snapshot-space&gt;3000000&lt;/maximum-snapshot-space&gt;
	&lt;maximum-data-size&gt;3000000&lt;/maximum-data-size&gt;
	&lt;force&gt;true&lt;/force&gt;
	&lt;dataset-export-info&gt;
		&lt;dataset-export-protocol&gt;fcp&lt;/dataset-export-protocol&gt;
		&lt;dataset-lun-mapping-info&gt;
			&lt;igroup-os-type&gt;windows&lt;/igroup-os-type&gt;
			&lt;lun-mapping-initiators&gt;
				&lt;lun-mapping-initiator&gt;
					&lt;hostname&gt;172.16.49.104&lt;/hostname&gt;
					&lt;initiator-id&gt;aaaaaaaaaaaaaaaa&lt;/initiator-id&gt;
				&lt;/lun-mapping-initiator&gt;
			&lt;/lun-mapping-initiators&gt;
		&lt;/dataset-lun-mapping-info&gt;
	&lt;/dataset-export-info&gt;
	&lt;vfiler-name-or-id&gt;test filer&lt;/vfiler-name-or-id&gt;
	&lt;online-migration&gt;true&lt;/online-migration&gt;
&lt;/storage&gt;

Parameters Description:

storage-container-name-or-id[Required]
	The name of the dataset whose member will be provisioned.

description[Optional]
	Description of the provisioning request. The length of this string cannot be more than 255 characters.
  
initial-snapshot-space[Optional]
	Applicable when provisioning members in SAN data sets (i.e. data sets associated with provisioning policy of type 'san'). Specify the initial disk space in bytes that needs to be allocated upfront for Snapshot copies of the member. Range: [1..2^63-1]

maximum-snapshot-space[Required]
	Applicable when provisioning members in SAN data sets (i.e. data sets associated with provisioning policy of type 'san'). Specify the maximum disk space in bytes for the Snapshot copies of the member. Once the space consumed by Snapshot copies reaches this value, further Snapshot copies will fail. Range: [1..2^63-1] 
 
maximum-data-size[Optional]
	Maximum storage space for the dataset member. Applicable when provisioning members in NFS data sets (i.e. datasets associated with provisioning policy of type 'nas' and export over 'NFS' protocol). Storage clients can write data up to this limit if the containing aggregate has space. The value is specified in bytes. Range: [1..2^63-1] 

force[Optional]
	This is a boolean field. By default, force is false. If true, and an edit is already in progress on the specified dataset or an object the dataset is dependent on (such as a data protection policy), the previous edit session is rolled back and a new edit session is begun.

resource-name-or-id[Optional]
	Name or identifier of the resource object from which storage space will be provisioned. valid types of objects are:- 
    		* Filer 
	     * Aggregate 
	The filer or aggregate specified should belong to the resource pool(s) associated with primary node of the dataset.

name[Optional] 
	Name of the storage container. If this is a NAS data set, i.e the provisioning policy associated with the primary node of the data set is of type 'nas', then this name corresponds to the qtree created. If this is a SAN data set, i.e the provisioning policy associated with the primary node of the data set is of type 'san', then this name corresponds to the LUN or volume that will be provisioned as part of this request. The length of this string cannot be more than 255 characters.
If this tag is not provided, a name for storage to be provisioned will be deduced automatically which will have the following format - Storage yyyyMMddHHmmss

size [Required] 
	Size for the data set member.

comments [Optional]
	Comments to be associated with the provisioning request.

provision-member-comment[Optional]
	One comment field to fill in as part of the request.

comment-field-name-or-id[Optional]
	Name or identifier of the comment field.

comment-value[Optional]
	Value of the comment field. An empty string can be used to unset the value of the comment field for this object.

create-new-vfiler[Optional]
	This is a boolean field. True, if new vFiler Unit needs to be created during provisioning. The provisioned storage container is then moved to the vFiler Unit. This input is applicable only in the context of resourcepool-member-list-info-iter-start zapi and run-provisioning-checks is specified as 'true'. This input is ignored in dataset-provision-member zapi. The default value is 'false'.

dataset-export-info[Optional]
	Specifies the SAN export settings for the the provisioning member. Member level export settings cannot be specified, if export settings have been configured at node level.

dataset-export-protocol[Optional]
	Specifies the protocol over which members of the dataset node will be exported. This value is always returned. If omitted during a modify operation, the existing value is not changed. If specified as 'none' in a modify operation, the existing settings will be cleared. Default value is 'none'.
Valid values - fcp,iscsi,none

dataset-lun-mapping-info[Optional]
	Specifies the hosts and/or initiators to which LUNs in this dataset node will be mapped, and the igroup OS type. This field may be present only if the dataset-export-protocol is 'fcp' or 'iscsi'.

igroup-os-type[Optional]
	Specifies the OS type for initiators to map LUNs in the dataset node to. Possible values are: 'windows', 'windows_gpt', 'windows_2008', 'hpux', 'aix, 'linux, 'solaris', 'vmware' and 'netware'. Here "windows_gpt" refers to Windows using GPT (GUID Partition Type) partitioning style and "windows_2008" refers to Windows Longhorn systems.

lun-mapping-initiators[Optional]
	Specifies the initiators to map LUNs in the dataset node to, and, optionally, the host to which they belong.

lun-mapping-initiator[Optional]
	Specifies an initiator to map LUNs in the dataset node to, and, optionally, the host to which it belongs.

hostname[Optional]
	Specifies the name of the host which owns the initiator.

initiator-id[Optional]
	Specifies an initiator id on a host to which a LUN should be mapped.For FCP initiators, this is a string composed of 16 hexadecimal digits. For iSCSI initiators, this is an initiator name in the dotted-domain notation.

vfiler-name-or-id[Optional]
	Name or id of the vFiler Unit, if specified the newly provisioned dataset member will be moved to the specified vFiler Unit and accessed via the vFiler Unit's IP addresses. Ignored for storage-service-dataset-provision.

online-migration[Optional]
	This is a boolean field. If True, online migration pre checks will be done on this filer before provisioning. This parameter is valid only if create-new-vfiler flag is TRUE OR vfiler-name-or-id is specified.

storage-unit [Required]
     Valid Values:MB, GB, TB, KB

EMC,
Sample xml
&lt;storage&gt; 
   &lt;storage-system-name&gt;CLARiiON+CKM00102400340&lt;/storage-system-name&gt;
	&lt;size&gt;21000000&lt;/size&gt;
     &lt;storage-unit&gt;bytes&lt;/storage-unit&gt;
      &lt;raid-group&gt;0000&lt;/raid-group&gt;
&lt;/storage&gt;

storage-system-name [Required]:
------------------------------------------

	- Specifies the storage system name on whichthe lun has to be created.
	- Valid value: Any valid string.
	- Default value: None.
	
size [Required]:
----------------------------

	- Specifies the size of the LUN to be created.
	- Valid value: A positive integer. Example value: 1073741824
 	- Default value: None.

Note: For Thin pool minimun size supported is 1 GB
storage-unit[Required]:
--------------------------------------
	- Specifies unit of Storage,
	- Valid value: :MB, GB, TB, KB
	- Default value: None.

raid-group
-------------------------------------
 	Specifies the correct RAID group name  on which the LUN must be created. The RAID group must already exist.
	- Valid value: None.
	- Default value: None.

thin-pool
----------------------------------------
	-Specifies the correct thin pool name  on which the LUN must be created. The thin pool must already exist.
	- Valid value: None.
	- Default value: None.

Note: Either raid-group or thin pool can be specified one at a time. Both cannot be specified simultaneously</description>
        <from>storage</from>
        <to>storage</to>
      </input>
      <input global="false" required="false">
        <description>NetApp:
[required if dynamic targeting is used otherwise optional] 

Designates a specific target (name of the DFM server where the operation will be performed) that has been defined in the adapter configuration. Valid value- Same value that has been specified for the name attribute of 'config' element in the adapter configuration . If this tag is left empty the request will be executed on the first defined adapter configuration.

for e.g for the  adapter config below , target would be 02.
&lt;configs&gt;
  &lt;config name="02"&gt;
    &lt;target&gt;172.19.224.103&lt;/target&gt;
    &lt;user-name&gt;root&lt;/user-name&gt;
    &lt;password&gt;bmcbmc&lt;/password&gt;
    &lt;protocol&gt;http&lt;/protocol&gt;
    &lt;port&gt;8088&lt;/port&gt;
  &lt;/config&gt;
&lt;/configs&gt;

Dynamic targeting:Host name or IP address of server on which NetApp DataFabric Manager is running

EMC [Optional]:
----------------------
	
	- Specifies the connection information for EMC SMI-S Provider.
	- Valid value: The value specified for &lt;target&gt; element must be same as the value that has been specified for the name attribute of &lt;config&gt; element in the adapter configuration. You can leave this tag empty. In this case the request will be executed on all the defined adapter configuration.
	- Default value: All defined adapter configuration. </description>
        <from>target</from>
        <to>target</to>
      </input>
      <input global="false" required="false">
        <description>NetApp:
[required only if dynamic targeting is used]

NetApp DataFabric Manager login username. 


EMC:
[optional]
	- Specifies the login name used to connect to  EMC SMI-S Provider. The 'username' specified in adapter request overrides the value specified in adapter configuration.
	- Valid value: None.
	- Default Value: None.</description>
        <from>username</from>
        <to>username</to>
      </input>
      <input global="false" required="false">
        <description>NetApp:
[required only if dynamic targeting is used]
NetApp DataFabric Manager login password. 

EMC:
[optional]:
	- Specifies the password used to connect to  EMC SMI-S Provider. The 'password' specified in adapter request overrides the value specified in adapter configuration.
	- Valid value: None.
	- Default Value: None.</description>
        <from>password</from>
        <to>password</to>
      </input>
      <input global="false" required="false">
        <description>NetApp:
[required only if dynamic targeting is used] 

encryption type[Conditional] : 
Specified only when password parameter is mentioned . 

You can encrypt the password by specifying the encryption type attribute. 
Valid Values : Base64 , plain</description>
        <from>encryption type</from>
        <to>encryption type</to>
      </input>
      <input global="false" required="false">
        <description>NetApp:
[Optional and used when dynamic targeting] 
Communication protocol used by adapter. Valid value is http or https. Default value is http. 

EMC:
[optional]:
	- Specifies the protocol used to connect to  EMC SMI-S Provider. The 'protocol' specified in adapter request overrides the value specified in adapter configuration.
	- Valid value: HTTPS or HTTP
	- Default Value: None.</description>
        <from>protocol</from>
        <to>protocol</to>
      </input>
      <input global="false" required="false">
        <description>NetApp: 
[Optional and used when dynamic targeting] Port on which NetApp DataFabric Manager is enabled. Default value is 8088 for http protocol and 8488 for https protocol. 

EMC:
[optional]:
	- Specifies the protocol used to connect to  EMC SMI-S Provider. The 'protocol' specified in adapter request overrides the value specified in adapter configuration.
	- Valid value: HTTPS or HTTP
	- Default Value: None.</description>
        <from>port</from>
        <to>port</to>
      </input>
      <input global="false" required="false">
        <description>[optional]: 
EMC: - Specifies the time in seconds after which the attempt to connect to EMC SMI-S provider times out. The 'timeout-secs' specified in adapter request overrides the value specified in adapter configuration.
	- Valid value: A numeric value which specifies the time in seconds. 
	- Default Value: 180, if no 'timeout-secs' is provided in adapter configuration. </description>
        <from>time out secs</from>
        <to>time out secs</to>
      </input>
      <output global="false" required="false">
        <description>String Value - Indicates whether or not the process completed successfully. 

Valid values: success or failure</description>
        <to>success status</to>
        <from>success status</from>
      </output>
      <output global="false" required="false">
        <description>String Value - A process specific explanation for the value of success status. </description>
        <to>status message</to>
        <from>status message</from>
      </output>
      <output global="false" required="false">
        <description>String or XML value - Contains required output.


Sample xml for EMC:

 &lt;output&gt;
        &lt;jobs&gt;
          &lt;job&gt;
            &lt;job-id&gt;2746027721&lt;/job-id&gt;
            &lt;job-status&gt;Completed - Composite Volume Create&lt;/job-status&gt;
            &lt;job-status-descriptions&gt;
              &lt;job-status-description&gt;Completed&lt;/job-status-description&gt;
              &lt;job-status-description&gt;OK&lt;/job-status-description&gt;
            &lt;/job-status-descriptions&gt;
          &lt;/job&gt;
        &lt;/jobs&gt;
      &lt;/output&gt;</description>
        <to>output</to>
        <from>output</from>
      </output>
    </parameters>
    <access />
    <sequence>
      <call-process>
        <process-name>:AutoPilot-OA-Storage_Management:Utilities:Extract Configuration Data</process-name>
        <parameters>
          <input>
            <from>configuration name</from>
            <to>configuration name</to>
          </input>
          <output>
            <from>adapter</from>
            <to>adapter</to>
          </output>
          <output>
            <from>version</from>
            <to>version</to>
          </output>
          <output>
            <from>module configuration items</from>
            <to>module configuration items</to>
          </output>
        </parameters>
        <meta>
          <documentation />
          <run-mode-handling>
            <run-mode>OCP</run-mode>
            <allow-step-into>false</allow-step-into>
          </run-mode-handling>
          <checkpoint>false</checkpoint>
        </meta>
        <after-execution>
          <console-output>
            <type>INFO</type>
            <summary>
              <concat>
                <input>
                  <value></value>
                </input>
              </concat>
            </summary>
            <detail>
              <concat>
                <input>
                  <value></value>
                </input>
              </concat>
            </detail>
          </console-output>
        </after-execution>
        <location>:call-process[1]</location>
      </call-process>
      <switch>
        <meta>
          <documentation />
          <run-mode-handling>
            <run-mode>OCP</run-mode>
            <allow-step-into>true</allow-step-into>
          </run-mode-handling>
          <checkpoint>false</checkpoint>
        </meta>
        <execute-all-applicable-cases>false</execute-all-applicable-cases>
        <default>
          <sequence>
            <assign>
              <assignment>
                <output>
                  <to>success status</to>
                  <value>failure</value>
                </output>
              </assignment>
              <assignment>
                <document>
                  <input>
                    <from>configuration name</from>
                  </input>
                </document>
                <result>
                  <output>
                    <to>status message</to>
                  </output>
                </result>
                <xpath-expression>
                  <xpath-replacement-tokens />
                  <xpath><![CDATA[concat("Unknown configuration name: ", .)]]></xpath>
                </xpath-expression>
              </assignment>
              <meta>
                <documentation />
                <checkpoint>false</checkpoint>
              </meta>
              <location>:switch[1]:sequence[1]:assign[1]</location>
            </assign>
          </sequence>
        </default>
        <case>
          <condition>
            <document>
              <input>
                <from>configuration name</from>
              </input>
            </document>
            <xpath-expression>
              <xpath-replacement-tokens />
              <xpath><![CDATA[text()="NetApp"]]></xpath>
            </xpath-expression>
          </condition>
          <sequence>
            <console-output>
              <type>INFO</type>
              <summary>
                <concat>
                  <input>
                    <value></value>
                  </input>
                </concat>
              </summary>
              <detail>
                <concat>
                  <input>
                    <value></value>
                  </input>
                </concat>
              </detail>
            </console-output>
            <call-process>
              <process-name>:AutoPilot-OA-Storage_Management:Utilities:Convert Storage Size Into Bytes</process-name>
              <parameters>
                <input>
                  <from>storage</from>
                  <to>storage size</to>
                  <xpath-expression>
                    <xpath-replacement-tokens />
                    <xpath><![CDATA[//size/text()]]></xpath>
                  </xpath-expression>
                </input>
                <input>
                  <from>storage</from>
                  <to>storage size unit</to>
                  <xpath-expression>
                    <xpath-replacement-tokens />
                    <xpath><![CDATA[//storage-unit/text()]]></xpath>
                  </xpath-expression>
                </input>
                <output>
                  <from>storage size</from>
                  <to>size</to>
                </output>
              </parameters>
              <meta>
                <documentation />
                <run-mode-handling>
                  <run-mode>OCP</run-mode>
                  <allow-step-into>false</allow-step-into>
                </run-mode-handling>
                <checkpoint>false</checkpoint>
              </meta>
              <after-execution>
                <console-output>
                  <type>INFO</type>
                  <summary>
                    <concat>
                      <input>
                        <value></value>
                      </input>
                    </concat>
                  </summary>
                  <detail>
                    <concat>
                      <input>
                        <value></value>
                      </input>
                    </concat>
                  </detail>
                </console-output>
              </after-execution>
              <location>:switch[1]:sequence[2]:call-process[1]</location>
            </call-process>
            <assign>
              <assignment>
                <document>
                  <input>
                    <from>storage</from>
                  </input>
                </document>
                <result>
                  <output>
                    <to>items</to>
                  </output>
                </result>
                <xslt-stylesheet>
                  <stylesheet-replacement-tokens>
                    <replacement-token name="size">
                      <input global="false">
                        <from>size</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="target">
                      <input global="false">
                        <from>target</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="username">
                      <input global="false">
                        <from>username</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="password">
                      <input global="false">
                        <from>password</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="protocol">
                      <input global="false">
                        <from>protocol</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="port">
                      <input global="false">
                        <from>port</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="etype">
                      <input global="false">
                        <from>encryption type</from>
                      </input>
                    </replacement-token>
                  </stylesheet-replacement-tokens>
                  <stylesheet><![CDATA[<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
  <xsl:output indent="no" />
  <xsl:template match="/">
    <items>
      <item>
        <xsl:if test="string-length('${target}')&gt;0 and string-length('${username}')= 0">
          <target>
            <xsl:value-of select="'${target}'" disable-output-escaping="no" />
          </target>
        </xsl:if>
        <dataset-name-or-id>
          <xsl:value-of select="//storage-container-name-or-id/text()" disable-output-escaping="no" />
        </dataset-name-or-id>
        <size>${size}</size>
        <xsl:if test=" name(//name) ">
          <name>
            <xsl:value-of select="//name/text()" disable-output-escaping="no" />
          </name>
        </xsl:if>
        <xsl:if test=" name(//dataset-export-info) ">
          <xsl:copy-of select="//dataset-export-info" />
        </xsl:if>
        <dry-run>
          <xsl:text disable-output-escaping="no">true</xsl:text>
        </dry-run>
        <xsl:if test="name(//comments) ">
          <comments>
            <xsl:copy-of select="//comments" />
          </comments>
        </xsl:if>
        <xsl:if test="string-length(//create-new-vfiler/text())&gt;0">
          <create-new-vfiler>
            <xsl:value-of select="//create-new-vfiler/text()" disable-output-escaping="no" />
          </create-new-vfiler>
        </xsl:if>
        <xsl:if test="string-length(//description/text())&gt;0">
          <description>
            <xsl:value-of select="//description/text()" disable-output-escaping="no" />
          </description>
        </xsl:if>
        <xsl:if test="string-length(//resource-name-or-id/text())&gt;0">
          <resource-name-or-id>
            <xsl:value-of select="//resource-name-or-id/text()" disable-output-escaping="no" />
          </resource-name-or-id>
        </xsl:if>
        <xsl:if test="string-length(//initial-snapshot-space/text())&gt;0">
          <initial-snapshot-space>
            <xsl:value-of select="//initial-snapshot-space/text()" disable-output-escaping="no" />
          </initial-snapshot-space>
        </xsl:if>
        <xsl:if test="string-length(//maximum-snapshot-space/text())&gt;0">
          <maximum-snapshot-space>
            <xsl:value-of select="//maximum-snapshot-space/text()" disable-output-escaping="no" />
          </maximum-snapshot-space>
        </xsl:if>
        <xsl:if test="string-length(//maximum-data-size/text()) &gt; 0">
          <maximum-data-size>
            <xsl:value-of select="//maximum-data-size/text()" disable-output-escaping="no" />
          </maximum-data-size>
        </xsl:if>
        <xsl:if test="string-length(//force/text())&gt;0">
          <force>
            <xsl:value-of select="//force/text()" disable-output-escaping="no" />
          </force>
        </xsl:if>
        <xsl:if test="string-length(//vfiler-name-or-id/text())&gt;0">
          <vfiler-name-or-id>
            <xsl:value-of select="//vfiler-name-or-id/text()" disable-output-escaping="no" />
          </vfiler-name-or-id>
        </xsl:if>
        <xsl:if test="string-length(//vfiler-name-or-id/text()) &gt; 0 or //create-new-vfiler/text() = 'true'">
          <online-migration>
            <xsl:text disable-output-escaping="no">false</xsl:text>
          </online-migration>
        </xsl:if>
        <xsl:if test="string-length('${target}')&gt;0 and string-length('${username}') &gt; 0">
          <targets>
            <target>
              <host>
                <xsl:value-of select="'${target}'" disable-output-escaping="no" />
              </host>
              <user-name>${username}</user-name>
              <password>
                <xsl:attribute name="encryption-type">
                  <xsl:value-of select="'${etype}'" disable-output-escaping="no" />
                </xsl:attribute>
                <xsl:value-of select="'${password}'" disable-output-escaping="no" />
              </password>
              <xsl:if test="string-length('${protocol}')&gt;0">
                <protocol>${protocol}</protocol>
              </xsl:if>
              <xsl:if test="string-length('${port}')&gt;0">
                <port>${port}</port>
              </xsl:if>
            </target>
          </targets>
        </xsl:if>
      </item>
    </items>
  </xsl:template>
</xsl:stylesheet>]]></stylesheet>
                </xslt-stylesheet>
              </assignment>
              <meta>
                <documentation />
                <checkpoint>false</checkpoint>
              </meta>
              <before-execution>
                <log>
                  <level>debug</level>
                  <parameters>
                    <input>
                      <value></value>
                    </input>
                  </parameters>
                </log>
              </before-execution>
              <after-execution>
                <log>
                  <level>debug</level>
                  <parameters>
                    <input>
                      <value></value>
                    </input>
                  </parameters>
                </log>
              </after-execution>
              <location>:switch[1]:sequence[2]:assign[1]</location>
            </assign>
            <call-process>
              <process-name>:AO-AD-NetAPP_Storage:Perform Action</process-name>
              <parameters>
                <input>
                  <from>module configuration items</from>
                  <to>adapter name</to>
                  <xpath-expression>
                    <xpath-replacement-tokens>
                      <replacement-token name="configuration name">
                        <input global="false">
                          <from>configuration name</from>
                        </input>
                      </replacement-token>
                    </xpath-replacement-tokens>
                    <xpath><![CDATA[//$[configuration name]/Adapter/text()]]></xpath>
                  </xpath-expression>
                </input>
                <input>
                  <from>module configuration items</from>
                  <to>version</to>
                  <xpath-expression>
                    <xpath-replacement-tokens>
                      <replacement-token name="configuration name">
                        <input global="false">
                          <from>configuration name</from>
                        </input>
                      </replacement-token>
                    </xpath-replacement-tokens>
                    <xpath><![CDATA[//$[configuration name]/Version/text()]]></xpath>
                  </xpath-expression>
                </input>
                <input>
                  <value>provision-san-dataset</value>
                  <to>item type</to>
                </input>
                <input>
                  <from>items</from>
                  <to>items</to>
                </input>
                <output>
                  <from>adapter response</from>
                  <to>adapter response</to>
                </output>
              </parameters>
              <meta>
                <documentation />
                <run-mode-handling>
                  <run-mode>OCP</run-mode>
                  <allow-step-into>false</allow-step-into>
                </run-mode-handling>
                <checkpoint>false</checkpoint>
              </meta>
              <before-execution>
                <log>
                  <level>debug</level>
                  <parameters>
                    <input>
                      <from>items</from>
                    </input>
                  </parameters>
                </log>
              </before-execution>
              <after-execution>
                <console-output>
                  <type>INFO</type>
                  <summary>
                    <concat>
                      <input>
                        <value></value>
                      </input>
                    </concat>
                  </summary>
                  <detail>
                    <concat>
                      <input>
                        <value></value>
                      </input>
                    </concat>
                  </detail>
                </console-output>
                <log>
                  <level>debug</level>
                  <parameters>
                    <input>
                      <value></value>
                    </input>
                  </parameters>
                </log>
              </after-execution>
              <location>:switch[1]:sequence[2]:call-process[2]</location>
            </call-process>
            <switch>
              <meta>
                <documentation />
                <run-mode-handling>
                  <run-mode>OCP</run-mode>
                  <allow-step-into>true</allow-step-into>
                </run-mode-handling>
                <checkpoint>false</checkpoint>
              </meta>
              <execute-all-applicable-cases>false</execute-all-applicable-cases>
              <default>
                <sequence>
                  <assign>
                    <assignment>
                      <output>
                        <to>success status</to>
                        <value>failure</value>
                      </output>
                    </assignment>
                    <assignment>
                      <document>
                        <input>
                          <from>adapter response</from>
                        </input>
                      </document>
                      <result>
                        <output>
                          <to>status message</to>
                        </output>
                      </result>
                      <xslt-stylesheet>
                        <stylesheet-replacement-tokens />
                        <stylesheet><![CDATA[<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
  <xsl:output indent="no" />
  <xsl:template match="/">
    <xsl:choose>
      <xsl:when test="string-length(//output/dry-run-results)&gt;0">
        <output>
          <xsl:copy-of select="//output/dry-run-results" />
        </output>
      </xsl:when>
      <xsl:otherwise>
        <xsl:copy-of select="//error" />
      </xsl:otherwise>
    </xsl:choose>
  </xsl:template>
</xsl:stylesheet>]]></stylesheet>
                      </xslt-stylesheet>
                    </assignment>
                    <meta>
                      <documentation />
                      <checkpoint>false</checkpoint>
                    </meta>
                    <location>:switch[1]:sequence[2]:switch[1]:sequence[1]:assign[1]</location>
                  </assign>
                </sequence>
              </default>
              <case>
                <condition>
                  <document>
                    <input>
                      <from>adapter response</from>
                    </input>
                  </document>
                  <xpath-expression>
                    <xpath-replacement-tokens />
                    <xpath><![CDATA[string(//is-provisioning-failure/text()) = 'false']]></xpath>
                  </xpath-expression>
                </condition>
                <sequence>
                  <console-output>
                    <type>INFO</type>
                    <summary>
                      <concat>
                        <input>
                          <value></value>
                        </input>
                      </concat>
                    </summary>
                    <detail>
                      <concat>
                        <input>
                          <value></value>
                        </input>
                      </concat>
                    </detail>
                  </console-output>
                  <assign>
                    <assignment>
                      <document>
                        <input>
                          <from>storage</from>
                        </input>
                      </document>
                      <result>
                        <output>
                          <to>items</to>
                        </output>
                      </result>
                      <xslt-stylesheet>
                        <stylesheet-replacement-tokens>
                          <replacement-token name="size">
                            <input global="false">
                              <from>size</from>
                            </input>
                          </replacement-token>
                          <replacement-token name="target">
                            <input global="false">
                              <from>target</from>
                            </input>
                          </replacement-token>
                          <replacement-token name="username">
                            <input global="false">
                              <from>username</from>
                            </input>
                          </replacement-token>
                          <replacement-token name="password">
                            <input global="false">
                              <from>password</from>
                            </input>
                          </replacement-token>
                          <replacement-token name="protocol">
                            <input global="false">
                              <from>protocol</from>
                            </input>
                          </replacement-token>
                          <replacement-token name="port">
                            <input global="false">
                              <from>port</from>
                            </input>
                          </replacement-token>
                          <replacement-token name="etype">
                            <input global="false">
                              <from>encryption type</from>
                            </input>
                          </replacement-token>
                        </stylesheet-replacement-tokens>
                        <stylesheet><![CDATA[<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
  <xsl:output indent="no" />
  <xsl:template match="/">
    <items>
      <item>
        <xsl:if test="string-length('${target}')&gt;0 and string-length('${username}') =0">
          <target>
            <xsl:value-of select="'${target}'" disable-output-escaping="no" />
          </target>
        </xsl:if>
        <dataset-name-or-id>
          <xsl:value-of select="//storage-container-name-or-id/text()" disable-output-escaping="no" />
        </dataset-name-or-id>
        <size>${size}</size>
        <xsl:if test=" name(//name) ">
          <name>
            <xsl:value-of select="//name/text()" disable-output-escaping="no" />
          </name>
        </xsl:if>
        <xsl:if test=" name(//dataset-export-info) ">
          <xsl:copy-of select="//dataset-export-info" />
        </xsl:if>
        <xsl:if test="name(//comments) ">
          <comments>
            <xsl:copy-of select="//comments" />
          </comments>
        </xsl:if>
        <xsl:if test="string-length(//create-new-vfiler/text())&gt;0">
          <create-new-vfiler>
            <xsl:value-of select="//create-new-vfiler/text()" disable-output-escaping="no" />
          </create-new-vfiler>
        </xsl:if>
        <xsl:if test="string-length(//description/text())&gt;0">
          <description>
            <xsl:value-of select="//description/text()" disable-output-escaping="no" />
          </description>
        </xsl:if>
        <xsl:if test="string-length(//resource-name-or-id/text())&gt;0">
          <resource-name-or-id>
            <xsl:value-of select="//resource-name-or-id/text()" disable-output-escaping="no" />
          </resource-name-or-id>
        </xsl:if>
        <xsl:if test="string-length(//initial-snapshot-space/text())&gt;0">
          <initial-snapshot-space>
            <xsl:value-of select="//initial-snapshot-space/text()" disable-output-escaping="no" />
          </initial-snapshot-space>
        </xsl:if>
        <xsl:if test="string-length(//maximum-snapshot-space/text())&gt;0">
          <maximum-snapshot-space>
            <xsl:value-of select="//maximum-snapshot-space/text()" disable-output-escaping="no" />
          </maximum-snapshot-space>
        </xsl:if>
        <xsl:if test="string-length(//maximum-data-size/text()) &gt; 0">
          <maximum-data-size>
            <xsl:value-of select="//maximum-data-size/text()" disable-output-escaping="no" />
          </maximum-data-size>
        </xsl:if>
        <xsl:if test="string-length(//force/text())&gt;0">
          <force>
            <xsl:value-of select="//force/text()" disable-output-escaping="no" />
          </force>
        </xsl:if>
        <xsl:if test="string-length(//vfiler-name-or-id/text())&gt;0">
          <vfiler-name-or-id>
            <xsl:value-of select="//vfiler-name-or-id/text()" disable-output-escaping="no" />
          </vfiler-name-or-id>
        </xsl:if>
        <xsl:if test="string-length(//vfiler-name-or-id/text()) &gt; 0 or //create-new-vfiler/text() = 'true'">
          <xsl:if test="string-length(//online-migration/text())&gt;0">
            <online-migration>
              <xsl:value-of select="//online-migration/text()" disable-output-escaping="no" />
            </online-migration>
          </xsl:if>
        </xsl:if>
        <xsl:if test="string-length('${target}')&gt;0 and string-length('${username}') &gt; 0">
          <targets>
            <target>
              <host>
                <xsl:value-of select="'${target}'" disable-output-escaping="no" />
              </host>
              <user-name>${username}</user-name>
              <password>
                <xsl:attribute name="encryption-type">
                  <xsl:value-of select="'${etype}'" disable-output-escaping="no" />
                </xsl:attribute>
                <xsl:value-of select="'${password}'" disable-output-escaping="no" />
              </password>
              <xsl:if test="string-length('${protocol}') &gt;0">
                <protocol>${protocol}</protocol>
              </xsl:if>
              <xsl:if test="string-length('${port}') &gt;0">
                <port>${port}</port>
              </xsl:if>
            </target>
          </targets>
        </xsl:if>
      </item>
    </items>
  </xsl:template>
</xsl:stylesheet>]]></stylesheet>
                      </xslt-stylesheet>
                    </assignment>
                    <meta>
                      <documentation />
                      <checkpoint>false</checkpoint>
                    </meta>
                    <before-execution>
                      <log>
                        <level>debug</level>
                        <parameters>
                          <input>
                            <value></value>
                          </input>
                        </parameters>
                      </log>
                    </before-execution>
                    <after-execution>
                      <log>
                        <level>debug</level>
                        <parameters>
                          <input>
                            <value></value>
                          </input>
                        </parameters>
                      </log>
                    </after-execution>
                    <location>:switch[1]:sequence[2]:switch[1]:sequence[2]:assign[1]</location>
                  </assign>
                  <call-process>
                    <process-name>:AO-AD-NetAPP_Storage:Perform Action</process-name>
                    <parameters>
                      <input>
                        <from>module configuration items</from>
                        <to>adapter name</to>
                        <xpath-expression>
                          <xpath-replacement-tokens>
                            <replacement-token name="configuration name">
                              <input global="false">
                                <from>configuration name</from>
                              </input>
                            </replacement-token>
                          </xpath-replacement-tokens>
                          <xpath><![CDATA[//$[configuration name]/Adapter/text()]]></xpath>
                        </xpath-expression>
                      </input>
                      <input>
                        <from>module configuration items</from>
                        <to>version</to>
                        <xpath-expression>
                          <xpath-replacement-tokens>
                            <replacement-token name="configuration name">
                              <input global="false">
                                <from>configuration name</from>
                              </input>
                            </replacement-token>
                          </xpath-replacement-tokens>
                          <xpath><![CDATA[//$[configuration name]/Version/text()]]></xpath>
                        </xpath-expression>
                      </input>
                      <input>
                        <value>provision-san-dataset</value>
                        <to>item type</to>
                      </input>
                      <input>
                        <from>items</from>
                        <to>items</to>
                      </input>
                      <output>
                        <from>adapter response</from>
                        <to>adapter response</to>
                      </output>
                    </parameters>
                    <meta>
                      <documentation />
                      <run-mode-handling>
                        <run-mode>OCP</run-mode>
                        <allow-step-into>false</allow-step-into>
                      </run-mode-handling>
                      <checkpoint>false</checkpoint>
                    </meta>
                    <before-execution>
                      <log>
                        <level>debug</level>
                        <parameters>
                          <input>
                            <value></value>
                          </input>
                        </parameters>
                      </log>
                    </before-execution>
                    <after-execution>
                      <console-output>
                        <type>INFO</type>
                        <summary>
                          <concat>
                            <input>
                              <value></value>
                            </input>
                          </concat>
                        </summary>
                        <detail>
                          <concat>
                            <input>
                              <value></value>
                            </input>
                          </concat>
                        </detail>
                      </console-output>
                      <log>
                        <level>debug</level>
                        <parameters>
                          <input>
                            <value></value>
                          </input>
                        </parameters>
                      </log>
                    </after-execution>
                    <location>:switch[1]:sequence[2]:switch[1]:sequence[2]:call-process[1]</location>
                  </call-process>
                  <switch>
                    <meta>
                      <documentation />
                      <run-mode-handling>
                        <run-mode>OCP</run-mode>
                        <allow-step-into>true</allow-step-into>
                      </run-mode-handling>
                      <checkpoint>false</checkpoint>
                    </meta>
                    <execute-all-applicable-cases>false</execute-all-applicable-cases>
                    <default>
                      <sequence>
                        <assign>
                          <assignment>
                            <output>
                              <to>success status</to>
                              <value>failure</value>
                            </output>
                          </assignment>
                          <assignment>
                            <document>
                              <input>
                                <from>adapter response</from>
                              </input>
                            </document>
                            <result>
                              <output>
                                <to>status message</to>
                              </output>
                            </result>
                            <xpath-expression>
                              <xpath-replacement-tokens />
                              <xpath><![CDATA[concat("Error:  ", //error)]]></xpath>
                            </xpath-expression>
                          </assignment>
                          <meta>
                            <documentation />
                            <checkpoint>false</checkpoint>
                          </meta>
                          <before-execution>
                            <log>
                              <level>debug</level>
                              <parameters>
                                <input>
                                  <from>adapter response</from>
                                </input>
                              </parameters>
                            </log>
                          </before-execution>
                          <location>:switch[1]:sequence[2]:switch[1]:sequence[2]:switch[1]:sequence[1]:assign[1]</location>
                        </assign>
                      </sequence>
                    </default>
                    <case>
                      <condition>
                        <document>
                          <input>
                            <from>adapter response</from>
                          </input>
                        </document>
                        <xpath-expression>
                          <xpath-replacement-tokens />
                          <xpath><![CDATA[ string(//metadata/status)!='error' and string-length(//output/job-ids/job-info)>0]]></xpath>
                        </xpath-expression>
                      </condition>
                      <sequence>
                        <console-output>
                          <type>INFO</type>
                          <summary>
                            <concat>
                              <input>
                                <value></value>
                              </input>
                            </concat>
                          </summary>
                          <detail>
                            <concat>
                              <input>
                                <value></value>
                              </input>
                            </concat>
                          </detail>
                        </console-output>
                        <call-process>
                          <process-name>:AutoPilot-OA-Storage_Management:Utilities:Get Job Response</process-name>
                          <parameters>
                            <input>
                              <from>configuration name</from>
                              <to>configuration name</to>
                            </input>
                            <input>
                              <from>adapter response</from>
                              <to>adapter response</to>
                            </input>
                            <input>
                              <from>target</from>
                              <to>target</to>
                            </input>
                            <input>
                              <from>username</from>
                              <to>username</to>
                            </input>
                            <input>
                              <from>password</from>
                              <to>password</to>
                            </input>
                            <input>
                              <from>encryption type</from>
                              <to>encryption type</to>
                            </input>
                            <input>
                              <from>protocol</from>
                              <to>protocol</to>
                            </input>
                            <input>
                              <from>port</from>
                              <to>port</to>
                            </input>
                            <output>
                              <from>status message</from>
                              <to>status message</to>
                            </output>
                            <output>
                              <from>success status</from>
                              <to>success status</to>
                            </output>
                            <output>
                              <from>find job status response</from>
                              <to>find job status response</to>
                            </output>
                          </parameters>
                          <meta>
                            <documentation />
                            <run-mode-handling>
                              <run-mode>OCP</run-mode>
                              <allow-step-into>false</allow-step-into>
                            </run-mode-handling>
                            <checkpoint>false</checkpoint>
                          </meta>
                          <after-execution>
                            <console-output>
                              <type>INFO</type>
                              <summary>
                                <concat>
                                  <input>
                                    <value></value>
                                  </input>
                                </concat>
                              </summary>
                              <detail>
                                <concat>
                                  <input>
                                    <value></value>
                                  </input>
                                </concat>
                              </detail>
                            </console-output>
                          </after-execution>
                          <location>:switch[1]:sequence[2]:switch[1]:sequence[2]:switch[1]:sequence[2]:call-process[1]</location>
                        </call-process>
                        <switch>
                          <meta>
                            <documentation />
                            <run-mode-handling>
                              <run-mode>OCP</run-mode>
                              <allow-step-into>true</allow-step-into>
                            </run-mode-handling>
                            <checkpoint>false</checkpoint>
                          </meta>
                          <execute-all-applicable-cases>false</execute-all-applicable-cases>
                          <default>
                            <sequence>
                              <assign>
                                <assignment>
                                  <output>
                                    <to>success status</to>
                                    <value>failure</value>
                                  </output>
                                </assignment>
                                <assignment>
                                  <document>
                                    <input>
                                      <from>find job status response</from>
                                    </input>
                                  </document>
                                  <result>
                                    <output>
                                      <to>status message</to>
                                    </output>
                                  </result>
                                  <xpath-expression>
                                    <xpath-replacement-tokens />
                                    <xpath><![CDATA[concat("Error: ", "Create Lun job failed ")]]></xpath>
                                  </xpath-expression>
                                </assignment>
                                <meta>
                                  <documentation />
                                  <checkpoint>false</checkpoint>
                                </meta>
                                <location>:switch[1]:sequence[2]:switch[1]:sequence[2]:switch[1]:sequence[2]:switch[1]:sequence[1]:assign[1]</location>
                              </assign>
                            </sequence>
                          </default>
                          <case applies-if-any-condition-true="false">
                            <condition>
                              <document>
                                <input>
                                  <from>success status</from>
                                </input>
                              </document>
                              <xpath-expression>
                                <xpath-replacement-tokens />
                                <xpath><![CDATA[string(.)='success']]></xpath>
                              </xpath-expression>
                            </condition>
                            <condition>
                              <document>
                                <input>
                                  <from>find job status response</from>
                                </input>
                              </document>
                              <xpath-expression>
                                <xpath-replacement-tokens />
                                <xpath><![CDATA[ string(//job-overall-status/text()) !="failed"  and string(//job-overall-status/text())!= 'running_with_failures']]></xpath>
                              </xpath-expression>
                            </condition>
                            <sequence>
                              <console-output>
                                <type>INFO</type>
                                <summary>
                                  <concat>
                                    <input>
                                      <value></value>
                                    </input>
                                  </concat>
                                </summary>
                                <detail>
                                  <concat>
                                    <input>
                                      <value></value>
                                    </input>
                                  </concat>
                                </detail>
                              </console-output>
                              <assign>
                                <assignment>
                                  <document>
                                    <input>
                                      <from>find job status response</from>
                                    </input>
                                  </document>
                                  <result>
                                    <output>
                                      <to>output</to>
                                    </output>
                                  </result>
                                  <xpath-expression>
                                    <xpath-replacement-tokens />
                                    <xpath><![CDATA[//dp-job-info]]></xpath>
                                  </xpath-expression>
                                </assignment>
                                <meta>
                                  <documentation />
                                  <checkpoint>false</checkpoint>
                                </meta>
                                <location>:switch[1]:sequence[2]:switch[1]:sequence[2]:switch[1]:sequence[2]:switch[1]:sequence[2]:assign[1]</location>
                              </assign>
                            </sequence>
                          </case>
                          <location>:switch[1]:sequence[2]:switch[1]:sequence[2]:switch[1]:sequence[2]:switch[1]</location>
                        </switch>
                      </sequence>
                    </case>
                    <location>:switch[1]:sequence[2]:switch[1]:sequence[2]:switch[1]</location>
                  </switch>
                </sequence>
              </case>
              <location>:switch[1]:sequence[2]:switch[1]</location>
            </switch>
          </sequence>
        </case>
        <case>
          <condition>
            <document>
              <input>
                <from>configuration name</from>
              </input>
            </document>
            <xpath-expression>
              <xpath-replacement-tokens />
              <xpath><![CDATA[text()= 'EMC']]></xpath>
            </xpath-expression>
          </condition>
          <sequence>
            <console-output>
              <type>INFO</type>
              <summary>
                <concat>
                  <input>
                    <value></value>
                  </input>
                </concat>
              </summary>
              <detail>
                <concat>
                  <input>
                    <value></value>
                  </input>
                </concat>
              </detail>
            </console-output>
            <call-process>
              <process-name>:AutoPilot-OA-Storage_Management:Utilities:Convert Storage Size Into Bytes</process-name>
              <parameters>
                <input>
                  <from>storage</from>
                  <to>storage size</to>
                  <xpath-expression>
                    <xpath-replacement-tokens />
                    <xpath><![CDATA[//size/text()]]></xpath>
                  </xpath-expression>
                </input>
                <input>
                  <from>storage</from>
                  <to>storage size unit</to>
                  <xpath-expression>
                    <xpath-replacement-tokens />
                    <xpath><![CDATA[//storage-unit/text()]]></xpath>
                  </xpath-expression>
                </input>
                <output>
                  <from>storage size</from>
                  <to>storage size</to>
                </output>
              </parameters>
              <meta>
                <documentation />
                <run-mode-handling>
                  <run-mode>OCP</run-mode>
                  <allow-step-into>false</allow-step-into>
                </run-mode-handling>
                <checkpoint>false</checkpoint>
              </meta>
              <location>:switch[1]:sequence[3]:call-process[1]</location>
            </call-process>
            <assign>
              <assignment>
                <document>
                  <input>
                    <from>storage</from>
                  </input>
                </document>
                <result>
                  <output>
                    <to>items</to>
                  </output>
                </result>
                <xslt-stylesheet>
                  <stylesheet-replacement-tokens>
                    <replacement-token name="target">
                      <input global="false">
                        <from>target</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="username">
                      <input global="false">
                        <from>username</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="password">
                      <input global="false">
                        <from>password</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="protocol">
                      <input global="false">
                        <from>protocol</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="port">
                      <input global="false">
                        <from>port</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="time out secs">
                      <input global="false">
                        <from>time out secs</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="storage size">
                      <input global="false">
                        <from>storage size</from>
                      </input>
                    </replacement-token>
                  </stylesheet-replacement-tokens>
                  <stylesheet><![CDATA[<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
  <xsl:output indent="no" />
  <xsl:template match="/">
    <items>
      <item>
        <xsl:if test="string-length('${target}')&gt;0">
          <target>
            <xsl:value-of select="'${target}'" disable-output-escaping="no" />
          </target>
        </xsl:if>
        <xsl:if test="string-length('${username}')&gt;0">
          <username>
            <xsl:value-of select="'${username}'" disable-output-escaping="no" />
          </username>
        </xsl:if>
        <xsl:if test="string-length('${password}')&gt;0">
          <password>
            <xsl:value-of select="'${password}'" disable-output-escaping="no" />
          </password>
        </xsl:if>
        <xsl:if test="string-length('${protocol}')&gt;0">
          <protocol>
            <xsl:value-of select="'${protocol}'" disable-output-escaping="no" />
          </protocol>
        </xsl:if>
        <xsl:if test="string-length('${port}')&gt;0">
          <port>
            <xsl:value-of select="'${port}'" disable-output-escaping="no" />
          </port>
        </xsl:if>
        <xsl:if test="string-length('${target}')&gt;0 and string-length('${time out secs}')&gt;0">
          <timeout-secs>
            <xsl:value-of select="'${time out secs}'" disable-output-escaping="no" />
          </timeout-secs>
        </xsl:if>
        <storage-system-name>
          <xsl:value-of select="//storage-system-name/text()" disable-output-escaping="no" />
        </storage-system-name>
        <size-bytes>
          <xsl:value-of select="number($[storage size])" disable-output-escaping="no" />
        </size-bytes>
        <xsl:if test="string-length(//raid-group)&gt;0">
          <raid-group>
            <xsl:value-of select="//raid-group" disable-output-escaping="no" />
          </raid-group>
        </xsl:if>
        <synchronous>
          <xsl:text disable-output-escaping="no">no</xsl:text>
        </synchronous>
        <xsl:if test="string-length(//thin-pool)&gt;0">
          <thin-pool>
            <xsl:value-of select="//thin-pool" disable-output-escaping="no" />
          </thin-pool>
        </xsl:if>
      </item>
    </items>
  </xsl:template>
</xsl:stylesheet>]]></stylesheet>
                </xslt-stylesheet>
              </assignment>
              <meta>
                <documentation />
                <checkpoint>false</checkpoint>
              </meta>
              <location>:switch[1]:sequence[3]:assign[1]</location>
            </assign>
            <call-process>
              <process-name>:AO-AD-EMC_Storage:Create Items</process-name>
              <parameters>
                <input>
                  <from>adapter</from>
                  <to>adapter name</to>
                </input>
                <input>
                  <from>version</from>
                  <to>version</to>
                </input>
                <input>
                  <value>create-lun</value>
                  <to>item type</to>
                </input>
                <input>
                  <from>items</from>
                  <to>items</to>
                </input>
                <output>
                  <from>adapter response</from>
                  <to>adapter response</to>
                </output>
              </parameters>
              <meta>
                <documentation />
                <run-mode-handling>
                  <run-mode>OCP</run-mode>
                  <allow-step-into>false</allow-step-into>
                </run-mode-handling>
                <checkpoint>false</checkpoint>
              </meta>
              <location>:switch[1]:sequence[3]:call-process[2]</location>
            </call-process>
            <switch>
              <meta>
                <documentation />
                <run-mode-handling>
                  <run-mode>OCP</run-mode>
                  <allow-step-into>true</allow-step-into>
                </run-mode-handling>
                <checkpoint>false</checkpoint>
              </meta>
              <execute-all-applicable-cases>false</execute-all-applicable-cases>
              <default>
                <sequence>
                  <assign>
                    <assignment>
                      <output>
                        <to>success status</to>
                        <value>failure</value>
                      </output>
                    </assignment>
                    <assignment>
                      <document>
                        <input>
                          <from>adapter response</from>
                        </input>
                      </document>
                      <result>
                        <output>
                          <to>status message</to>
                        </output>
                      </result>
                      <xpath-expression>
                        <xpath-replacement-tokens />
                        <xpath><![CDATA[string(//error-messages)]]></xpath>
                      </xpath-expression>
                    </assignment>
                    <meta>
                      <documentation />
                      <checkpoint>false</checkpoint>
                    </meta>
                    <location>:switch[1]:sequence[3]:switch[1]:sequence[1]:assign[1]</location>
                  </assign>
                </sequence>
              </default>
              <case>
                <condition>
                  <document>
                    <input>
                      <from>adapter response</from>
                    </input>
                  </document>
                  <xpath-expression>
                    <xpath-replacement-tokens />
                    <xpath><![CDATA[//responses/response/metadata/status/text()='success']]></xpath>
                  </xpath-expression>
                </condition>
                <sequence>
                  <console-output>
                    <type>INFO</type>
                    <summary>
                      <concat>
                        <input>
                          <value></value>
                        </input>
                      </concat>
                    </summary>
                    <detail>
                      <concat>
                        <input>
                          <value></value>
                        </input>
                      </concat>
                    </detail>
                  </console-output>
                  <call-process>
                    <process-name>:AutoPilot-OA-Storage_Management:Utilities:Get Job Response</process-name>
                    <parameters>
                      <input>
                        <from>configuration name</from>
                        <to>configuration name</to>
                      </input>
                      <input>
                        <from>adapter response</from>
                        <to>adapter response</to>
                      </input>
                      <input>
                        <from>target</from>
                        <to>target</to>
                      </input>
                      <input>
                        <from>username</from>
                        <to>username</to>
                      </input>
                      <input>
                        <from>password</from>
                        <to>password</to>
                      </input>
                      <input>
                        <from>protocol</from>
                        <to>protocol</to>
                      </input>
                      <input>
                        <from>port</from>
                        <to>port</to>
                      </input>
                      <input>
                        <from>time out secs</from>
                        <to>time out secs</to>
                      </input>
                      <output>
                        <from>status message</from>
                        <to>status message</to>
                      </output>
                      <output>
                        <from>success status</from>
                        <to>success status</to>
                      </output>
                      <output>
                        <from>find job status response</from>
                        <to>find job status response</to>
                      </output>
                    </parameters>
                    <meta>
                      <documentation />
                      <run-mode-handling>
                        <run-mode>OCP</run-mode>
                        <allow-step-into>false</allow-step-into>
                      </run-mode-handling>
                      <checkpoint>false</checkpoint>
                    </meta>
                    <location>:switch[1]:sequence[3]:switch[1]:sequence[2]:call-process[1]</location>
                  </call-process>
                  <switch>
                    <meta>
                      <documentation />
                      <run-mode-handling>
                        <run-mode>OCP</run-mode>
                        <allow-step-into>true</allow-step-into>
                      </run-mode-handling>
                      <checkpoint>false</checkpoint>
                    </meta>
                    <execute-all-applicable-cases>false</execute-all-applicable-cases>
                    <default>
                      <sequence>
                        <assign>
                          <assignment>
                            <output>
                              <to>success status</to>
                              <value>failure</value>
                            </output>
                          </assignment>
                          <assignment>
                            <document>
                              <input>
                                <from>find job status response</from>
                              </input>
                            </document>
                            <result>
                              <output>
                                <to>status message</to>
                              </output>
                            </result>
                            <xpath-expression>
                              <xpath-replacement-tokens />
                              <xpath><![CDATA[string(//job-status-description)]]></xpath>
                            </xpath-expression>
                          </assignment>
                          <assignment>
                            <document>
                              <input>
                                <from>find job status response</from>
                              </input>
                            </document>
                            <result>
                              <output>
                                <to>output</to>
                              </output>
                            </result>
                            <xpath-expression>
                              <xpath-replacement-tokens />
                              <xpath><![CDATA[//output]]></xpath>
                            </xpath-expression>
                          </assignment>
                          <meta>
                            <documentation />
                            <checkpoint>false</checkpoint>
                          </meta>
                          <location>:switch[1]:sequence[3]:switch[1]:sequence[2]:switch[1]:sequence[1]:assign[1]</location>
                        </assign>
                      </sequence>
                    </default>
                    <case>
                      <condition>
                        <document>
                          <input>
                            <from>find job status response</from>
                          </input>
                        </document>
                        <xpath-expression>
                          <xpath-replacement-tokens />
                          <xpath><![CDATA[not(contains(//job-status/text(),"Failed")) and  not(contains(//job-status/text(),"Terminated")) and not(contains(//job-status/text(),"Killed")) and not(contains(//job-status/text(),"Exception"))]]></xpath>
                        </xpath-expression>
                      </condition>
                      <sequence>
                        <assign>
                          <assignment>
                            <input>
                              <from>success status</from>
                            </input>
                            <output>
                              <to>success status</to>
                            </output>
                          </assignment>
                          <assignment>
                            <input>
                              <from>status message</from>
                            </input>
                            <output>
                              <to>status message</to>
                            </output>
                          </assignment>
                          <assignment>
                            <document>
                              <input>
                                <from>find job status response</from>
                              </input>
                            </document>
                            <result>
                              <output>
                                <to>output</to>
                              </output>
                            </result>
                            <xpath-expression>
                              <xpath-replacement-tokens />
                              <xpath><![CDATA[//output]]></xpath>
                            </xpath-expression>
                          </assignment>
                          <meta>
                            <documentation />
                            <checkpoint>false</checkpoint>
                          </meta>
                          <location>:switch[1]:sequence[3]:switch[1]:sequence[2]:switch[1]:sequence[2]:assign[1]</location>
                        </assign>
                      </sequence>
                    </case>
                    <location>:switch[1]:sequence[3]:switch[1]:sequence[2]:switch[1]</location>
                  </switch>
                </sequence>
              </case>
              <location>:switch[1]:sequence[3]:switch[1]</location>
            </switch>
          </sequence>
        </case>
        <location>:switch[1]</location>
      </switch>
    </sequence>
    <meta>
      <expose-to>
        <consumer>RULE</consumer>
        <consumer>SCHEDULE</consumer>
        <consumer>SOAP</consumer>
      </expose-to>
      <documentation>
        <description>Provision a Lun based on the given input parameter

NetApp:Dynamic targeting:Ability to communicate with multiple DFM servers which are not configured under the adapter configuration. NetApp action can be invoked using dynamic targeting / without dynamic targeting.

When Dynamic targeting is used : target would be Host name or IP address of server on which NetApp DataFabric Manager is running. It is mandatory send all the required parameters:
 username, 
 password , 
 encyption type  when using dynamic targeting.

When Dynamic targeting is not used : Designates a specific target (name of the DFM server where the operation will be performed) that has been defined in the adapter configuration. Valid value- Same value that has been specified for the name attribute of 'config' element in the adapter configuration . If this tag is left empty the request will be executed on the first defined adapter configuration.

for e.g for the  adapter config below , target would be 02.
&lt;configs&gt;
  &lt;config name="02"&gt;
    &lt;target&gt;172.19.224.103&lt;/target&gt;
    &lt;user-name&gt;root&lt;/user-name&gt;
    &lt;password&gt;bmcbmc&lt;/password&gt;
    &lt;protocol&gt;http&lt;/protocol&gt;
    &lt;port&gt;8088&lt;/port&gt;
  &lt;/config&gt;
&lt;/configs&gt;

EMC:

Dynamic targeting: Ability to communicate with multiple SMIS-providers which are not configured under the adapter configuration. EMC action can be invoked using dynamic targeting / without dynamic targeting.

When Dynamic targeting is used : target would be Host name or IP address of server on which EMC SMIS provider is running. It is mandatory send all the required parameters:
username, 
 password , 
 protocol
port  when using dynamic targeting.

When Dynamic targeting is not used :  target specifies the connection information for EMC SMI-S Provider.
		       Valid value: The value specified for &lt;target&gt; element must be same as the value that has been specified for the name attribute of &lt;config&gt; element in the adapter configuration. You can leave this    tag empty. In this case the request will be executed on all the defined adapter configuration.
                                                - Default value: All defined adapter configuration. 
For e.g for the  adapter config below , target would be 03.
&lt;configs&gt;
  &lt;config name="03"&gt;
    &lt;target&gt; 10.128.28.59&lt;/target&gt;
    &lt;user-name&gt;emcuser&lt;/user-name&gt;
    &lt;password&gt;bmcbmc&lt;/password&gt;
    &lt;protocol&gt;https&lt;/protocol&gt;
    &lt;port&gt; 5989&lt;/port&gt;
  &lt;/config&gt;
&lt;/configs&gt;
</description>
        <version></version>
      </documentation>
      <peer-location>
        <location>any</location>
      </peer-location>
      <record-metrics>false</record-metrics>
      <process-id>18c97620-9685-3690-a192-9ec42ef57f68</process-id>
      <author>admin</author>
      <category></category>
      <status></status>
      <keywords></keywords>
      <systems></systems>
      <last-modified-by>admin</last-modified-by>
      <last-modified>1311153299347</last-modified>
    </meta>
  </process-def>
</process>