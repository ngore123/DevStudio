<process draft="false" dev-studio-version="7.6.01.02">
  <process-def name=":AO-AD-HP_ServiceCenter:v6.2:Configuration_Management:Create Contact">
    <parameters>
      <input global="false" required="false">
        <description>The name of the adapter to use to handle the request. Default adapter name: HPSCActor.</description>
        <from>adapter name</from>
        <to>adapter name</to>
      </input>
      <input global="false" required="true">
        <description>The items for the adapter request. This should be an XML document with a root element named "items" having a child "item", which should contain the data necessary to execute the specific request. 



Create Contact

This wrapper creates Contact record via the application. The application saves this record into its repository which can later be used.

Sample Item Xml:

&lt;items&gt;
	&lt;item&gt;
		&lt;operation-name&gt;create-contact&lt;/operation-name&gt;
		&lt;model&gt;
		  &lt;keys&gt;
		  &lt;/keys&gt;
		  &lt;instance&gt;
			&lt;contact-name&gt;
			  &lt;value&gt;MyContactName2&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/contact-name&gt;
			&lt;employee-i-d&gt;
			  &lt;value&gt;employee i d&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/employee-i-d&gt;
			&lt;shift&gt;
			  &lt;value&gt;Shift&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/shift&gt;
			&lt;department&gt;
			  &lt;value&gt;department&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/department&gt;
			&lt;last-name&gt;
			  &lt;value&gt;last name&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/last-name&gt;
			&lt;first-name&gt;
			  &lt;value&gt;first name&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/first-name&gt;
			&lt;work-phone&gt;
			  &lt;value&gt;Work phone&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/work-phone&gt;
			&lt;extension&gt;
			  &lt;value&gt;Extension&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/extension&gt;
			&lt;location&gt;
			  &lt;value&gt;Location&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/location&gt;
			&lt;floor&gt;
			  &lt;value&gt;Floor&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/floor&gt;
			&lt;email&gt;
			  &lt;value&gt;Email&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/email&gt;
			&lt;home-phone&gt;
			  &lt;value&gt;Home phone&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/home-phone&gt;
			&lt;primary-configuration-item&gt;
			  &lt;value&gt;Primary Configuration Item&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/primary-configuration-item&gt;
			&lt;building&gt;
			  &lt;value&gt;Building&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/building&gt;
			&lt;mobile-phone&gt;
			  &lt;value&gt;Portable&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/mobile-phone&gt;
			&lt;company&gt;
			  &lt;value&gt;Company&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/company&gt;
			&lt;manager&gt;
			  &lt;value&gt;Manager&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/manager&gt;
			&lt;contract-i-d&gt;
			  &lt;value&gt;19&lt;/value&gt;
			  &lt;type&gt;Decimal&lt;/type&gt;
			&lt;/contract-i-d&gt;
			&lt;critical-user&gt;
			  &lt;value&gt;true&lt;/value&gt;
			  &lt;type&gt;Boolean&lt;/type&gt;
			&lt;/critical-user&gt;
			&lt;requires-entitlement&gt;
			  &lt;value&gt;true&lt;/value&gt;
			  &lt;type&gt;Boolean&lt;/type&gt;
			&lt;/requires-entitlement&gt;
			&lt;full-name&gt;
			  &lt;value&gt;FullNamenew&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/full-name&gt;
		  &lt;/instance&gt;
		&lt;/model&gt;
	&lt;/item&gt;
&lt;/items&gt; 
Elements’ Description: 
The elements provided in the instance element refer to particular field of the record. We create an instance of this record by providing information in the &lt;value&gt; elements.

NOTE: The elements provided in &lt;keys&gt; element doesn’t mean that we are asking the application that these elements (the elements in the &lt;keys&gt; element) should be treated as keys for the record being created. Application has pre-defined key elements. The elements given in the &lt;keys&gt; element are meaning-less. 

Complete Elements’ Description: 

NOTE: To create a contact record, you require at least &lt;contact-name&gt; populated properly. See the bold elements in this “Elements’ Description”. 


NOTE: The element &lt;contact-name&gt; is used as key, so, it must be populated by a unique string.


item [Required]:
	
	This is a child of &lt;items&gt;. This &lt;item&gt; tag can be multiple times to support "multiple items 	support". 

operation-name [Required]: 

	This shows, what operation you want to perform.

	Valid values:
&lt;operation-name&gt;create-contact&lt;/operation-name&gt; is valid operation name element.
	 
keys [Required]: used to ask application to search for the record with the elements inside it.

Instance [Required] :
It can have many children. The children of this element describe fields of 	a record.

Contact-name[Required]: Contact name field.

	Name of this element in the application: Business &gt; Contact Name.

	Valid Values: Any string. 

	Default Values: No Default Value.
	
	Note: As this element is used as key for the record, it must be unique. 

Employee-i-d [Optional]: The id if employee.

	Name of this element in the application: Businesss &gt; Employee ID.

	Valid Values: Any string. 

	Default Value: “”

Shift [Optional]: a field in the contact record. 

	Name of this field in the application: 	Business &gt; Shift.
	
	Valid Values: Any string.

	Default Value: “”

Department[Optional]: The department field. 

	Name of this field in the application: Business &gt; Dept Name

Valid Values: any string, or you can select any existing record from the application.

	Default Value: “”

Last-name[Optional]: the last name.

	Name of this element in the application: This field seems to be hidden.

	Valid Values: Any string. 

	Default Value: “”

First-name[Optional]: The first name. 

	Name of this element in the application: this field seems to be hidden.

	Valid values: Any string. 

	Default Value: “”

Work-phone[Optional]: the work phone related to the record. 

	Name of this element in the application: Contact Numbers &gt; Work Phone. 

	Valid Values: Any string. 

	Default value: “”

Extension[Optional]: The extension number.

	Name of this element in the application: Contact Numbers &gt; Extension. 

	Valid Values: Any string. 

	Default Value: “”

Location  [Optional]: The location information.

	Name of this element in the application: Address &gt; Location.

	Valid values: Any string. 

	Default value: “”

Floor[Optional] : A field in the address. 

	Name of this element in the application: Address &gt; Floor.

	Valid Values: Any string. 

	Default Value: “”

Email [Optional]: the email id. 

	Name of this element in the application: Business &gt; Email.

	Valid Values: Any string.

	Default Value: “”


Home-phone[Optional]: Home phone number.

	Name of this element in the application: Contact Numbers &gt; Home.

	Valid Values: Any string. 

	Default Value: “”


Primary-configuration-item [Optional]: The primary item type. 

	Name of this element in the application: Business &gt; Primary Configuration item.

	Valid values: Any string.

	Default Value: “”

Building[Optional]: the building information. 

	Name of this element in the application:  Address &gt; Building. 

	Valid Values: Any string.

	Default value: “”

Mobile-phone[Optional]: the mobile phone number. 

	Name of this element in the application: This field seems to be hidden. 

	Valid values: Any string. 

	Default Value: “”

Company[Optional]: The company information related to the record. 

	Name of this element in the application: Business &gt; Company.

Valid Values: Any string, or you can select any existing record form the application repository.

	
	
	Default Value: “”

Manager [Optional]: The manager name. 

	Name of this field in the application: Business &gt; manager.

	Valid value: Any string. 

	Default Value: “”

Contract-i-d[Optional]: the contract id. 

	Name of this element in the application: This field seems to be hidden. 

	Valid Values: Any decimal value.

	Default value: 0

Critical-user[Optional]: to tell whether the user is critical or not. 

	Name of this element in the application: Business &gt; Critical User(Radio Button) 

	Valid Values: true/ false.
	True -&gt; user is critical, false -&gt; user is not critical. 
	
	Default value: false.

Requires-entitlement[Optional]: to tell whether user requires entitlement. 

Name of this element in the application: Business &gt; Requires Entitlement(radio button)
	
	Valid Values: true/false (any value other than true/false would be treated as default value of the element.).
	True -&gt; users requires entitlement, false -&gt; user doesn’t require. 

	Default Value: false.

Full-name [Required]: the full name of the user. 

	Name of this element in the application: Business &gt; Full Name. 

	Valid Values: Any string. 

	Default Value: No default value, as it’s required element.
</description>
        <from>items</from>
        <to>items</to>
      </input>
      <input global="false" required="false">
        <description>Provide username/password in form of xml. 

This input parameter is required when the user wants to override the default values for username and password provided in the adapter configuration. This is required for cases where an operation cannot be executed with the default username/password provided in the adapter configuration and only user with special permissions can execute the operation. Examples of such operations can be - 'approve-change', 'deny-change', 'close-change', 'approve-task'

Sample XML Format: 

&lt;connection-parameters&gt;
	&lt;alternate-username&gt;USERNAME&lt;/alternate-username&gt;
	&lt;alternate-password&gt;PASSWORD&lt;/alternate-password&gt;
&lt;/connection-parameters&gt;</description>
        <from>connection parameters</from>
        <to>connection parameters</to>
      </input>
      <output global="false" required="false">
        <description>The adapter response containing the results. </description>
        <to>adapter response</to>
        <from>adapter response</from>
      </output>
    </parameters>
    <access />
    <sequence>
      <switch>
        <meta>
          <documentation />
          <run-mode-handling>
            <run-mode>OCP</run-mode>
            <allow-step-into>true</allow-step-into>
          </run-mode-handling>
          <checkpoint>false</checkpoint>
        </meta>
        <execute-all-applicable-cases>false</execute-all-applicable-cases>
        <default>
          <sequence>
            <call-process>
              <process-name>:AO-AD-HP_ServiceCenter:Utilities:Operation Name Error Reporting</process-name>
              <parameters>
                <input>
                  <value>create-contact</value>
                  <to>operation name</to>
                </input>
                <input>
                  <from>items</from>
                  <to>items</to>
                </input>
              </parameters>
              <meta>
                <documentation />
                <run-mode-handling>
                  <run-mode>OCP</run-mode>
                  <allow-step-into>false</allow-step-into>
                </run-mode-handling>
                <checkpoint>false</checkpoint>
              </meta>
              <location>:switch[1]:sequence[1]:call-process[1]</location>
            </call-process>
          </sequence>
        </default>
        <case>
          <condition>
            <document>
              <input>
                <from>items</from>
              </input>
            </document>
            <xpath-expression>
              <xpath-replacement-tokens />
              <xpath><![CDATA[(//operation-name)[1]/text() = 'create-contact']]></xpath>
            </xpath-expression>
          </condition>
          <sequence>
            <assign>
              <assignment>
                <document>
                  <input>
                    <from>items</from>
                  </input>
                </document>
                <result>
                  <output>
                    <to>items</to>
                  </output>
                </result>
                <xslt-stylesheet>
                  <stylesheet-replacement-tokens />
                  <stylesheet><![CDATA[<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
  <xsl:output indent="no" />
  <xsl:template match="/">
    <items>
      <xsl:for-each select="//item">
        <item>
          <entity-type>
            <xsl:text disable-output-escaping="no">contact</xsl:text>
          </entity-type>
          <xsl:copy-of select="./*" />
        </item>
      </xsl:for-each>
    </items>
  </xsl:template>
</xsl:stylesheet>]]></stylesheet>
                </xslt-stylesheet>
              </assignment>
              <meta>
                <documentation />
                <checkpoint>false</checkpoint>
              </meta>
              <location>:switch[1]:sequence[2]:assign[1]</location>
            </assign>
            <call-process>
              <process-name>:AO-AD-HP_ServiceCenter:Utilities:Configuration_Management:Create Configuration Item Utility</process-name>
              <parameters>
                <input>
                  <from>adapter name</from>
                  <to>adapter name</to>
                </input>
                <input>
                  <from>items</from>
                  <to>items</to>
                </input>
                <input>
                  <from>connection parameters</from>
                  <to>connection parameters</to>
                </input>
                <output>
                  <from>adapter response</from>
                  <to>adapter response</to>
                </output>
              </parameters>
              <meta>
                <documentation />
                <run-mode-handling>
                  <run-mode>OCP</run-mode>
                  <allow-step-into>false</allow-step-into>
                </run-mode-handling>
                <checkpoint>false</checkpoint>
              </meta>
              <location>:switch[1]:sequence[2]:call-process[1]</location>
            </call-process>
          </sequence>
        </case>
        <location>:switch[1]</location>
      </switch>
    </sequence>
    <meta>
      <expose-to>
        <consumer>RULE</consumer>
        <consumer>SCHEDULE</consumer>
      </expose-to>
      <documentation>
        <description>
Create Contact

This wrapper creates Contact record via the application. The application saves this record into its repository which can later be used.</description>
        <version>1.0</version>
      </documentation>
      <peer-location>
        <location>any</location>
      </peer-location>
      <record-metrics>false</record-metrics>
      <process-id>6bd6e8aa-e432-31a7-9971-90e4c2fe8033</process-id>
      <author />
      <category />
      <status />
      <keywords />
      <systems />
      <last-modified-by />
      <last-modified>1290593555283</last-modified>
    </meta>
  </process-def>
</process>