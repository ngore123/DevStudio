<process draft="false" dev-studio-version="7.6.01.02">
  <process-def name=":AO-AD-HP_ServiceCenter:v6.2:Configuration_Management:Find Installed Software">
    <parameters>
      <input global="false" required="false">
        <description>The name of the adapter to use to handle the request. Default adapter name: HPSCActor.</description>
        <from>adapter name</from>
        <to>adapter name</to>
      </input>
      <input global="false" required="true">
        <description>The items for the adapter request. This should be an XML document with a root element named "items" having a child "item", which should contain the data necessary to execute the specific request. 


Find Installed Software
 
This wrapper search out for the Installed Software record(s) from pool of Installed software records in the application

Sample Item Xml: 

&lt;items&gt;
	&lt;item&gt;
		&lt;operation-name&gt;retrieve-installed-software&lt;/operation-name&gt;
		&lt;model&gt;
		  &lt;keys&gt;
			&lt;license-number&gt;
			  &lt;value&gt;license number&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/license-number&gt;
			&lt;installed-on-c-i&gt;
			  &lt;value&gt;installed on c i&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/installed-on-c-i&gt;
			&lt;application-name&gt;
			  &lt;value&gt;application name&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/application-name&gt;
		   
		  &lt;/keys&gt;
		  &lt;instance&gt;
		
			&lt;application-name&gt;
			  &lt;value&gt;application name&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/application-name&gt;
		   
			&lt;license-number&gt; 
			  &lt;value&gt;license number&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/license-number&gt;
			&lt;directory&gt;
			  &lt;value&gt;directory&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/directory&gt;
			&lt;description&gt;
			  &lt;value&gt;description&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/description&gt;
			&lt;version&gt;
			  &lt;value&gt;version&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/version&gt;
			&lt;installation-date&gt;
			  &lt;value&gt;2008.11.01 08:00:00&lt;/value&gt;
			  &lt;type&gt;DateTime&lt;/type&gt;
			&lt;/installation-date&gt;
			&lt;installed-by&gt;
			  &lt;value&gt;installed by&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/installed-by&gt;
			&lt;installed-on-c-i&gt;
			  &lt;value&gt;installed on c i&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/installed-on-c-i&gt;
			&lt;suite-component&gt;
			  &lt;value&gt;true&lt;/value&gt;
			  &lt;type&gt;Boolean&lt;/type&gt;
			&lt;/suite-component&gt;
			&lt;is-authorized&gt;
			  &lt;value&gt;true&lt;/value&gt;
			  &lt;type&gt;Boolean&lt;/type&gt;
			&lt;/is-authorized&gt;
			&lt;status&gt;
			  &lt;value&gt;status&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/status&gt;
			&lt;serial-number&gt;
			  &lt;value&gt;serial number&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/serial-number&gt;
		  &lt;/instance&gt;
		&lt;/model&gt;
	&lt;/item&gt;
&lt;/items&gt;


Elements’ Description: 
Locating any record takes place in following manner-

The fields inside instance describe the record. Out of which some are key elements.

Following are cases,

Case1: You provide (either in &lt;keys&gt; or in &lt;instance&gt; or in both) only key then the record is uniquely located.

Case2: You provide (either in &lt;keys&gt; or in &lt;instance&gt; or in both) key element(s) along with some other elements then the record is located only by key elements. All other fields (elements) get ignored. Record would get uniquely located as we’re providing the key element(s).

Case3: You provide (either in &lt;keys&gt; or in &lt;instance&gt; or in both) only those elements  that are not key. Then the record is located by logically ANDing all those elements with the corresponding elements of existing record.

Case4: You don’t provide anything. Then all company records would be fetched.

NOTE: When we provide some element(s) (which are not key) in &lt;keys&gt; element then we’re forcibly saying that “search the record(s) with these key elements (the elements in &lt;keys&gt; element.)” In such cases, the elements given inside &lt;instance&gt; element are simply ignored. 

 NOTE:  For a given pattern string P is said to be matched with text string T if the string P is prefix string of T. for example, 

P = xyz 
T = xyz123 
Then P is matched with T. 

If, 
P = xyz
T = 1xyz23 
Then P is not matched with T.

etc.

this means, if you’re searching for vendor, and you’ve given vendor name to be “abc” and if there are two records with vendor name “abc123” and “abc456” then both these record would be fetched.

(this is solely application specific.)

Complete Elements’ Description: 

item [Required]
	This is a child of &lt;items&gt;. This &lt;item&gt; tag can be multiple times to support "multiple items support". 

operation-name [Required] : 

	This shows, what operation you want to perform.

	Valid values:
&lt;operation-name&gt;retrieve-installed-sofware&lt;/operation-name&gt; is valid operation name element.
	 
keys [Required] : used to ask application to search for the record with the elements inside it.

 Instance [Required] :
It can have many children. The children of this element describe fields of 	a record.

Application-name[Optional]: The name of the application. 

	Name of this element in the application: Entire record hidden. 

Valid Values: Any string. Combination of &lt;application-name&gt;, &lt;license-number&gt; and &lt;installed-on-c-i&gt; should be unique. 

License-number [Optional]: the license number. 

	Name of this element in the application: Entire record hidden. 

Valid Values: Any string. Combination of &lt;application-name&gt;, &lt;license-number&gt; and &lt;installed-on-c-i&gt; should be unique. 

Directory[Optional]: the directory. 

	Name of this element in the application: Entire record hidden. 

Valid Values: Any string.

Description [Optional]: The description field.

	Name of this element in the application: Entire record hidden. 

Valid Values: Any string. 


Version [Optional]: the version information.

	Name of this element in the application: Entire record hidden. 

Valid Values: Any string.
 
installation-date [Optional] : The date of installation. 

	Name of this element in the application: Entire record hidden. 

Valid Values: Any input in DateTime fomat. 

Installed by [Optional]: Installing person.

	Name of this element in the application: Entire record hidden. 

Valid Values: Any string. 

Installed-on-c-I [Optional]: configuration item where software is installed. 

	Name of this element in the application: Entire record hidden. 

Valid Values: Any string. 

Suite-component [Optional] : 

	Name of this element in the application: Entire record hidden. 

Valid Values: true, false. 

	True -&gt; suite component 
	False -&gt; no suite component. 

Is-authorized [Optional]: Tell whether software is authorized or not. 

	Name of this element in the application: Entire record hidden. 

Valid Values: true, false.
	True -&gt; authorized. 
	False -&gt; not authorized. 

Status [Optional]: status of the software. 

	Name of this element in the application: Entire record hidden. 

Valid Values: Any string. 

Serial-number [Optional]: the serial number for the software. 

	Name of this element in the application: Entire record hidden. 

Valid Values: Any string. 

</description>
        <from>items</from>
        <to>items</to>
      </input>
      <input global="false" required="false">
        <description>Provide username/password in form of xml. 

This input parameter is required when the user wants to override the default values for username and password provided in the adapter configuration. This is required for cases where an operation cannot be executed with the default username/password provided in the adapter configuration and only user with special permissions can execute the operation. Examples of such operations can be - 'approve-change', 'deny-change', 'close-change', 'approve-task'

Sample XML Format: 

&lt;connection-parameters&gt;
	&lt;alternate-username&gt;USERNAME&lt;/alternate-username&gt;
	&lt;alternate-password&gt;PASSWORD&lt;/alternate-password&gt;
&lt;/connection-parameters&gt;</description>
        <from>connection parameters</from>
        <to>connection parameters</to>
      </input>
      <output global="false" required="false">
        <description>The adapter response containing the results. </description>
        <to>adapter response</to>
        <from>adapter response</from>
      </output>
    </parameters>
    <access />
    <sequence>
      <switch>
        <meta>
          <documentation />
          <run-mode-handling>
            <run-mode>OCP</run-mode>
            <allow-step-into>true</allow-step-into>
          </run-mode-handling>
          <checkpoint>false</checkpoint>
        </meta>
        <execute-all-applicable-cases>false</execute-all-applicable-cases>
        <default>
          <sequence>
            <call-process>
              <process-name>:AO-AD-HP_ServiceCenter:Utilities:Operation Name Error Reporting</process-name>
              <parameters>
                <input>
                  <value>retrieve-installed-software</value>
                  <to>operation name</to>
                </input>
                <input>
                  <from>items</from>
                  <to>items</to>
                </input>
              </parameters>
              <meta>
                <documentation />
                <run-mode-handling>
                  <run-mode>OCP</run-mode>
                  <allow-step-into>false</allow-step-into>
                </run-mode-handling>
                <checkpoint>false</checkpoint>
              </meta>
              <location>:switch[1]:sequence[1]:call-process[1]</location>
            </call-process>
          </sequence>
        </default>
        <case>
          <condition>
            <document>
              <input>
                <from>items</from>
              </input>
            </document>
            <xpath-expression>
              <xpath-replacement-tokens />
              <xpath><![CDATA[(//operation-name)[1]/text() = 'retrieve-installed-software']]></xpath>
            </xpath-expression>
          </condition>
          <sequence>
            <assign>
              <assignment>
                <document>
                  <input>
                    <from>items</from>
                  </input>
                </document>
                <result>
                  <output>
                    <to>items</to>
                  </output>
                </result>
                <xslt-stylesheet>
                  <stylesheet-replacement-tokens />
                  <stylesheet><![CDATA[<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
  <xsl:output indent="no" />
  <xsl:template match="/">
    <items>
      <xsl:for-each select="//item">
        <item>
          <entity-type>
            <xsl:text disable-output-escaping="no">installed-software</xsl:text>
          </entity-type>
          <xsl:copy-of select="./*" />
        </item>
      </xsl:for-each>
    </items>
  </xsl:template>
</xsl:stylesheet>]]></stylesheet>
                </xslt-stylesheet>
              </assignment>
              <meta>
                <documentation />
                <checkpoint>false</checkpoint>
              </meta>
              <location>:switch[1]:sequence[2]:assign[1]</location>
            </assign>
            <call-process>
              <process-name>:AO-AD-HP_ServiceCenter:Utilities:Configuration_Management:Find Configuration Item Utility</process-name>
              <parameters>
                <input>
                  <from>adapter name</from>
                  <to>adapter name</to>
                </input>
                <input>
                  <from>items</from>
                  <to>items</to>
                </input>
                <input>
                  <from>connection parameters</from>
                  <to>connection parameters</to>
                </input>
                <output>
                  <from>adapter response</from>
                  <to>adapter response</to>
                </output>
              </parameters>
              <meta>
                <documentation />
                <run-mode-handling>
                  <run-mode>OCP</run-mode>
                  <allow-step-into>false</allow-step-into>
                </run-mode-handling>
                <checkpoint>false</checkpoint>
              </meta>
              <location>:switch[1]:sequence[2]:call-process[1]</location>
            </call-process>
          </sequence>
        </case>
        <location>:switch[1]</location>
      </switch>
    </sequence>
    <meta>
      <expose-to>
        <consumer>RULE</consumer>
        <consumer>SCHEDULE</consumer>
      </expose-to>
      <documentation>
        <description>
Find Installed Software
 
This wrapper search out for the Installed Software record(s) from pool of Installed software records in the application</description>
        <version>1.0</version>
      </documentation>
      <peer-location>
        <location>any</location>
      </peer-location>
      <record-metrics>false</record-metrics>
      <process-id>b517b9d5-edbb-39d4-8647-43d1bd53d3f6</process-id>
      <author />
      <category />
      <status />
      <keywords />
      <systems />
      <last-modified-by />
      <last-modified>1290593592612</last-modified>
    </meta>
  </process-def>
</process>