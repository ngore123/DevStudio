<process draft="false" dev-studio-version="7.6.01.02">
  <process-def name=":AO-AD-HP_ServiceCenter:v6.2:Configuration_Management:Delete Department">
    <parameters>
      <input global="false" required="false">
        <description>The name of the adapter to use to handle the request. Default adapter name: HPSCActor.</description>
        <from>adapter name</from>
        <to>adapter name</to>
      </input>
      <input global="false" required="true">
        <description>The items for the adapter request. This should be an XML document with a root element named "items" having a children "item" (to support multiple item support, we give "item" multiple times), which should contain the data necessary to execute the specific request. 


Delete Department

This wrapper deletes an existing 'Department' record via the application. 
Sample Item Xml: 

&lt;items&gt;
	&lt;item&gt;
		&lt;operation-name&gt;delete-department&lt;/operation-name&gt;
		&lt;model&gt;
		  &lt;keys&gt;
			&lt;department&gt;
				&lt;value&gt;C-0001/D-0001&lt;/value&gt;
				&lt;type&gt;String&lt;/type&gt;
			&lt;/department&gt;
			&lt;company&gt;
				&lt;value&gt;C-0001&lt;/value&gt;
				&lt;type&gt;String&lt;/type&gt;
			&lt;/company&gt;
		  &lt;/keys&gt;
		  &lt;instance&gt;
		  
			&lt;department-name&gt;
			  &lt;value&gt;D-0001&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/department-name&gt;
			&lt;company&gt;
				&lt;value&gt;C-0001&lt;/value&gt;
				&lt;type&gt;String&lt;/type&gt;
			&lt;/company&gt;
			
			&lt;department-i-d&gt;
			  &lt;value&gt;department i d&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/department-i-d&gt;
			&lt;department-s-l-a&gt;
			  &lt;value&gt;155&lt;/value&gt;
			  &lt;type&gt;Decimal&lt;/type&gt;
			&lt;/department-s-l-a&gt;
			&lt;parent-department&gt;
			  &lt;value&gt;parent department&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/parent-department&gt;
			&lt;cost-center&gt;
			  &lt;value&gt;cost center&lt;/value&gt;
			  &lt;type&gt;String&lt;/type&gt;
			&lt;/cost-center&gt;
		  &lt;/instance&gt;
		&lt;/model&gt;
	&lt;/item&gt;
&lt;/items&gt;
Elements’ Description: 
Deletion of an existing record takes place in following manner. The record is first located by information given in the &lt;keys&gt; element. Here we provide at least the key elements. If we don’t provide the key element rather we provide other elements which are not key the record can’t be located even if there is only one record referred by those elements. In fact the record is located only by key elements.

Complete Elements’ Description: 

item [Required]
	This is a child of &lt;items&gt;. This &lt;item&gt; tag can be multiple times to support "multiple items support". 

operation-name [Required] : 

	This shows, what operation you want to perform.

	Valid values:
&lt;operation-name&gt;delete-department&lt;/operation-name&gt; is valid operation name element.
	 
keys [Required] : used to ask application to search for the record with the elements inside it.

Note: pair (&lt;deparment&gt; and &lt;company&gt;) are required inside &lt;keys&gt; element to locate the record uniquely.

Instance [Required] :
It can have many children. The children of this element describe fields of 	a record.


Department [Required]: 
	Valid values: any string subject to the pair (&lt;department&gt;, &lt;company&gt;) be unique.  

Department-name[Optional]: Name of the department. 

Name of this field in the application: General &gt; Dept Name. 

Valid Values: Any string.  

Company[Required]: The company name. 

	Name of this element in the application: General &gt; Company. 

Valid Values: Any string subject to the pair (&lt;department&gt;, &lt;company&gt;) be unique.  
	
Department-i-d[Optional]: The department ID. 

	Name of this element in the application: This element seems to be hidden. 

	Valid Values: Any string. 

Department-s-l-a [Optional] : The SLA associated with department. 

	Name of this element in the application: General &gt; SLA

	Valid Values: : Any integer values. These integer values are mapped to string values in application. The list of these mappings is customizable, i.e., more entries can be added to/deleted from it. 

	In out-of-box setup following mappings are available:

	155 -&gt; ACME Bronze
	156 -&gt; ACME Gold
	157 -&gt; ACME Platinum
	158 -&gt; ACME Silver
	159 -&gt; DEFAULT Bronze
	160 -&gt; DEFAULT Gold
	161 -&gt; DEFAULT Platinum
	162 -&gt; DEFAULT Silver
	104 -&gt; GEN Bronze
	102 -&gt; GEN Gold
	101 -&gt; GEN Platinum
	103 -&gt; GEN Silver
	154 -&gt; PRGN Bronze
	152 -&gt; PRGN Gold
	151 -&gt; PRGN Platinum
	153 -&gt; PRGN Silver

	Here, if '155' is provided as value in item xml, on the application the value of this field will be 'ACME Bronze'


Parent-department [Optional]: The parent department. 
	
	Name of this element in the application: General &gt; Parent Department. 

Valid Values: Any string, or you can select existing department record from the application repository. 

Cost-center [Optioanl]: The cost center.

	Name of this element in the application: General &gt; Cost Center. 

	Valid Values: Any string. 
</description>
        <from>items</from>
        <to>items</to>
      </input>
      <input global="false" required="false">
        <description>Provide username/password in form of xml. 

This input parameter is required when the user wants to override the default values for username and password provided in the adapter configuration. This is required for cases where an operation cannot be executed with the default username/password provided in the adapter configuration and only user with special permissions can execute the operation. Examples of such operations can be - 'approve-change', 'deny-change', 'close-change', 'approve-task'

Sample XML Format: 

&lt;connection-parameters&gt;
	&lt;alternate-username&gt;USERNAME&lt;/alternate-username&gt;
	&lt;alternate-password&gt;PASSWORD&lt;/alternate-password&gt;
&lt;/connection-parameters&gt;</description>
        <from>connection parameters</from>
        <to>connection parameters</to>
      </input>
      <output global="false" required="false">
        <description>The adapter response containing the results. </description>
        <to>adapter response</to>
        <from>adapter response</from>
      </output>
    </parameters>
    <access />
    <sequence>
      <switch>
        <meta>
          <documentation />
          <run-mode-handling>
            <run-mode>OCP</run-mode>
            <allow-step-into>true</allow-step-into>
          </run-mode-handling>
          <checkpoint>false</checkpoint>
        </meta>
        <execute-all-applicable-cases>false</execute-all-applicable-cases>
        <default>
          <sequence>
            <call-process>
              <process-name>:AO-AD-HP_ServiceCenter:Utilities:Operation Name Error Reporting</process-name>
              <parameters>
                <input>
                  <value>delete-department</value>
                  <to>operation name</to>
                </input>
                <input>
                  <from>items</from>
                  <to>items</to>
                </input>
              </parameters>
              <meta>
                <documentation />
                <run-mode-handling>
                  <run-mode>OCP</run-mode>
                  <allow-step-into>false</allow-step-into>
                </run-mode-handling>
                <checkpoint>false</checkpoint>
              </meta>
              <location>:switch[1]:sequence[1]:call-process[1]</location>
            </call-process>
          </sequence>
        </default>
        <case>
          <condition>
            <document>
              <input>
                <from>items</from>
              </input>
            </document>
            <xpath-expression>
              <xpath-replacement-tokens />
              <xpath><![CDATA[(//operation-name)[1]/text() = 'delete-department']]></xpath>
            </xpath-expression>
          </condition>
          <sequence>
            <assign>
              <assignment>
                <document>
                  <input>
                    <from>items</from>
                  </input>
                </document>
                <result>
                  <output>
                    <to>items</to>
                  </output>
                </result>
                <xslt-stylesheet>
                  <stylesheet-replacement-tokens />
                  <stylesheet><![CDATA[<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
  <xsl:output indent="no" />
  <xsl:template match="/">
    <items>
      <xsl:for-each select="//item">
        <item>
          <entity-type>
            <xsl:text disable-output-escaping="no">department</xsl:text>
          </entity-type>
          <xsl:copy-of select="./*" />
        </item>
      </xsl:for-each>
    </items>
  </xsl:template>
</xsl:stylesheet>]]></stylesheet>
                </xslt-stylesheet>
              </assignment>
              <meta>
                <documentation />
                <checkpoint>false</checkpoint>
              </meta>
              <location>:switch[1]:sequence[2]:assign[1]</location>
            </assign>
            <call-process>
              <process-name>:AO-AD-HP_ServiceCenter:Utilities:Configuration_Management:Delete Configuration Item Utility</process-name>
              <parameters>
                <input>
                  <from>adapter name</from>
                  <to>adapter name</to>
                </input>
                <input>
                  <from>items</from>
                  <to>items</to>
                </input>
                <input>
                  <from>connection parameters</from>
                  <to>connection parameters</to>
                </input>
                <output>
                  <from>adapter response</from>
                  <to>adapter response</to>
                </output>
              </parameters>
              <meta>
                <documentation />
                <run-mode-handling>
                  <run-mode>OCP</run-mode>
                  <allow-step-into>false</allow-step-into>
                </run-mode-handling>
                <checkpoint>false</checkpoint>
              </meta>
              <location>:switch[1]:sequence[2]:call-process[1]</location>
            </call-process>
          </sequence>
        </case>
        <location>:switch[1]</location>
      </switch>
    </sequence>
    <meta>
      <expose-to>
        <consumer>RULE</consumer>
        <consumer>SCHEDULE</consumer>
      </expose-to>
      <documentation>
        <description>

Delete Department

This wrapper deletes an existing 'Department' record via the application. </description>
        <version>1.0</version>
      </documentation>
      <peer-location>
        <location>any</location>
      </peer-location>
      <record-metrics>false</record-metrics>
      <process-id>70473f52-fe23-3a4b-9f63-7e57899de8a0</process-id>
      <author />
      <category />
      <status />
      <keywords />
      <systems />
      <last-modified-by />
      <last-modified>1290593572363</last-modified>
    </meta>
  </process-def>
</process>