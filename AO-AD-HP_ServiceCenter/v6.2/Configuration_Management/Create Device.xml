<process draft="false" dev-studio-version="7.6.01.02">
  <process-def name=":AO-AD-HP_ServiceCenter:v6.2:Configuration_Management:Create Device">
    <parameters>
      <input global="false" required="false">
        <description>The name of the adapter to use to handle the request. Default adapter name: HPSCActor.</description>
        <from>adapter name</from>
        <to>adapter name</to>
      </input>
      <input global="false" required="true">
        <description>The items for the adapter request. This should be an XML document with a root element named "items" having a child "item", which should contain the data necessary to execute the specific request. 

Create Device 

This wrapper creates device record via the application. The application saves this record into its repository which can later be used.

Sample Item Xml:

&lt;items&gt;
	&lt;item&gt;
		&lt;operation-name&gt;create-device&lt;/operation-name&gt;
		&lt;model&gt;
			&lt;keys&gt;
			  	&lt;configuration-item&gt;
					&lt;value&gt;NewDevice4&lt;/value&gt;
					&lt;type&gt;String&lt;/type&gt;
			  	&lt;/configuration-item&gt;
			&lt;/keys&gt;
			&lt;instance&gt;
			  &lt;configuration-item&gt;
				&lt;value&gt;NewDevice10&lt;/value&gt;
				&lt;type&gt;String&lt;/type&gt;
			  &lt;/configuration-item&gt;
			  &lt;configuration-item-type&gt;
				&lt;value&gt;device&lt;/value&gt;
				&lt;type&gt;String&lt;/type&gt;
			  &lt;/configuration-item-type&gt;
			  &lt;status&gt;
				&lt;value&gt;status&lt;/value&gt;
				&lt;type&gt;String&lt;/type&gt;
			  &lt;/status&gt;

			  &lt;vendor&gt;
				&lt;value&gt;Vendor name&lt;/value&gt;
				&lt;type&gt;String&lt;/type&gt;
			  &lt;/vendor&gt;
			  &lt;parent-device&gt;
				&lt;value&gt;parent device&lt;/value&gt;
				&lt;type&gt;String&lt;/type&gt;
			  &lt;/parent-device&gt;
			  &lt;model&gt;
				&lt;value&gt;model&lt;/value&gt;
				&lt;type&gt;String&lt;/type&gt;
			  &lt;/model&gt;
			  &lt;serial-number&gt;
				&lt;value&gt;serial number&lt;/value&gt;
				&lt;type&gt;String&lt;/type&gt;
			  &lt;/serial-number&gt;
			  &lt;location&gt;
				&lt;value&gt;location&lt;/value&gt;
				&lt;type&gt;String&lt;/type&gt;
			  &lt;/location&gt;
			  &lt;contact-name&gt;
				&lt;value&gt;contact name&lt;/value&gt;
				&lt;type&gt;String&lt;/type&gt;
			  &lt;/contact-name&gt;
			  &lt;part-number&gt;
				&lt;value&gt;part number&lt;/value&gt;
				&lt;type&gt;String&lt;/type&gt;
			  &lt;/part-number&gt;
			  
			  &lt;configuration-item-sub-type&gt;
				&lt;value&gt;cist&lt;/value&gt;
				&lt;type&gt;String&lt;/type&gt;
			  &lt;/configuration-item-sub-type&gt;
			  &lt;location-code&gt;
				&lt;value&gt;location code&lt;/value&gt;
				&lt;type&gt;String&lt;/type&gt;
			  &lt;/location-code&gt;
			  &lt;building&gt;
				&lt;value&gt;bulding&lt;/value&gt;
				&lt;type&gt;String&lt;/type&gt;
			  &lt;/building&gt;
			  &lt;floor&gt;
				&lt;value&gt;floor&lt;/value&gt;
				&lt;type&gt;String&lt;/type&gt;
			  &lt;/floor&gt;
			  &lt;room&gt;
				&lt;value&gt;room&lt;/value&gt;
				&lt;type&gt;String&lt;/type&gt;
			  &lt;/room&gt;
			  &lt;system-down&gt;
				&lt;value&gt;true&lt;/value&gt;
				&lt;type&gt;Boolean&lt;/type&gt;
			  &lt;/system-down&gt;
			  &lt;asset-tag&gt;
				&lt;value&gt;asset tag&lt;/value&gt;
				&lt;type&gt;String&lt;/type&gt;
			  &lt;/asset-tag&gt;
			  &lt;critical&gt;
				&lt;value&gt;true&lt;/value&gt;
				&lt;type&gt;Boolean&lt;/type&gt;
			  &lt;/critical&gt;
			  &lt;company&gt;
				&lt;value&gt;company&lt;/value&gt;
				&lt;type&gt;String&lt;/type&gt;
			  &lt;/company&gt;
			  &lt;department&gt;
				&lt;value&gt;department&lt;/value&gt;
				&lt;type&gt;String&lt;/type&gt;
			  &lt;/department&gt;
			  &lt;assignment-group&gt;
				&lt;value&gt;assignment&lt;/value&gt;
				&lt;type&gt;String&lt;/type&gt;
			  &lt;/assignment-group&gt;
			&lt;/instance&gt;
		&lt;/model&gt;
	&lt;/item&gt;
&lt;/items&gt;

Elements’ Description: 

The elements provided in the instance element refer to particular field of the record. We create an instance of this record by providing information in the &lt;value&gt; elements.

NOTE: The elements provided in &lt;keys&gt; element doesn’t mean that we are asking the application that these elements (the elements in the &lt;keys&gt; element) should be treated as keys for the record being created. Application has pre-defined key elements. The elements given in the &lt;keys&gt; element are meaning-less. 

Complete Elements’ Description: 

NOTE: To create a company record, you require at least &lt;configuration-item&gt; and &lt;configuration-item-type&gt; elements to be populated properly. See the bold elements in this “Elements’ Description”.


item [Required]:
	This is a child of &lt;items&gt;. This &lt;item&gt; tag can be multiple times to support "multiple items support". 

operation-name [Required]: 

	This shows, what operation you want to perform.

	Valid values:
&lt;operation-name&gt;create-device&lt;/operation-name&gt; is valid operation name element.
	 
keys [Required]: used to ask application to search for the record with the elements inside it.

 Instance [Required] :
It can have many children. The children of this element describe fields of 	a record.


configuration-item [Required]: This is the name of the record. It must be unique as it’s used as key as well. 
	
Name of this element in the application: Configuration Item.”

	Valid Values: Any unique string.
	
	Default Value: I’ts a required element. So, not default value.


Configuration-item-type[Required]: the type of the configuration item. 

Name of this element in the application: When we create any configuration item then at beginning level we’re asked for the type of configuration item. We have to select one of them. Like if we want to create display device then we should select that one. Other example might be computer, telecommunication device etc. 
	
Also note that, these subtype are customizable. You can create new configuration item type in through the application.
	
Valid Values: Device

	Default Value:  No default value, as it’s required field.
	
Note: if you’re creating computer then you must populate this element with “device”.	

Status[Optional] : the status of the configuration item.

	Name of this element in the application: “System Summary &gt; Status”
	
	Valid Values: Any one string out of following set of strings
	
	Installed
	Available
	Warehouse
	Transfer
	RMA
	Replaced
	Reserved
	Retired

	Default Value: “”

Vendor [Optional]: The vendor name. 

	Name of this element in the application: General &gt;  Vendor Name.
	
Valid Values: Any string or you can select vendor record from the application’s repository.

Default Value: “”

Parent-device [Optional] : parent device for the record.

	Name of this element in the application: This field seems to be hidden. 
	
Valid Values: Any string. 
	
Default Value: “”.

Model [Optional] : The model field for the record. 
	
	Name of this element in the application: This field seems to be hidden.

	Valid Values: Any string.

	Default Values: “”.

Serial-number[Optional]: The serial number for the record.
	Name of this element in the application: General &gt; Serial Number.

	Valid Values: Any string. 

	Default Value: Space, i.e. “”.

Location [Optional] :  The location field for the record.
	
	Name of this element in the application: General &gt; Location.

	Valid Values: Any string. Or you can select any existing location record too.

	Default Value: “”.

contact-name [Optional] : The contact name.

	Name of this element in the application: General &gt; Contact Name.
	
	Valid Values: Any string. 

	Default Value: “”.
 
part-number [Optional] : Part number of the record.

	Name of this element in the application: General &gt; Part Number.

	Valid Values: Any string.

	Default Value: “”.

configuration-item-sub-type [Optional]: Sub type of configuration item. 

	Name of this element in the application: General &gt; Subtype.

	Valid Values: Any string.

	Default value: “”.

location-code [Optional] : The location code for the record. 

	Name of this element in the application: This field seems to be hidden.

	Valid Values: Any string. 

	Default value: “”.

Building [Optional] : The building field for the record. 

	Name of this element in the application: General &gt; Building. 
	
	Valid Values: Any string.

	Default Value: “”.

Floor [Optional] : Floor information for the record.
	
	Name of this element in the application: General &gt; Floor.

	Valid values: Any string. 

	Default Value: “”.

Room [Optional] : The room information for the record.
	
	Name of this element in the application: General &gt; Room.

	Valid Values: Any string.

	Default Value: “”.

System-down [Optional]: The information whether system is down or not.

	Name of this element in the application: System Down (radio button).

	Valid values: true, false. True -&gt; system down, False -&gt; system not down.

Default Value: false.

asset-tag [Optional] : The asset tag information. 
	
	Name of this element in the application: Asset  Tag.

	Valid Values: Any string.

	Default Value: “”.

Critical [Optional] : The information whether the record is critical or not.

	Name of this element in the application: Critical CI (radio button)

	Valid Values: true, false. True -&gt; record is critical, False -&gt; record is not critical.

	Default Value: false.

Company [Optional] : Associated company for the record.

	Name of this element in the application: This field seems to be hidden. 

	Valid values: Any string.

	Default Value: “”.

Department [Optional] : Associated department record.

	Name of this element in the application: Department. 
	
	Valid Values: Any string. Or you can select any existing department record too.
	
Default Value: “”.

Assignment-group [Optional]: The assignment group for the record.

	Name of this element in the application: General &gt; Assignment. 

Valid Values: Any string. Or you can select existing contact record too.

Default Value: Space, i.e. “”.
</description>
        <from>items</from>
        <to>items</to>
      </input>
      <input global="false" required="false">
        <description>Provide username/password in form of xml. 

This input parameter is required when the user wants to override the default values for username and password provided in the adapter configuration. This is required for cases where an operation cannot be executed with the default username/password provided in the adapter configuration and only user with special permissions can execute the operation. Examples of such operations can be - 'approve-change', 'deny-change', 'close-change', 'approve-task'

Sample XML Format: 

&lt;connection-parameters&gt;
	&lt;alternate-username&gt;USERNAME&lt;/alternate-username&gt;
	&lt;alternate-password&gt;PASSWORD&lt;/alternate-password&gt;
&lt;/connection-parameters&gt;</description>
        <from>connection parameters</from>
        <to>connection parameters</to>
      </input>
      <output global="false" required="false">
        <description>The adapter response containing the results. </description>
        <to>adapter response</to>
        <from>adapter response</from>
      </output>
    </parameters>
    <access />
    <sequence>
      <switch>
        <meta>
          <documentation />
          <run-mode-handling>
            <run-mode>OCP</run-mode>
            <allow-step-into>true</allow-step-into>
          </run-mode-handling>
          <checkpoint>false</checkpoint>
        </meta>
        <execute-all-applicable-cases>false</execute-all-applicable-cases>
        <default>
          <sequence>
            <call-process>
              <process-name>:AO-AD-HP_ServiceCenter:Utilities:Operation Name Error Reporting</process-name>
              <parameters>
                <input>
                  <value>create-device</value>
                  <to>operation name</to>
                </input>
                <input>
                  <from>items</from>
                  <to>items</to>
                </input>
              </parameters>
              <meta>
                <documentation />
                <run-mode-handling>
                  <run-mode>OCP</run-mode>
                  <allow-step-into>false</allow-step-into>
                </run-mode-handling>
                <checkpoint>false</checkpoint>
              </meta>
              <location>:switch[1]:sequence[1]:call-process[1]</location>
            </call-process>
          </sequence>
        </default>
        <case>
          <condition>
            <document>
              <input>
                <from>items</from>
              </input>
            </document>
            <xpath-expression>
              <xpath-replacement-tokens />
              <xpath><![CDATA[(//operation-name)[1]/text() = 'create-device']]></xpath>
            </xpath-expression>
          </condition>
          <sequence>
            <assign>
              <assignment>
                <document>
                  <input>
                    <from>items</from>
                  </input>
                </document>
                <result>
                  <output>
                    <to>items</to>
                  </output>
                </result>
                <xslt-stylesheet>
                  <stylesheet-replacement-tokens />
                  <stylesheet><![CDATA[<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
  <xsl:output indent="no" />
  <xsl:template match="/">
    <items>
      <xsl:for-each select="//item">
        <item>
          <entity-type>
            <xsl:text disable-output-escaping="no">device</xsl:text>
          </entity-type>
          <xsl:copy-of select="./*" />
        </item>
      </xsl:for-each>
    </items>
  </xsl:template>
</xsl:stylesheet>]]></stylesheet>
                </xslt-stylesheet>
              </assignment>
              <meta>
                <documentation />
                <checkpoint>false</checkpoint>
              </meta>
              <location>:switch[1]:sequence[2]:assign[1]</location>
            </assign>
            <call-process>
              <process-name>:AO-AD-HP_ServiceCenter:Utilities:Configuration_Management:Create Configuration Item Utility</process-name>
              <parameters>
                <input>
                  <from>adapter name</from>
                  <to>adapter name</to>
                </input>
                <input>
                  <from>items</from>
                  <to>items</to>
                </input>
                <input>
                  <from>connection parameters</from>
                  <to>connection parameters</to>
                </input>
                <output>
                  <from>adapter response</from>
                  <to>adapter response</to>
                </output>
              </parameters>
              <meta>
                <documentation />
                <run-mode-handling>
                  <run-mode>OCP</run-mode>
                  <allow-step-into>false</allow-step-into>
                </run-mode-handling>
                <checkpoint>false</checkpoint>
              </meta>
              <location>:switch[1]:sequence[2]:call-process[1]</location>
            </call-process>
          </sequence>
        </case>
        <location>:switch[1]</location>
      </switch>
    </sequence>
    <meta>
      <expose-to>
        <consumer>RULE</consumer>
        <consumer>SCHEDULE</consumer>
      </expose-to>
      <documentation>
        <description>
Create Device 

This wrapper creates device record via the application. The application saves this record into its repository which can later be used.</description>
        <version>1.0</version>
      </documentation>
      <peer-location>
        <location>any</location>
      </peer-location>
      <record-metrics>false</record-metrics>
      <process-id>3fffcc6a-2e09-327a-9972-8a8fb6a762f2</process-id>
      <author />
      <category />
      <status />
      <keywords />
      <systems />
      <last-modified-by />
      <last-modified>1290593556767</last-modified>
    </meta>
  </process-def>
</process>