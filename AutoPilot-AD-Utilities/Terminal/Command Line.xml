<process draft="false" dev-studio-version="20.02.00">
  <process-def name=":AutoPilot-AD-Utilities:Terminal:Command Line">
    <parameters>
      <input global="false" required="false">
        <description>The name of the Adapter to use for this process.</description>
        <from>adapter name</from>
        <to>adapter name</to>
      </input>
      <input global="false" required="false">
        <description>The command to execute, including arguments. This expects only String input.  Such as ls, dir and mkdir etc.</description>
        <from>command</from>
        <to>command</to>
      </input>
      <input global="false" required="false">
        <description>Directory in which to execute the command.</description>
        <from>working directory</from>
        <to>working dir</to>
      </input>
      <input global="false" required="false">
        <description>Directory where the command is located.</description>
        <from>command directory</from>
        <to>command directory</to>
      </input>
      <input global="false" required="false">
        <description>The method of encryption used
for the command value provided.
Valid value: Base64, Plain</description>
        <from>command encryption type</from>
        <to>command encryption type</to>
      </input>
      <input global="false" required="false">
        <description>Time, in whole seconds, allotted
to complete the execution of the
command.</description>
        <from>command timeout</from>
        <to>command timeout</to>
      </input>
      <input global="false" required="false">
        <description>An XML document containing the commands to be executed on the device. </description>
        <from>commands</from>
        <to>commands</to>
      </input>
      <input global="false" required="false">
        <description>This input parameter determines whether user wants to display the command executed in adapter response or not 

valid values :- true, false 
default value :- false
Sample commands request is :
&lt;commands&gt;
 	&lt;command  timeout-secs="500" mask-command-string= "true" &gt;hostname&lt;/command&gt;
&lt;/commands&gt;                    
                       
  Sample response using mask command parameter is :
  &lt;command-result&gt;
  &lt;metadata&gt;
    &lt;status&gt;success&lt;/status&gt;
  &lt;/metadata&gt;
  &lt;targets-output&gt;
    &lt;target-output&gt;
      &lt;metadata&gt;
        &lt;os-id&gt;Windows Server 2016&lt;/os-id&gt;
        &lt;os-version&gt;10.0&lt;/os-version&gt;
        &lt;os-arch&gt;amd64&lt;/os-arch&gt;
        &lt;status&gt;success&lt;/status&gt;
      &lt;/metadata&gt;
      &lt;commands-output&gt;
        &lt;command-output&gt;
          &lt;metadata&gt;
            &lt;command&gt;hostname&lt;/command&gt;
            &lt;working-dir /&gt;
            &lt;command-dir /&gt;
            &lt;line-count&gt;1&lt;/line-count&gt;
            &lt;execution-milliseconds&gt;73&lt;/execution-milliseconds&gt;
            &lt;exit-code&gt;0&lt;/exit-code&gt;
            &lt;status&gt;success&lt;/status&gt;
          &lt;/metadata&gt;
          &lt;output&gt;
            &lt;line index="1"&gt;Windows&lt;/line&gt;
          &lt;/output&gt;
        &lt;/command-output&gt;
      &lt;/commands-output&gt;
    &lt;/target-output&gt;
  &lt;/targets-output&gt;
&lt;/command-result&gt;</description>
        <from>mask command string</from>
        <to>mask command string</to>
      </input>
      <input global="false" required="false">
        <description>An XML document containing the environment variables to set/unset before command execution.

Sample Example:

&lt;env-variables&gt;
            	&lt;env-variable&gt;
            	&lt;name&gt;New_Variable11&lt;/name&gt;
            	&lt;value&gt;New_varaible11_value&lt;/value&gt;
            	&lt;/env-variable&gt;
            	&lt;env-variable&gt;
            	&lt;name&gt;New_Variable22&lt;/name&gt;
            	&lt;value&gt;New_varaible22_value&lt;/value&gt;
            	&lt;/env-variable&gt;
            	&lt;env-variable&gt;
            	&lt;name&gt;New_Variable11&lt;/name&gt;&lt;!-- to delete which is recently added --&gt;
            	&lt;value/&gt;
            	&lt;/env-variable&gt;
   &lt;/env-variables&gt;
</description>
        <from>environment variables</from>
        <to>environment variables</to>
      </input>
      <input global="false" required="false">
        <description>run-as[Optional]

Takes in Boolean value as "true" or "false". 

For executing the command as different user,"run-as" attribute should be set to true.
By default, the value is set to false. 

Run-as feature is supported in command line adapter on all Linux/Unix/Windows platforms</description>
        <from>run-as</from>
        <to>run_as</to>
      </input>
      <input global="false" required="false">
        <description>user-name[Conditional]

Name of the user with which the command needs to be executed. 

If "run-as" is set to true, then this is a required parameter.

Supported for Run-as on all Linux/Unix/Windows platforms.</description>
        <from>user-name</from>
        <to>user_name</to>
      </input>
      <input global="false" required="false">
        <description>password [Optional]

Password for the specified user to execute command (run-as).

If this is on Linux/Unix platform:
1) If "krb-authentication" is set to true then password is not required.
2) Else specify the password with which CDP/AP/LAP service is running.</description>
        <from>password</from>
        <to>password</to>
      </input>
      <input global="false" required="false">
        <description>wait-for-command-output [Optional]

When set to "true" will wait for process output or until adapter time-out occurs.
By default, the value is set to false.

Supported ONLY for Run-as on Windows platform.</description>
        <from>wait-for-command-output</from>
        <to>wait_for_command_output</to>
      </input>
      <input global="false" required="false">
        <description>krb-authentication [Optional]

Takes in Boolean value as "true" or "false". For executing the command as different user &amp; using Kerberos ticket to authenticate the user, this attribute should be set to true.

By default, the value is set to false.

Supported ONLY for Run-as on Linux/Unix platforms.</description>
        <from>krb-authentication</from>
        <to>krb_authentication</to>
      </input>
      <input global="false" required="false">
        <description>krb-command [Optional]

The default command used by adapter to execute command as different user with Kerberos authentication is "ksu". However, if a user wants to switch to a different command similar to "ksu" (like "kuu"), they can use this attribute.

Supported ONLY for Run-as on Linux/Unix platforms.</description>
        <from>krb-command</from>
        <to>krb_command</to>
      </input>
      <input global="false" required="false">
        <description>krb-options[Optional]

The valid krb-options are:

-n principal_name
       Specify  a Kerberos principal name for specified krb user.
                
-c cache_name
    Specify  cache name (e.g.  -c FILE:/tmp/my_cache).

-k  Do not delete the target cache upon termination of the target  shell or a command ( -e command).  Without -k, it will delete the target cache.

Please note: the above command options are specific to "ksu" that is the default krb-command.
User can set krb-options specific to their krb-command specified. 

Supported ONLY for Run-as on Linux/Unix platforms</description>
        <from>krb-options</from>
        <to>krb_options</to>
      </input>
      <input global="false" required="false">
        <description>continue-on-failure[Optional]

Command attribute for continuing execution after a command failure.
Takes in Boolean value as "true" or "false".
By default the value is set to "false".</description>
        <from>continue-on-failure</from>
        <to>continue_on_failure</to>
      </input>
      <input global="false" required="false">
        <description>ignore-exit-code[Optional]

Command attribute for ignoring an exit code returned from response.
Takes in Boolean value as "true" or "false".
By default the value is set to "false".</description>
        <from>ignore-exit-code</from>
        <to>ignore_exit_code</to>
      </input>
      <input global="false" required="false">
        <description>disable-line-termination[Optional]

Command attribute for menu commands that need to be sent as a single character without any line termination.With this attribute set to true, the command is sent without any termination character.
Takes in Boolean value as "true" or "false".
By default the value is set to "false".</description>
        <from>disable-line-termination</from>
        <to>disable_line_termination</to>
      </input>
      <input global="false" required="false">
        <description>is-special-character[Optional]

Command attribute to define a command for Escape (ESC), Line Feed (LF), or Carriage Return (CR) by setting it to true.In the absence of this attribute, if you set it to false, you can specify any valid OS command.
Takes in Boolean value as "true" or "false".
By default the value is set to "false".</description>
        <from>is-special-character</from>
        <to>is_special_character</to>
      </input>
      <output global="false" required="false">
        <description>An adapter response contains the result returned from an adapter request. The contents of the response will vary by adapter.</description>
        <to>adapter response</to>
        <from>adapter response</from>
      </output>
    </parameters>
    <access />
    <sequence>
      <spawn>
        <meta>
          <documentation />
          <run-mode-handling>
            <run-mode>OCP</run-mode>
            <allow-step-into>true</allow-step-into>
          </run-mode-handling>
          <checkpoint>false</checkpoint>
        </meta>
        <sequence>
          <switch>
            <meta>
              <documentation />
              <run-mode-handling>
                <run-mode>OCP</run-mode>
                <allow-step-into>true</allow-step-into>
              </run-mode-handling>
              <checkpoint>false</checkpoint>
            </meta>
            <execute-all-applicable-cases>false</execute-all-applicable-cases>
            <default>
              <sequence />
            </default>
            <case>
              <condition>
                <document>
                  <input>
                    <from>command</from>
                  </input>
                </document>
                <xpath-expression>
                  <xpath-replacement-tokens />
                  <xpath><![CDATA[string-length(.)>0]]></xpath>
                </xpath-expression>
              </condition>
              <sequence>
                <assign>
                  <assignment>
                    <input>
                      <from>command</from>
                    </input>
                    <output>
                      <to>command</to>
                    </output>
                  </assignment>
                  <meta>
                    <documentation />
                    <checkpoint>false</checkpoint>
                  </meta>
                  <location>:spawn[1]:sequence[1]:switch[1]:sequence[2]:assign[1]</location>
                </assign>
              </sequence>
            </case>
            <case>
              <condition>
                <document>
                  <input>
                    <from>commands</from>
                  </input>
                </document>
                <xpath-expression>
                  <xpath-replacement-tokens />
                  <xpath><![CDATA[string-length(.)>0]]></xpath>
                </xpath-expression>
              </condition>
              <sequence>
                <console-output>
                  <type>INFO</type>
                </console-output>
                <assign>
                  <assignment>
                    <input>
                      <from>commands</from>
                    </input>
                    <output>
                      <to>commands</to>
                    </output>
                  </assignment>
                  <meta>
                    <documentation />
                    <checkpoint>false</checkpoint>
                  </meta>
                  <location>:spawn[1]:sequence[1]:switch[1]:sequence[3]:assign[1]</location>
                </assign>
              </sequence>
            </case>
            <case applies-if-any-condition-true="false">
              <condition>
                <document>
                  <input>
                    <from>command</from>
                  </input>
                </document>
                <xpath-expression>
                  <xpath-replacement-tokens />
                  <xpath><![CDATA[string-length(.)=0]]></xpath>
                </xpath-expression>
              </condition>
              <condition>
                <document>
                  <input>
                    <from>commands</from>
                  </input>
                </document>
                <xpath-expression>
                  <xpath-replacement-tokens />
                  <xpath><![CDATA[string-length(.)=0]]></xpath>
                </xpath-expression>
              </condition>
              <sequence>
                <assign>
                  <assignment>
                    <output>
                      <to>command</to>
                      <value>echo Success</value>
                    </output>
                  </assignment>
                  <meta>
                    <documentation />
                    <checkpoint>false</checkpoint>
                  </meta>
                  <location>:spawn[1]:sequence[1]:switch[1]:sequence[4]:assign[1]</location>
                </assign>
              </sequence>
            </case>
            <location>:spawn[1]:sequence[1]:switch[1]</location>
          </switch>
        </sequence>
        <sequence>
          <switch>
            <meta>
              <documentation />
              <run-mode-handling>
                <run-mode>OCP</run-mode>
                <allow-step-into>true</allow-step-into>
              </run-mode-handling>
              <checkpoint>false</checkpoint>
            </meta>
            <execute-all-applicable-cases>false</execute-all-applicable-cases>
            <default>
              <sequence />
            </default>
            <case>
              <condition>
                <document>
                  <input>
                    <from>adapter name</from>
                  </input>
                </document>
                <xpath-expression>
                  <xpath-replacement-tokens />
                  <xpath><![CDATA[string-length()=0]]></xpath>
                </xpath-expression>
              </condition>
              <sequence>
                <assign>
                  <assignment>
                    <output>
                      <to>adapter name</to>
                      <value>CommandLineAdapter</value>
                    </output>
                  </assignment>
                  <meta>
                    <documentation />
                    <checkpoint>false</checkpoint>
                  </meta>
                  <location>:spawn[1]:sequence[2]:switch[1]:sequence[2]:assign[1]</location>
                </assign>
              </sequence>
            </case>
            <location>:spawn[1]:sequence[2]:switch[1]</location>
          </switch>
        </sequence>
        <location>:spawn[1]</location>
      </spawn>
      <spawn>
        <meta>
          <documentation />
          <run-mode-handling>
            <run-mode>OCP</run-mode>
            <allow-step-into>true</allow-step-into>
          </run-mode-handling>
          <checkpoint>false</checkpoint>
        </meta>
        <sequence>
          <utility>
            <string>
              <lowercase>
                <input>
                  <from>command encryption type</from>
                </input>
              </lowercase>
            </string>
            <output global="false">
              <to>command encryption type</to>
            </output>
            <meta>
              <documentation />
              <checkpoint>false</checkpoint>
            </meta>
            <location>:spawn[2]:sequence[1]:utility[1]</location>
          </utility>
          <assign>
            <assignment>
              <document>
                <input>
                  <from>command encryption type</from>
                </input>
              </document>
              <result>
                <output>
                  <to>command encryption type</to>
                </output>
              </result>
              <xslt-stylesheet>
                <stylesheet-replacement-tokens />
                <stylesheet><![CDATA[<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
  <xsl:output indent="yes" />
  <xsl:template match="/">
    <value>
      <xsl:choose>
        <xsl:when test="contains(., &quot;base64&quot;)">
          <xsl:text disable-output-escaping="no">base64</xsl:text>
        </xsl:when>
        <xsl:otherwise>
          <xsl:text disable-output-escaping="no">plain</xsl:text>
        </xsl:otherwise>
      </xsl:choose>
    </value>
  </xsl:template>
</xsl:stylesheet>]]></stylesheet>
              </xslt-stylesheet>
            </assignment>
            <meta>
              <documentation />
              <checkpoint>false</checkpoint>
            </meta>
            <location>:spawn[2]:sequence[1]:assign[1]</location>
          </assign>
        </sequence>
        <sequence>
          <assign>
            <assignment>
              <document>
                <input>
                  <from>command timeout</from>
                </input>
              </document>
              <result>
                <output>
                  <to>command timeout</to>
                </output>
              </result>
              <xslt-stylesheet>
                <stylesheet-replacement-tokens />
                <stylesheet><![CDATA[<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
  <xsl:output indent="yes" />
  <xsl:template match="/">
    <value>
      <xsl:choose>
        <xsl:when test="number(.)">
          <xsl:value-of select="." disable-output-escaping="no" />
        </xsl:when>
        <xsl:otherwise>
          <xsl:text disable-output-escaping="no">60</xsl:text>
        </xsl:otherwise>
      </xsl:choose>
    </value>
  </xsl:template>
</xsl:stylesheet>]]></stylesheet>
              </xslt-stylesheet>
            </assignment>
            <meta>
              <documentation />
              <checkpoint>false</checkpoint>
            </meta>
            <location>:spawn[2]:sequence[2]:assign[1]</location>
          </assign>
        </sequence>
        <location>:spawn[2]</location>
      </spawn>
      <switch>
        <meta>
          <documentation />
          <run-mode-handling>
            <run-mode>OCP</run-mode>
            <allow-step-into>true</allow-step-into>
          </run-mode-handling>
          <checkpoint>false</checkpoint>
        </meta>
        <execute-all-applicable-cases>false</execute-all-applicable-cases>
        <default>
          <sequence>
            <assign>
              <assignment>
                <document>
                  <input>
                    <from>command</from>
                  </input>
                </document>
                <result>
                  <output>
                    <to>adapter request</to>
                  </output>
                </result>
                <xslt-stylesheet>
                  <stylesheet-replacement-tokens>
                    <replacement-token name="working-dir">
                      <input global="false">
                        <from>working dir</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="command timeout">
                      <input global="false">
                        <from>command timeout</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="command encryption type">
                      <input global="false">
                        <from>command encryption type</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="command directory">
                      <input global="false">
                        <from>command directory</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="command">
                      <input global="false">
                        <from>command</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="commands">
                      <input global="false">
                        <from>commands</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="environment variables">
                      <input global="false">
                        <from>environment variables</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="run-as">
                      <input global="false">
                        <from>run_as</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="password">
                      <input global="false">
                        <from>password</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="user-name">
                      <input global="false">
                        <from>user_name</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="wait-for-command-output">
                      <input global="false">
                        <from>wait_for_command_output</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="krb-authentication">
                      <input global="false">
                        <from>krb_authentication</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="krb-command">
                      <input global="false">
                        <from>krb_command</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="krb-options">
                      <input global="false">
                        <from>krb_options</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="continue-on-failure">
                      <input global="false">
                        <from>continue_on_failure</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="ignore-exit-code">
                      <input global="false">
                        <from>ignore_exit_code</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="disable-line-termination">
                      <input global="false">
                        <from>disable_line_termination</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="is-special-character">
                      <input global="false">
                        <from>is_special_character</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="mask command string">
                      <input global="false">
                        <from>mask command string</from>
                      </input>
                    </replacement-token>
                  </stylesheet-replacement-tokens>
                  <stylesheet><![CDATA[<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
  <xsl:output indent="no" cdata-section-elements="command " />
  <xsl:template match="/">
    <request-data>
      <command-request>
        ${environment variables}
        <xsl:if test="string-length(.)&gt;0">
          <commands>
            <command>
              <xsl:attribute name="mask-command-string">
                <xsl:choose>
                  <xsl:when test="string('$[mask command string]') = &quot;true&quot; or string('$[mask command string]') = &quot;TRUE&quot;">
                    <xsl:text disable-output-escaping="no">true</xsl:text>
                  </xsl:when>
                  <xsl:otherwise>
                    <xsl:text disable-output-escaping="no">false</xsl:text>
                  </xsl:otherwise>
                </xsl:choose>
              </xsl:attribute>
              <xsl:choose>
                <xsl:when test="'${command encryption type}'='base64'">
                  <xsl:attribute name="encryption-type">
                    <xsl:text disable-output-escaping="no">${command encryption type}</xsl:text>
                  </xsl:attribute>
                  <xsl:attribute name="timeout-secs">
                    <xsl:if test="string-length('${command timeout}')=0">
                      <xsl:text disable-output-escaping="no">60</xsl:text>
                    </xsl:if>
                    <xsl:text disable-output-escaping="no">${command timeout}</xsl:text>
                  </xsl:attribute>
                  <xsl:attribute name="command-dir">
                    <xsl:if test="string-length('${command directory}')!=0">
                      <xsl:text disable-output-escaping="no">${command directory}</xsl:text>
                    </xsl:if>
                  </xsl:attribute>
                  <xsl:attribute name="working-dir">
                    <xsl:if test="string-length('${working-dir}')!=0">
                      <xsl:text disable-output-escaping="no">${working-dir}</xsl:text>
                    </xsl:if>
                  </xsl:attribute>
                  <xsl:attribute name="continue-on-failure">
                    <xsl:if test="string-length('${continue-on-failure}')=0">
                      <xsl:text disable-output-escaping="no">false</xsl:text>
                    </xsl:if>
                    <xsl:text disable-output-escaping="no">${continue-on-failure}</xsl:text>
                  </xsl:attribute>
                  <xsl:attribute name="ignore-exit-code">
                    <xsl:if test="string-length('${ignore-exit-code}')=0">
                      <xsl:text disable-output-escaping="no">false</xsl:text>
                    </xsl:if>
                    <xsl:text disable-output-escaping="no">${ignore-exit-code}</xsl:text>
                  </xsl:attribute>
                  <xsl:attribute name="disable-line-termination">
                    <xsl:if test="string-length('${disable-line-termination}')=0">
                      <xsl:text disable-output-escaping="no">false</xsl:text>
                    </xsl:if>
                    <xsl:text disable-output-escaping="no">${disable-line-termination}</xsl:text>
                  </xsl:attribute>
                  <xsl:attribute name="is-special-character">
                    <xsl:if test="string-length('${is-special-character}')=0">
                      <xsl:text disable-output-escaping="no">false</xsl:text>
                    </xsl:if>
                    <xsl:text disable-output-escaping="no">${is-special-character}</xsl:text>
                  </xsl:attribute>
                </xsl:when>
                <xsl:when test="'${command encryption type}'='plain'">
                  <xsl:attribute name="encryption-type">
                    <xsl:text disable-output-escaping="no">${command encryption type}</xsl:text>
                  </xsl:attribute>
                  <xsl:attribute name="timeout-secs">
                    <xsl:if test="string-length('${command timeout}')=0">
                      <xsl:text disable-output-escaping="no">60</xsl:text>
                    </xsl:if>
                    <xsl:text disable-output-escaping="no">${command timeout}</xsl:text>
                  </xsl:attribute>
                  <xsl:attribute name="command-dir">
                    <xsl:if test="string-length('${command directory}')!=0">
                      <xsl:text disable-output-escaping="no">${command directory}</xsl:text>
                    </xsl:if>
                  </xsl:attribute>
                  <xsl:attribute name="working-dir">
                    <xsl:if test="string-length('${working-dir}')!=0">
                      <xsl:text disable-output-escaping="no">${working-dir}</xsl:text>
                    </xsl:if>
                  </xsl:attribute>
                  <xsl:attribute name="continue-on-failure">
                    <xsl:if test="string-length('${continue-on-failure}')=0">
                      <xsl:text disable-output-escaping="no">false</xsl:text>
                    </xsl:if>
                    <xsl:text disable-output-escaping="no">${continue-on-failure}</xsl:text>
                  </xsl:attribute>
                  <xsl:attribute name="ignore-exit-code">
                    <xsl:if test="string-length('${ignore-exit-code}')=0">
                      <xsl:text disable-output-escaping="no">false</xsl:text>
                    </xsl:if>
                    <xsl:text disable-output-escaping="no">${ignore-exit-code}</xsl:text>
                  </xsl:attribute>
                  <xsl:attribute name="disable-line-termination">
                    <xsl:if test="string-length('${disable-line-termination}')=0">
                      <xsl:text disable-output-escaping="no">false</xsl:text>
                    </xsl:if>
                    <xsl:text disable-output-escaping="no">${disable-line-termination}</xsl:text>
                  </xsl:attribute>
                  <xsl:attribute name="is-special-character">
                    <xsl:if test="string-length('${is-special-character}')=0">
                      <xsl:text disable-output-escaping="no">false</xsl:text>
                    </xsl:if>
                    <xsl:text disable-output-escaping="no">${is-special-character}</xsl:text>
                  </xsl:attribute>
                </xsl:when>
                <xsl:otherwise>
                  <xsl:attribute name="encryption-type">
                    <xsl:text disable-output-escaping="no">plain</xsl:text>
                  </xsl:attribute>
                  <xsl:attribute name="timeout-secs">
                    <xsl:if test="string-length('${command timeout}')=0">
                      <xsl:text disable-output-escaping="no">60</xsl:text>
                    </xsl:if>
                    <xsl:text disable-output-escaping="no">${command timeout}</xsl:text>
                  </xsl:attribute>
                  <xsl:attribute name="command-dir">
                    <xsl:if test="string-length('${command directory}')!=0">
                      <xsl:text disable-output-escaping="no">${command directory}</xsl:text>
                    </xsl:if>
                  </xsl:attribute>
                  <xsl:attribute name="working-dir">
                    <xsl:if test="string-length('${working-dir}')!=0">
                      <xsl:text disable-output-escaping="no">${working-dir}</xsl:text>
                    </xsl:if>
                  </xsl:attribute>
                  <xsl:attribute name="continue-on-failure">
                    <xsl:if test="string-length('${continue-on-failure}')=0">
                      <xsl:text disable-output-escaping="no">false</xsl:text>
                    </xsl:if>
                    <xsl:text disable-output-escaping="no">${continue-on-failure}</xsl:text>
                  </xsl:attribute>
                  <xsl:attribute name="ignore-exit-code">
                    <xsl:if test="string-length('${ignore-exit-code}')=0">
                      <xsl:text disable-output-escaping="no">false</xsl:text>
                    </xsl:if>
                    <xsl:text disable-output-escaping="no">${ignore-exit-code}</xsl:text>
                  </xsl:attribute>
                  <xsl:attribute name="disable-line-termination">
                    <xsl:if test="string-length('${disable-line-termination}')!=0">
                      <xsl:text disable-output-escaping="no">false</xsl:text>
                    </xsl:if>
                    <xsl:text disable-output-escaping="no">${disable-line-termination}</xsl:text>
                  </xsl:attribute>
                  <xsl:attribute name="is-special-character">
                    <xsl:if test="string-length('${is-special-character}')!=0">
                      <xsl:text disable-output-escaping="no">false</xsl:text>
                    </xsl:if>
                    <xsl:text disable-output-escaping="no">${is-special-character}</xsl:text>
                  </xsl:attribute>
                </xsl:otherwise>
              </xsl:choose>
              <xsl:choose>
                <xsl:when test="'${run-as}'='true'">
                  <xsl:attribute name="run-as">
                    <xsl:text disable-output-escaping="no">${run-as}</xsl:text>
                  </xsl:attribute>
                  <xsl:attribute name="user-name">
                    <xsl:text disable-output-escaping="no">${user-name}</xsl:text>
                  </xsl:attribute>
                  <xsl:attribute name="password">
                    <xsl:text disable-output-escaping="no">${password}</xsl:text>
                  </xsl:attribute>
                  <xsl:attribute name="wait-for-command-output">
                    <xsl:if test="string-length('${wait-for-command-output}')=0">
                      <xsl:text disable-output-escaping="no">false</xsl:text>
                    </xsl:if>
                    <xsl:text disable-output-escaping="no">${wait-for-command-output}</xsl:text>
                  </xsl:attribute>
                </xsl:when>
              </xsl:choose>
              <xsl:choose>
                <xsl:when test="'${run-as}' = 'true' and '${krb-authentication}' = 'true'">
                  <xsl:attribute name="krb-authentication">
                    <xsl:text disable-output-escaping="no">${krb-authentication}</xsl:text>
                  </xsl:attribute>
                  <xsl:attribute name="krb-command">
                    <xsl:text disable-output-escaping="no">${krb-command}</xsl:text>
                  </xsl:attribute>
                  <xsl:attribute name="krb-options">
                    <xsl:text disable-output-escaping="no">${krb-options}</xsl:text>
                  </xsl:attribute>
                </xsl:when>
              </xsl:choose>
              <xsl:value-of select="." disable-output-escaping="no" />
            </command>
          </commands>
        </xsl:if>
        <xsl:if test="string-length(&quot;//commands/command&quot;) &gt; 0 and string-length(.)=0">${commands}</xsl:if>
      </command-request>
    </request-data>
  </xsl:template>
</xsl:stylesheet>]]></stylesheet>
                </xslt-stylesheet>
              </assignment>
              <meta>
                <documentation />
                <checkpoint>false</checkpoint>
              </meta>
              <location>:switch[1]:sequence[1]:assign[1]</location>
            </assign>
          </sequence>
        </default>
        <case>
          <condition>
            <document>
              <input>
                <from>command</from>
              </input>
            </document>
            <xpath-expression>
              <xpath-replacement-tokens />
              <xpath><![CDATA[name(.)='fat-command']]></xpath>
            </xpath-expression>
          </condition>
          <sequence>
            <assign>
              <assignment>
                <document>
                  <input>
                    <from>command</from>
                  </input>
                </document>
                <result>
                  <output>
                    <to>adapter request</to>
                  </output>
                </result>
                <xslt-stylesheet>
                  <stylesheet-replacement-tokens>
                    <replacement-token name="working-dir">
                      <input global="false">
                        <from>working dir</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="command timeout">
                      <input global="false">
                        <from>command timeout</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="environment variables">
                      <input global="false">
                        <from>environment variables</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="run-as">
                      <input global="false">
                        <from>run_as</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="user-name">
                      <input global="false">
                        <from>user_name</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="password">
                      <input global="false">
                        <from>password</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="wait-for-command-output">
                      <input global="false">
                        <from>wait_for_command_output</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="krb-authentication">
                      <input global="false">
                        <from>krb_authentication</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="krb-command">
                      <input global="false">
                        <from>krb_command</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="krb-options">
                      <input global="false">
                        <from>krb_options</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="continue-on-failure">
                      <input global="false">
                        <from>continue_on_failure</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="ignore-exit-code">
                      <input global="false">
                        <from>ignore_exit_code</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="disable-line-termination">
                      <input global="false">
                        <from>disable_line_termination</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="is-special-character">
                      <input global="false">
                        <from>is_special_character</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="mask command string">
                      <input global="false">
                        <from>mask command string</from>
                      </input>
                    </replacement-token>
                  </stylesheet-replacement-tokens>
                  <stylesheet><![CDATA[<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
  <xsl:output indent="yes" />
  <xsl:template match="/">
    <request-data>
      <command-request>
        ${environment variables}
        <commands>
          <fat-command>
            <xsl:for-each select="fat-command/command | fat-command/commands">
              <xsl:copy>
                <xsl:copy-of select="attribute::*" />
                <xsl:if test="string-length('${working-dir}') != 0">
                  <xsl:attribute name="working-dir">${working-dir}</xsl:attribute>
                </xsl:if>
                <xsl:if test="string-length('${command timeout}') != 0">
                  <xsl:attribute name="timeout-secs">${command timeout}</xsl:attribute>
                </xsl:if>
                <xsl:if test="string-length('${continue-on-failure}') != 0">
                  <xsl:attribute name="continue-on-failure">${continue-on-failure}</xsl:attribute>
                </xsl:if>
                <xsl:if test="string-length('${ignore-exit-code}') != 0">
                  <xsl:attribute name="ignore-exit-code">${ignore-exit-code}</xsl:attribute>
                </xsl:if>
                <xsl:if test="string-length('${disable-line-termination}') != 0">
                  <xsl:attribute name="disable-line-termination">${disable-line-termination}</xsl:attribute>
                </xsl:if>
                <xsl:if test="string-length('${is-special-character}') != 0">
                  <xsl:attribute name="is-special-character">${is-special-character}</xsl:attribute>
                </xsl:if>
                <xsl:if test="string-length('${mask command string}') != 0">
                  <xsl:attribute name="mask-command-string">${mask command string}</xsl:attribute>
                </xsl:if>
                <xsl:if test="'${run-as}' = 'true'">
                  <xsl:attribute name="run-as">${run-as}</xsl:attribute>
                  <xsl:attribute name="user-name">${user-name}</xsl:attribute>
                  <xsl:attribute name="password">${password}</xsl:attribute>
                  <xsl:attribute name="wait-for-command-output">${wait-for-command-output}</xsl:attribute>
                </xsl:if>
                <xsl:if test="'${run-as}' = 'true' and '${krb-authentication}' = 'true'">
                  <xsl:attribute name="krb-authentication">${krb-authentication}</xsl:attribute>
                  <xsl:attribute name="krb-command">${krb-command}</xsl:attribute>
                  <xsl:attribute name="krb-options">${krb-options}</xsl:attribute>
                </xsl:if>
                <xsl:copy-of select="node()" />
              </xsl:copy>
            </xsl:for-each>
          </fat-command>
        </commands>
      </command-request>
    </request-data>
  </xsl:template>
</xsl:stylesheet>]]></stylesheet>
                </xslt-stylesheet>
              </assignment>
              <meta>
                <documentation />
                <checkpoint>false</checkpoint>
              </meta>
              <location>:switch[1]:sequence[2]:assign[1]</location>
            </assign>
          </sequence>
        </case>
        <location>:switch[1]</location>
      </switch>
      <call-adapter>
        <use-system-adapter>false</use-system-adapter>
        <parameters>
          <input global="false">
            <from>adapter name</from>
          </input>
          <input>
            <value>
              <adapter-request>
                <peer-location>
                  <location>any</location>
                </peer-location>
              </adapter-request>
            </value>
          </input>
          <input global="false">
            <from>adapter request</from>
          </input>
          <input global="false">
            <from>adapter request</from>
          </input>
          <output global="false">
            <to>adapter response</to>
          </output>
        </parameters>
        <meta>
          <documentation />
          <checkpoint>false</checkpoint>
        </meta>
        <before-execution>
          <log>
            <level>debug</level>
            <parameters>
              <input>
                <value>adapter request</value>
              </input>
              <input>
                <from>adapter request</from>
              </input>
            </parameters>
          </log>
        </before-execution>
        <after-execution>
          <log>
            <level>debug</level>
            <parameters>
              <input>
                <value>adapter response</value>
              </input>
              <input>
                <from>adapter response</from>
              </input>
            </parameters>
          </log>
        </after-execution>
        <location>:call-adapter[1]</location>
      </call-adapter>
    </sequence>
    <meta>
      <expose-to>
        <consumer>RULE</consumer>
        <consumer>SCHEDULE</consumer>
      </expose-to>
      <documentation>
        <description>Command Line
         Invokes command line program on a Peer.   </description>
        <version>1.0</version>
      </documentation>
      <logging-options>
        <is-enabled>false</is-enabled>
        <log-file-name></log-file-name>
      </logging-options>
      <peer-location>
        <location>any</location>
      </peer-location>
      <record-metrics>false</record-metrics>
      <process-id>b6f08d22-6e30-3664-a642-db9342fb2b2d</process-id>
      <author>admin</author>
      <category></category>
      <status></status>
      <keywords></keywords>
      <systems></systems>
      <last-modified-by>aoadmin</last-modified-by>
      <last-modified>1610467808906</last-modified>
    </meta>
  </process-def>
</process>