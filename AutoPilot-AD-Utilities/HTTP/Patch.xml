<process draft="false" dev-studio-version="20.02.01">
  <process-def name=":AutoPilot-AD-Utilities:HTTP:Patch">
    <parameters>
      <input global="false" required="false">
        <description>The name of the Adapter to use for this Process. </description>
        <from>adapter name</from>
        <to>adapter name</to>
      </input>
      <input global="false" required="true">
        <description>The URL defining the location where the content to be send.
</description>
        <from>url</from>
        <to>url</to>
      </input>
      <input global="false" required="false">
        <description>Specifies whether to establish a secure connection.
Valid values: true, false
Default value: false</description>
        <from>use ssl certificate</from>
        <to>use ssl certificate</to>
      </input>
      <input global="false" required="false">
        <description>Specifies whether to install certificates.
Valid values: true, false
Default value: false</description>
        <from>install certificate</from>
        <to>install certificate</to>
      </input>
      <input global="false" required="false">
        <description>Specifies whether to allow unsigned certificates from trusted zones.
Valid values: true, false
Default value: false</description>
        <from>allow unsigned certificate</from>
        <to>allow unsigned certificate</to>
      </input>
      <input global="false" required="false">
        <description>Specifies the Java standard Trust Key Store Pass Phrase.
Default value: changeit</description>
        <from>pass phrase</from>
        <to>pass phrase</to>
      </input>
      <input global="false" required="false">
        <description>Indicates the desired data type for the Adapter response.
Valid values: xml, html</description>
        <from>data format</from>
        <to>data format</to>
      </input>
      <input global="false" required="false">
        <description>Specifies the user name to be used for Basic Authentication.</description>
        <from>user name</from>
        <to>user name</to>
      </input>
      <input global="false" required="false">
        <description>The password corresponding to the user name provided for Basic Authentication.</description>
        <from>password</from>
        <to>password</to>
      </input>
      <input global="false" required="false">
        <description>An XML document to specify the http connection properties to specify user name/password for basic authentication and to set the information in HTTP request header before executing the http request.
Note: user-name and password properties are not set in request Header and properties are case sensitive.

Sample Example:

&lt;http-connection-properties&gt;
           &lt;Content-Type&gt;text/html&lt;/Content-Type&gt;
           &lt;Accept&gt;Yes&lt;/Accept&gt;
           &lt;Blob&gt;&lt;/Blob&gt; 
&lt;/http-connection-properties&gt;</description>
        <from>connection properties</from>
        <to>connection properties</to>
      </input>
      <input global="false" required="false">
        <description>The local path of the file (including file name) which will be send over the URL.
e.g. 
Windows : C:\\adapters\\testfile.txt
Unix / Solaris : //home//user//testfile.txt</description>
        <from>file path</from>
        <to>file path</to>
      </input>
      <input global="false" required="false">
        <description>Specifies the content type of the file being uploaded.
Default value - text/plain</description>
        <from>file content type</from>
        <to>file content type</to>
      </input>
      <input global="false" required="false">
        <description>Specifies the information to be send.  This information can be simple text or it can use XML document to specify parent and child or key and value tags.
e.g.
Simple Text :
Sample data that will be posted.

XML Format :
Parent - Child Format :
&lt;parent&gt;
	&lt;child&gt;child value&lt;/child&gt;
&lt;/parent&gt;

Kay - Value Format :
&lt;entry&gt;
	&lt;key&gt;key&lt;/key&gt;
	&lt;value&gt;value&lt;/value&gt;
&lt;/entry&gt;
</description>
        <from>data</from>
        <to>data</to>
      </input>
      <input global="false" required="false">
        <description>Specify Character set name to encode or decode the characters.
E.g.
Character set     Supporting Language
Shift_JIS          : Japanese character set.
Big5	              : Traditional Chinese character set.
ISO-8859-2	   :  ISO character set for Central European languages.</description>
        <from>character set</from>
        <to>character set</to>
      </input>
      <input global="false" required="false">
        <description>Specifies the format in which the public (X.509 certificate) and private keys used for signing the HTTP Request  will be provided. The keys can be provided via Java Keystore (JKS) or PEM/DER files or unencrypted Base64-encoded PEM format.

Valid values: keystore, key-files and key-data</description>
        <from>signature mode</from>
        <to>signature mode</to>
      </input>
      <input global="false" required="false">
        <description>Specifies the file containing Private Key used to sign the HTTP Request using the signing algorithm. The formats supported by the adapter are -

1) Base64-encoded PEM (Privacy Enhanced Mail) format
2) DER (Definite Encoding Rules) format

Private key file is required when signature mode is 'key-files'</description>
        <from>private key file</from>
        <to>private key file</to>
      </input>
      <input global="false" required="false">
        <description>Specifies the file containing X509 Certificate (Public Key). The formats supported by the adapter are -

1) Base64-encoded unencrypted PEM (Privacy Enhanced Mail) format
2) DER (Definite Encoding Rules) format

Certificate file is required when signature mode is 'key-files'</description>
        <from>certificate file</from>
        <to>certificate file</to>
      </input>
      <input global="false" required="false">
        <description>XML specifying the Private Key in Base64-encoded PEM format. 

Example -

&lt;private-key-data&gt;-----BEGIN PRIVATE KEY-----
MIICdQIBADANBgkqhkiG9w0BAQEFAASCAl8wggJbAgEAAoGBAKomKro6VbW4PeQtUhNzZpSH26vb
BTBtH1r4EjnIv4vnhSyyA62ewpROVNn0SpvjoBFwE88HcX3tXym/zbVgtdPke9K+SYHP6CWdiLqn
........
-----END PRIVATE KEY-----&lt;/private-key-data&gt;

Private key data is required when signature mode is 'key-data'</description>
        <from>private key data</from>
        <to>private key data</to>
      </input>
      <input global="false" required="false">
        <description>XML specifying the X509 Certificate (Public Key) in unencrypted Base64-encoded PEM format.

Example -

&lt;certificate-data&gt;-----BEGIN CERTIFICATE-----
MIICdzCCAeCgAwIBAgIFXseN1xYwDQYJKoZIhvcNAQEFBQAwUzELMAkGA1UEBhMC
VVMxEzARBgNVBAoTCkFtYXpvbi5jb20xDDAKBgNVBAsTA0FXUzEhMB8GA1UEAxMY
........
-----END CERTIFICATE-----&lt;/certificate-data&gt;

certificate data is required when signature mode is 'key-data'</description>
        <from>certificate data</from>
        <to>certificate data</to>
      </input>
      <input global="false" required="false">
        <description>Specifies the path to the keystore containing the client certificate.

KeyStore file  is required when signature mode is 'keystore'</description>
        <from>keystore file</from>
        <to>keystore file</to>
      </input>
      <input global="false" required="false">
        <description>Specifies the password of the keystore file.

KeyStore passphrase  is required when signature mode is 'keystore'</description>
        <from>key store password</from>
        <to>key store password</to>
      </input>
      <input global="false" required="false">
        <description>Specifies the password of the key stored in key store file.</description>
        <from>key password</from>
        <to>key password</to>
      </input>
      <input global="false" required="false">
        <description>Specifies the alias name in the keystore that identifies the Public Key Certificate (PKC), the web server uses to authenticate the client.

client alias  is required when signature mode is 'keystore'</description>
        <from>client alias</from>
        <to>client alias</to>
      </input>
      <input global="false" required="false">
        <description>Specifies if the data in the request need to be converted into JSON String and response conaining json Object needs to be converted back into XML 

Valid Values : true, false
Default Value : false</description>
        <from>enable json conversion</from>
        <to>enable json conversion</to>
      </input>
      <input global="false" required="false">
        <description>Specifies whether to include the 'Expect' header with '100-continue' value in the generated request or not. 

Per HTTP/1.1 spec, this tag should be set by the clients while sending a request when it intends to send the request body in the subsequent request and expects an intermittent 100-contnue response from the server. A few web servers do not recognize this header and end up sending a 400-BAD Request error to the client. In such cases this header should not be set by the clients to successfully run the request.

Valid Values: true, false
Default: true (per HTTP/1.1 specification)</description>
        <from>include expect header</from>
        <to>include expect header</to>
      </input>
      <input global="false" required="false">
        <description>Specifies the time (in seconds) to wait when establishing a connection.
Default value: 10 seconds (if not specified in request and configuration)</description>
        <from>request timeout</from>
        <to>request timeout</to>
      </input>
      <input global="false" required="false">
        <description>This input parameter allow user to ignore or retain new line break marker in adapter response

If true: The new line break character/marker (if exist) is ignored and adapter response returned in single line.

If false: The new line break character/marker (if exist) is preserved in adapter response

Default value = true

Let's suppose the URL returns below response while access through the browser
----
one
two
three
four
----

HTTP adapter response for same URL with value of in parameter set to "ignore line break in response"

If set to true (which is default value)
The response returns in message body is 

&lt;message-body&gt;onetwothreefour&lt;/message-body&gt;


if set to false -

The response returns in message body is 

&lt;message-body&gt;one
two
three
four
&lt;/message-body&gt;

Please Note: This situation mostly occurs when response data content is of type is text/plain</description>
        <from>ignore line break in response</from>
        <to>ignore line break in response</to>
      </input>
      <input global="false" required="false">
        <description>Path to the login.conf file

e.g. /etc/java.login.conf</description>
        <from>krb-login-conf-path</from>
        <to>krb-login-conf-path</to>
      </input>
      <input global="false" required="false">
        <description>Path to krb configuration file

e.g. /etc/krb5.conf</description>
        <from>krb-conf-path</from>
        <to>krb-conf-path</to>
      </input>
      <input global="false" required="false">
        <description>true/false

true: use supplied user credential to obtain granting ticket
false: picks up the ticket from kinit cache</description>
        <from>krb-use-subject-creds</from>
        <to>krb-use-subject-creds</to>
      </input>
      <output global="false" required="false">
        <description>The HTTP status code from the Adapter response.</description>
        <to>status code</to>
        <from>status code</from>
      </output>
      <output global="false" required="false">
        <description>The HTTP status reason from the Adapter response.</description>
        <to>status reason</to>
        <from>status reason</from>
      </output>
      <output global="false" required="false">
        <description>The HTTP header lines from the Adapter response.</description>
        <to>header lines</to>
        <from>header lines</from>
      </output>
      <output global="false" required="false">
        <description>The body from the Adapter response.</description>
        <to>message body</to>
        <from>message body</from>
      </output>
    </parameters>
    <access />
    <sequence>
      <switch>
        <meta>
          <documentation />
          <run-mode-handling>
            <run-mode>OCP</run-mode>
            <allow-step-into>true</allow-step-into>
          </run-mode-handling>
          <checkpoint>false</checkpoint>
        </meta>
        <execute-all-applicable-cases>false</execute-all-applicable-cases>
        <default>
          <sequence />
        </default>
        <case>
          <condition>
            <document>
              <input>
                <from>adapter name</from>
              </input>
            </document>
            <xpath-expression>
              <xpath-replacement-tokens />
              <xpath><![CDATA[string-length(.)=0]]></xpath>
            </xpath-expression>
          </condition>
          <sequence>
            <assign>
              <assignment>
                <output>
                  <to>adapter name</to>
                  <value>HTTPAdapter</value>
                </output>
              </assignment>
              <meta>
                <documentation />
                <checkpoint>false</checkpoint>
              </meta>
              <location>:switch[1]:sequence[2]:assign[1]</location>
            </assign>
          </sequence>
        </case>
        <location>:switch[1]</location>
      </switch>
      <switch>
        <meta>
          <documentation />
          <run-mode-handling>
            <run-mode>OCP</run-mode>
            <allow-step-into>true</allow-step-into>
          </run-mode-handling>
          <checkpoint>false</checkpoint>
        </meta>
        <execute-all-applicable-cases>false</execute-all-applicable-cases>
        <default>
          <sequence />
        </default>
        <case>
          <condition>
            <document>
              <input>
                <from>use ssl certificate</from>
              </input>
            </document>
            <xpath-expression>
              <xpath-replacement-tokens />
              <xpath><![CDATA[string-length(.)=0]]></xpath>
            </xpath-expression>
          </condition>
          <sequence>
            <assign>
              <assignment>
                <output>
                  <to>use ssl certificate</to>
                  <value>false</value>
                </output>
              </assignment>
              <meta>
                <documentation />
                <checkpoint>false</checkpoint>
              </meta>
              <location>:switch[2]:sequence[2]:assign[1]</location>
            </assign>
          </sequence>
        </case>
        <location>:switch[2]</location>
      </switch>
      <switch>
        <meta>
          <documentation />
          <run-mode-handling>
            <run-mode>OCP</run-mode>
            <allow-step-into>true</allow-step-into>
          </run-mode-handling>
          <checkpoint>false</checkpoint>
        </meta>
        <execute-all-applicable-cases>false</execute-all-applicable-cases>
        <default>
          <sequence />
        </default>
        <case>
          <condition>
            <document>
              <input>
                <from>install certificate</from>
              </input>
            </document>
            <xpath-expression>
              <xpath-replacement-tokens />
              <xpath><![CDATA[string-length(.)=0]]></xpath>
            </xpath-expression>
          </condition>
          <sequence>
            <assign>
              <assignment>
                <output>
                  <to>install certificate</to>
                  <value>false</value>
                </output>
              </assignment>
              <meta>
                <documentation />
                <checkpoint>false</checkpoint>
              </meta>
              <location>:switch[3]:sequence[2]:assign[1]</location>
            </assign>
          </sequence>
        </case>
        <location>:switch[3]</location>
      </switch>
      <switch>
        <meta>
          <documentation />
          <run-mode-handling>
            <run-mode>OCP</run-mode>
            <allow-step-into>true</allow-step-into>
          </run-mode-handling>
          <checkpoint>false</checkpoint>
        </meta>
        <execute-all-applicable-cases>false</execute-all-applicable-cases>
        <default>
          <sequence />
        </default>
        <case>
          <condition>
            <document>
              <input>
                <from>allow unsigned certificate</from>
              </input>
            </document>
            <xpath-expression>
              <xpath-replacement-tokens />
              <xpath><![CDATA[string-length(.)=0]]></xpath>
            </xpath-expression>
          </condition>
          <sequence>
            <assign>
              <assignment>
                <output>
                  <to>allow unsigned certificate</to>
                  <value>false</value>
                </output>
              </assignment>
              <meta>
                <documentation />
                <checkpoint>false</checkpoint>
              </meta>
              <location>:switch[4]:sequence[2]:assign[1]</location>
            </assign>
          </sequence>
        </case>
        <location>:switch[4]</location>
      </switch>
      <switch>
        <meta>
          <documentation />
          <run-mode-handling>
            <run-mode>OCP</run-mode>
            <allow-step-into>true</allow-step-into>
          </run-mode-handling>
          <checkpoint>false</checkpoint>
        </meta>
        <execute-all-applicable-cases>false</execute-all-applicable-cases>
        <default>
          <sequence />
        </default>
        <case>
          <condition>
            <document>
              <input>
                <from>pass phrase</from>
              </input>
            </document>
            <xpath-expression>
              <xpath-replacement-tokens />
              <xpath><![CDATA[string-length(.)=0]]></xpath>
            </xpath-expression>
          </condition>
          <sequence>
            <assign>
              <assignment>
                <output>
                  <to>pass phrase</to>
                  <value>changeit</value>
                </output>
              </assignment>
              <meta>
                <documentation />
                <checkpoint>false</checkpoint>
              </meta>
              <location>:switch[5]:sequence[2]:assign[1]</location>
            </assign>
          </sequence>
        </case>
        <location>:switch[5]</location>
      </switch>
      <switch>
        <meta>
          <documentation />
          <run-mode-handling>
            <run-mode>OCP</run-mode>
            <allow-step-into>true</allow-step-into>
          </run-mode-handling>
          <checkpoint>false</checkpoint>
        </meta>
        <after-execution>
          <log>
            <level>debug</level>
            <parameters>
              <input>
                <value>&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;</value>
              </input>
              <input>
                <from>data</from>
              </input>
            </parameters>
          </log>
        </after-execution>
        <execute-all-applicable-cases>false</execute-all-applicable-cases>
        <default>
          <sequence>
            <assign>
              <assignment>
                <document>
                  <input>
                    <from>connection properties</from>
                  </input>
                </document>
                <result>
                  <output>
                    <to>connection properties</to>
                  </output>
                </result>
                <xslt-stylesheet>
                  <stylesheet-replacement-tokens>
                    <replacement-token name="connection properties">
                      <input global="false">
                        <from>connection properties</from>
                      </input>
                    </replacement-token>
                  </stylesheet-replacement-tokens>
                  <stylesheet><![CDATA[<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
  <xsl:output indent="no" />
  <xsl:template match="/">
    <base>${connection properties}</base>
  </xsl:template>
</xsl:stylesheet>]]></stylesheet>
                </xslt-stylesheet>
              </assignment>
              <assignment>
                <document>
                  <input>
                    <from>connection properties</from>
                  </input>
                </document>
                <result>
                  <output>
                    <to>connection properties result</to>
                  </output>
                </result>
                <xpath-expression>
                  <xpath-replacement-tokens />
                  <xpath><![CDATA[//http-connection-properties/node()]]></xpath>
                </xpath-expression>
              </assignment>
              <assignment>
                <document>
                  <input>
                    <from>url</from>
                  </input>
                </document>
                <result>
                  <output>
                    <to>format request</to>
                  </output>
                </result>
                <xslt-stylesheet>
                  <stylesheet-replacement-tokens>
                    <replacement-token name="user name">
                      <input global="false">
                        <from>user name</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="password">
                      <input global="false">
                        <from>password</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="connection properties result">
                      <input global="false">
                        <from>connection properties result</from>
                      </input>
                    </replacement-token>
                  </stylesheet-replacement-tokens>
                  <stylesheet><![CDATA[<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
  <xsl:output indent="yes" />
  <xsl:template match="/">
    <request-data>
      <http-adapter-request>
        <http-connection-properties>
          ${connection properties result}
          <user-name>${user name}</user-name>
          <password>${password}</password>
        </http-connection-properties>
      </http-adapter-request>
    </request-data>
  </xsl:template>
</xsl:stylesheet>]]></stylesheet>
                </xslt-stylesheet>
              </assignment>
              <assignment>
                <document>
                  <input>
                    <from>format request</from>
                  </input>
                </document>
                <result>
                  <output>
                    <to>adapter request</to>
                  </output>
                </result>
                <xslt-stylesheet>
                  <stylesheet-replacement-tokens>
                    <replacement-token name="user name">
                      <input global="false">
                        <from>user name</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="password">
                      <input global="false">
                        <from>password</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="url">
                      <input global="false">
                        <from>url</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="use ssl certificate">
                      <input global="false">
                        <from>use ssl certificate</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="install certificate">
                      <input global="false">
                        <from>install certificate</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="allow unsigned certificate">
                      <input global="false">
                        <from>allow unsigned certificate</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="pass phrase">
                      <input global="false">
                        <from>pass phrase</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="data format">
                      <input global="false">
                        <from>data format</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="file path">
                      <input global="false">
                        <from>file path</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="data">
                      <input global="false">
                        <from>data</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="character set">
                      <input global="false">
                        <from>character set</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="signature mode">
                      <input global="false">
                        <from>signature mode</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="private key file">
                      <input global="false">
                        <from>private key file</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="certificate file">
                      <input global="false">
                        <from>certificate file</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="private key data">
                      <input global="false">
                        <from>private key data</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="certificate data">
                      <input global="false">
                        <from>certificate data</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="key store file">
                      <input global="false">
                        <from>keystore file</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="key store password">
                      <input global="false">
                        <from>key store password</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="cliant alias">
                      <input global="false">
                        <from>client alias</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="enable json conversion">
                      <input global="false">
                        <from>enable json conversion</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="file content type">
                      <input global="false">
                        <from>file content type</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="key password">
                      <input global="false">
                        <from>key password</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="include expect header">
                      <input global="false">
                        <from>include expect header</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="timeout">
                      <input global="false">
                        <from>request timeout</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="ignore line break in response">
                      <input global="false">
                        <from>ignore line break in response</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="krb-login-conf-path">
                      <input global="false">
                        <from>krb-login-conf-path</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="krb-conf-path">
                      <input global="false">
                        <from>krb-conf-path</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="krb-use-subject-creds">
                      <input global="false">
                        <from>krb-use-subject-creds</from>
                      </input>
                    </replacement-token>
                  </stylesheet-replacement-tokens>
                  <stylesheet><![CDATA[<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
  <xsl:output indent="yes" />
  <xsl:template match="/">
    <request-data>
      <http-adapter-request>
        <http-connection-properties>
          <xsl:copy-of select="//result/node()" />
          <xsl:if test="string-length('${user name}') != 0">
            <user-name>${user name}</user-name>
            <password>${password}</password>
          </xsl:if>
        </http-connection-properties>
        <action>
          <xsl:text disable-output-escaping="no">$[url]</xsl:text>
        </action>
        <use-ssl-certificate>${use ssl certificate}</use-ssl-certificate>
        <install-certificate>${install certificate}</install-certificate>
        <allow-unsigned-certificate>${allow unsigned certificate}</allow-unsigned-certificate>
        <passphrase>${pass phrase}</passphrase>
        <ignore-line-break-in-response>
          <xsl:choose>
            <xsl:when test="string('$[ignore line break in response]') = &quot;false&quot;  or  string('$[ignore line break in response]') = &quot;FALSE&quot;">
              <xsl:text disable-output-escaping="no">false</xsl:text>
            </xsl:when>
            <xsl:otherwise>
              <xsl:text disable-output-escaping="no">true</xsl:text>
            </xsl:otherwise>
          </xsl:choose>
        </ignore-line-break-in-response>
        <xsl:if test="string-length('${file path}')!=0">
          <file-path>
            <xsl:text disable-output-escaping="no">${file path}</xsl:text>
          </file-path>
        </xsl:if>
        <xsl:if test="string-length('${file content type}')!=0">
          <file-content-type>
            <xsl:text disable-output-escaping="no">${file content type}</xsl:text>
          </file-content-type>
        </xsl:if>
        <xsl:if test="string-length('${data format}')!=0">
          <data-format>
            <xsl:text disable-output-escaping="no">${data format}</xsl:text>
          </data-format>
        </xsl:if>
        <xsl:if test="string-length('${character set}')!=0">
          <character-set>${character set}</character-set>
        </xsl:if>
        <data>${data}</data>
        <xsl:if test="'${signature mode}' != ''  and ( '${signature mode}' = 'keystore'  or '${signature mode}' = 'key-files' or '${signature mode}' = 'key-data')">
          <signature-properties>
            <xsl:attribute name="mode">${signature mode}</xsl:attribute>
            <xsl:if test="'${signature mode}' = 'keystore'">
              <keystore-file>${key store file}</keystore-file>
              <keystore-password>${key store password}</keystore-password>
              <alias>${cliant alias}</alias>
              <key-password>${key password}</key-password>
            </xsl:if>
            <xsl:if test="'${signature mode}' = 'key-data'">
              <certificate-data>${certificate data}</certificate-data>
              <private-key-data>${private key data}</private-key-data>
            </xsl:if>
            <xsl:if test="'${signature mode}' = 'key-files'">
              <private-key-file>${private key file}</private-key-file>
              <certificate-file>${certificate file}</certificate-file>
            </xsl:if>
          </signature-properties>
        </xsl:if>
        <xsl:if test="'${enable json conversion}' != ''">
          <enable-json-conversion>${enable json conversion}</enable-json-conversion>
        </xsl:if>
        <xsl:if test="string-length('${include expect header}')!=0">
          <include-expect-header-in-request>${include expect header}</include-expect-header-in-request>
        </xsl:if>
        <xsl:if test="string-length('${timeout}')!=0">
          <request-timeout>
            <xsl:text disable-output-escaping="no">${timeout}</xsl:text>
          </request-timeout>
        </xsl:if>
        <xsl:if test="string-length('${krb-login-conf-path}')!=0">
          <krb-login-conf-path>
            <xsl:text disable-output-escaping="no">${krb-login-conf-path}</xsl:text>
          </krb-login-conf-path>
        </xsl:if>
        <xsl:if test="string-length('${krb-conf-path}')!=0">
          <krb-conf-path>
            <xsl:text disable-output-escaping="no">${krb-conf-path}</xsl:text>
          </krb-conf-path>
        </xsl:if>
        <xsl:if test="string-length('${krb-use-subject-creds}')!=0">
          <krb-use-subject-creds>
            <xsl:text disable-output-escaping="no">${krb-use-subject-creds}</xsl:text>
          </krb-use-subject-creds>
        </xsl:if>
      </http-adapter-request>
    </request-data>
  </xsl:template>
</xsl:stylesheet>]]></stylesheet>
                </xslt-stylesheet>
              </assignment>
              <meta>
                <documentation />
                <checkpoint>false</checkpoint>
              </meta>
              <location>:switch[6]:sequence[1]:assign[1]</location>
            </assign>
          </sequence>
        </default>
        <case>
          <condition>
            <document>
              <input>
                <from>data</from>
              </input>
            </document>
            <xpath-expression>
              <xpath-replacement-tokens />
              <xpath><![CDATA[name()="data"]]></xpath>
            </xpath-expression>
          </condition>
          <sequence>
            <assign>
              <assignment>
                <document>
                  <input>
                    <from>connection properties</from>
                  </input>
                </document>
                <result>
                  <output>
                    <to>connection properties</to>
                  </output>
                </result>
                <xslt-stylesheet>
                  <stylesheet-replacement-tokens>
                    <replacement-token name="connection properties">
                      <input global="false">
                        <from>connection properties</from>
                      </input>
                    </replacement-token>
                  </stylesheet-replacement-tokens>
                  <stylesheet><![CDATA[<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
  <xsl:output indent="no" />
  <xsl:template match="/">
    <base>${connection properties}</base>
  </xsl:template>
</xsl:stylesheet>]]></stylesheet>
                </xslt-stylesheet>
              </assignment>
              <assignment>
                <document>
                  <input>
                    <from>connection properties</from>
                  </input>
                </document>
                <result>
                  <output>
                    <to>connection properties result</to>
                  </output>
                </result>
                <xpath-expression>
                  <xpath-replacement-tokens />
                  <xpath><![CDATA[//http-connection-properties/node()]]></xpath>
                </xpath-expression>
              </assignment>
              <assignment>
                <document>
                  <input>
                    <from>url</from>
                  </input>
                </document>
                <result>
                  <output>
                    <to>format request</to>
                  </output>
                </result>
                <xslt-stylesheet>
                  <stylesheet-replacement-tokens>
                    <replacement-token name="user name">
                      <input global="false">
                        <from>user name</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="password">
                      <input global="false">
                        <from>password</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="connection properties result">
                      <input global="false">
                        <from>connection properties result</from>
                      </input>
                    </replacement-token>
                  </stylesheet-replacement-tokens>
                  <stylesheet><![CDATA[<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
  <xsl:output indent="yes" />
  <xsl:template match="/">
    <request-data>
      <http-adapter-request>
        <http-connection-properties>
          ${connection properties result}
          <user-name>${user name}</user-name>
          <password>${password}</password>
        </http-connection-properties>
      </http-adapter-request>
    </request-data>
  </xsl:template>
</xsl:stylesheet>]]></stylesheet>
                </xslt-stylesheet>
              </assignment>
              <assignment>
                <document>
                  <input>
                    <from>format request</from>
                  </input>
                </document>
                <result>
                  <output>
                    <to>adapter request</to>
                  </output>
                </result>
                <xslt-stylesheet>
                  <stylesheet-replacement-tokens>
                    <replacement-token name="user name">
                      <input global="false">
                        <from>user name</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="password">
                      <input global="false">
                        <from>password</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="url">
                      <input global="false">
                        <from>url</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="use ssl certificate">
                      <input global="false">
                        <from>use ssl certificate</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="install certificate">
                      <input global="false">
                        <from>install certificate</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="allow unsigned certificate">
                      <input global="false">
                        <from>allow unsigned certificate</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="pass phrase">
                      <input global="false">
                        <from>pass phrase</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="data format">
                      <input global="false">
                        <from>data format</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="file path">
                      <input global="false">
                        <from>file path</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="data">
                      <input global="false">
                        <from>data</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="character set">
                      <input global="false">
                        <from>character set</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="signature mode">
                      <input global="false">
                        <from>signature mode</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="private key file">
                      <input global="false">
                        <from>private key file</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="certificate file">
                      <input global="false">
                        <from>certificate file</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="private key data">
                      <input global="false">
                        <from>private key data</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="certificate data">
                      <input global="false">
                        <from>certificate data</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="key store file">
                      <input global="false">
                        <from>keystore file</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="key store password">
                      <input global="false">
                        <from>key store password</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="cliant alias">
                      <input global="false">
                        <from>client alias</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="enable json conversion">
                      <input global="false">
                        <from>enable json conversion</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="file content type">
                      <input global="false">
                        <from>file content type</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="key password">
                      <input global="false">
                        <from>key password</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="include expect header">
                      <input global="false">
                        <from>include expect header</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="timeout">
                      <input global="false">
                        <from>request timeout</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="ignore line break in response">
                      <input global="false">
                        <from>ignore line break in response</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="krb-login-conf-path">
                      <input global="false">
                        <from>krb-login-conf-path</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="krb-conf-path">
                      <input global="false">
                        <from>krb-conf-path</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="krb-use-subject-creds">
                      <input global="false">
                        <from>krb-use-subject-creds</from>
                      </input>
                    </replacement-token>
                  </stylesheet-replacement-tokens>
                  <stylesheet><![CDATA[<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
  <xsl:output indent="yes" />
  <xsl:template match="/">
    <request-data>
      <http-adapter-request>
        <http-connection-properties>
          <xsl:copy-of select="//result/node()" />
          <xsl:if test="string-length('${user name}') != 0">
            <user-name>${user name}</user-name>
            <password>${password}</password>
          </xsl:if>
        </http-connection-properties>
        <action>
          <xsl:text disable-output-escaping="no">$[url]</xsl:text>
        </action>
        <use-ssl-certificate>${use ssl certificate}</use-ssl-certificate>
        <install-certificate>${install certificate}</install-certificate>
        <allow-unsigned-certificate>${allow unsigned certificate}</allow-unsigned-certificate>
        <passphrase>${pass phrase}</passphrase>
        <ignore-line-break-in-response>
          <xsl:choose>
            <xsl:when test="string('$[ignore line break in response]') = &quot;false&quot;  or  string('$[ignore line break in response]') = &quot;FALSE&quot;">
              <xsl:text disable-output-escaping="no">false</xsl:text>
            </xsl:when>
            <xsl:otherwise>
              <xsl:text disable-output-escaping="no">true</xsl:text>
            </xsl:otherwise>
          </xsl:choose>
        </ignore-line-break-in-response>
        <xsl:if test="string-length('${file path}')!=0">
          <file-path>
            <xsl:text disable-output-escaping="no">${file path}</xsl:text>
          </file-path>
        </xsl:if>
        <xsl:if test="string-length('${file content type}')!=0">
          <file-content-type>
            <xsl:text disable-output-escaping="no">${file content type}</xsl:text>
          </file-content-type>
        </xsl:if>
        <xsl:if test="string-length('${data format}')!=0">
          <data-format>
            <xsl:text disable-output-escaping="no">${data format}</xsl:text>
          </data-format>
        </xsl:if>
        <xsl:if test="string-length('${character set}')!=0">
          <character-set>${character set}</character-set>
        </xsl:if>
        ${data}
        <xsl:if test="'${signature mode}' != ''  and ( '${signature mode}' = 'keystore'  or '${signature mode}' = 'key-files' or '${signature mode}' = 'key-data')">
          <signature-properties>
            <xsl:attribute name="mode">${signature mode}</xsl:attribute>
            <xsl:if test="'${signature mode}' = 'keystore'">
              <keystore-file>${key store file}</keystore-file>
              <keystore-password>${key store password}</keystore-password>
              <alias>${cliant alias}</alias>
              <key-password>${key password}</key-password>
            </xsl:if>
            <xsl:if test="'${signature mode}' = 'key-data'">
              <certificate-data>${certificate data}</certificate-data>
              <private-key-data>${private key data}</private-key-data>
            </xsl:if>
            <xsl:if test="'${signature mode}' = 'key-files'">
              <private-key-file>${private key file}</private-key-file>
              <certificate-file>${certificate file}</certificate-file>
            </xsl:if>
          </signature-properties>
        </xsl:if>
        <xsl:if test="'${enable json conversion}' != ''">
          <enable-json-conversion>${enable json conversion}</enable-json-conversion>
        </xsl:if>
        <xsl:if test="string-length('${include expect header}')!=0">
          <include-expect-header-in-request>${include expect header}</include-expect-header-in-request>
        </xsl:if>
        <xsl:if test="string-length('${timeout}')!=0">
          <request-timeout>
            <xsl:text disable-output-escaping="no">${timeout}</xsl:text>
          </request-timeout>
        </xsl:if>
        <xsl:if test="string-length('${krb-login-conf-path}')!=0">
          <krb-login-conf-path>
            <xsl:text disable-output-escaping="no">${krb-login-conf-path}</xsl:text>
          </krb-login-conf-path>
        </xsl:if>
        <xsl:if test="string-length('${krb-conf-path}')!=0">
          <krb-conf-path>
            <xsl:text disable-output-escaping="no">${krb-conf-path}</xsl:text>
          </krb-conf-path>
        </xsl:if>
        <xsl:if test="string-length('${krb-use-subject-creds}')!=0">
          <krb-use-subject-creds>
            <xsl:text disable-output-escaping="no">${krb-use-subject-creds}</xsl:text>
          </krb-use-subject-creds>
        </xsl:if>
      </http-adapter-request>
    </request-data>
  </xsl:template>
</xsl:stylesheet>]]></stylesheet>
                </xslt-stylesheet>
              </assignment>
              <meta>
                <documentation />
                <checkpoint>false</checkpoint>
              </meta>
              <location>:switch[6]:sequence[2]:assign[1]</location>
            </assign>
          </sequence>
        </case>
        <location>:switch[6]</location>
      </switch>
      <call-adapter>
        <use-system-adapter>false</use-system-adapter>
        <parameters>
          <input global="false">
            <from>adapter name</from>
          </input>
          <input>
            <value>
              <adapter-request>
                <peer-location>
                  <location>any</location>
                </peer-location>
                <request-action>patch</request-action>
              </adapter-request>
            </value>
          </input>
          <input global="false">
            <from>adapter request</from>
          </input>
          <input global="false">
            <from>adapter request</from>
          </input>
          <output global="false">
            <to>adapter response</to>
          </output>
        </parameters>
        <meta>
          <documentation />
          <checkpoint>false</checkpoint>
        </meta>
        <before-execution>
          <log>
            <level>debug</level>
            <parameters>
              <input>
                <from>adapter request</from>
              </input>
            </parameters>
          </log>
        </before-execution>
        <after-execution>
          <log>
            <level>debug</level>
            <parameters>
              <input>
                <value>Adapter response</value>
              </input>
              <input>
                <from>adapter response</from>
              </input>
            </parameters>
          </log>
        </after-execution>
        <location>:call-adapter[1]</location>
      </call-adapter>
      <assign>
        <assignment>
          <document>
            <input>
              <from>adapter response</from>
            </input>
          </document>
          <result>
            <output>
              <to>message body</to>
            </output>
          </result>
          <xpath-expression>
            <xpath-replacement-tokens />
            <xpath><![CDATA[//httpAdapterResponse/message-body]]></xpath>
          </xpath-expression>
        </assignment>
        <assignment>
          <document>
            <input>
              <from>adapter response</from>
            </input>
          </document>
          <result>
            <output>
              <to>header lines</to>
            </output>
          </result>
          <xpath-expression>
            <xpath-replacement-tokens />
            <xpath><![CDATA[//httpAdapterResponse/header-lines]]></xpath>
          </xpath-expression>
        </assignment>
        <assignment>
          <document>
            <input>
              <from>adapter response</from>
            </input>
          </document>
          <result>
            <output>
              <to>status reason</to>
            </output>
          </result>
          <xpath-expression>
            <xpath-replacement-tokens />
            <xpath><![CDATA[//status-line/reason/text()]]></xpath>
          </xpath-expression>
        </assignment>
        <assignment>
          <document>
            <input>
              <from>adapter response</from>
            </input>
          </document>
          <result>
            <output>
              <to>status code</to>
            </output>
          </result>
          <xpath-expression>
            <xpath-replacement-tokens />
            <xpath><![CDATA[//status-line/code/text()]]></xpath>
          </xpath-expression>
        </assignment>
        <meta>
          <documentation />
          <checkpoint>false</checkpoint>
        </meta>
        <location>:assign[1]</location>
      </assign>
    </sequence>
    <meta>
      <expose-to>
        <consumer>RULE</consumer>
        <consumer>SCHEDULE</consumer>
      </expose-to>
      <documentation>
        <description>Patch 
       Patchs the Data or File contents to a URL.</description>
        <version>1.0</version>
      </documentation>
      <logging-options>
        <is-enabled>false</is-enabled>
        <log-file-name></log-file-name>
      </logging-options>
      <peer-location>
        <location>any</location>
      </peer-location>
      <record-metrics>false</record-metrics>
      <process-id>a8ef9520-5195-4552-b0f7-da37db804e80</process-id>
      <author>admin</author>
      <category></category>
      <status></status>
      <keywords></keywords>
      <systems></systems>
      <last-modified-by>aoadmin</last-modified-by>
      <last-modified>1642659733525</last-modified>
    </meta>
  </process-def>
</process>