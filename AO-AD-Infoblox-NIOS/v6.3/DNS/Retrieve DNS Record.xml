<process draft="false" dev-studio-version="7.6.02.04">
  <process-def name=":AO-AD-Infoblox-NIOS:v6.3:DNS:Retrieve DNS Record">
    <parameters>
      <input global="false" required="false">
        <description>The name of the adapter to use to handle the request. 
Default adapter name: InfobloxNIOS.</description>
        <from>adapter name</from>
        <to>adapter name</to>
      </input>
      <input global="false" required="true">
        <description>
Retrieves DNS Record of type A, PTR, SRV, MX, CNAME and TXT:
 
SUPPORTED SEARCH CRITERIA:
 
1 search for all DNS records of particular type in all DNS view that match "name".
2 search for all DNS records of particular type in all DNS view that match "comment".
3 search for all DNS records of particular type in all DNS view that match "zone".
4 search all DNS records of particular type in all DNS view that match”extensible attribute".
5 search for all DNS records of particular type that match given “DNS View”
 
 
The search criteria from 1 to 4 can also be used with non-default DNS View. To search record based on either name or zone or extensible attribute in non-default DNS View please provide the dns-view parameter along with other parameter.
 
 
Note: Only one type of DNS Records can be searched or retrieved in one request
 
 
 
Item.xml: search for all DNS records of type 'A' in all DNS view that match "name".
 
 
&lt;items&gt;
    &lt;item&gt;
        &lt;target&gt;
            &lt;host&gt;localhost&lt;/host&gt;
            &lt;user-name&gt;admin&lt;/user-name&gt;
            &lt;password encryption-type="Base64"&gt;YWRtaW4=&lt;/password&gt;
            &lt;timeout-secs&gt;120&lt;/timeout-secs&gt;
        &lt;/target&gt;
           &lt;parameters&gt;
            &lt;record-type&gt;A&lt;/record-type&gt;
            &lt;name&gt;admin.demo.com&lt;/name&gt;
           &lt;/parameters&gt;
      &lt;/item&gt;
&lt;/items&gt;
 
item xml : search for all DNS records of type 'A' in all DNS view that match "comment".
&lt;items&gt;
    &lt;item&gt;
        &lt;target&gt;
            &lt;host&gt;localhost&lt;/host&gt;
            &lt;user-name&gt;admin&lt;/user-name&gt;
            &lt;password encryption-type="Base64"&gt;YWRtaW4=&lt;/password&gt;
            &lt;timeout-secs&gt;120&lt;/timeout-secs&gt;
        &lt;/target&gt;
           &lt;parameters&gt;
            &lt;record-type&gt;A&lt;/record-type&gt;
            &lt;comment&gt;This is a DNS record&lt;/comment&gt;
           &lt;/parameters&gt;
      &lt;/item&gt;
&lt;/items&gt;
 
 
Item.xml: search for all DNS records of type "A" in all DNS view that match "zone".
 
&lt;items&gt;
    &lt;item&gt;
        &lt;target&gt;
            &lt;host&gt;localhost&lt;/host&gt;
            &lt;user-name&gt;admin&lt;/user-name&gt;
            &lt;password encryption-type="Base64"&gt;YWRtaW4=&lt;/password&gt;
            &lt;timeout-secs&gt;120&lt;/timeout-secs&gt;
        &lt;/target&gt;
           &lt;parameters&gt;
            &lt;record-type&gt;A&lt;/record-type&gt;
            &lt;zone&gt;forwardmappingzone&lt;/zone&gt;
           &lt;/parameters&gt;
      &lt;/item&gt;
&lt;/items&gt;
 
 
Item.xml: search all DNS records of type "A" in all DNS view that match ”extensible attribute".
 
&lt;items&gt;
    &lt;item&gt;
        &lt;target&gt;
            &lt;host&gt;localhost&lt;/host&gt;
            &lt;user-name&gt;admin&lt;/user-name&gt;
            &lt;password encryption-type="Base64"&gt;YWRtaW4=&lt;/password&gt;
            &lt;timeout-secs&gt;120&lt;/timeout-secs&gt;
        &lt;/target&gt;
           &lt;parameters&gt;
            &lt;record-type&gt;A&lt;/record-type&gt;
            &lt;extensible-attributes&gt;
                &lt;attribute&gt;
                    &lt;key&gt;Site&lt;/key&gt;
                    &lt;value&gt;sample site&lt;/value&gt;
                &lt;/attribute&gt;
            &lt;/extensible-attributes&gt;
           &lt;/parameters&gt;
      &lt;/item&gt;
&lt;/items&gt;
 
 
Item.xml: search for all DNS records of type "A" that match given “DNS View”
 
&lt;items&gt;
    &lt;item&gt;
        &lt;target&gt;
            &lt;host&gt;localhost&lt;/host&gt;
            &lt;user-name&gt;admin&lt;/user-name&gt;
            &lt;password encryption-type="Base64"&gt;YWRtaW4=&lt;/password&gt;
            &lt;timeout-secs&gt;120&lt;/timeout-secs&gt;
        &lt;/target&gt;
           &lt;parameters&gt;
            &lt;record-type&gt;A&lt;/record-type&gt;
            &lt;dns-view&gt;default&lt;/dns-view&gt;
           &lt;/parameters&gt;
      &lt;/item&gt;
&lt;/items&gt;
 
 
 
Item.xml: search for all DNS records of type "A" that match "name” and "custom DNS View"
 
&lt;items&gt;
    &lt;item&gt;
        &lt;target&gt;
            &lt;host&gt;localhost&lt;/host&gt;
            &lt;user-name&gt;admin&lt;/user-name&gt;
            &lt;password encryption-type="Base64"&gt;YWRtaW4=&lt;/password&gt;
            &lt;timeout-secs&gt;120&lt;/timeout-secs&gt;
        &lt;/target&gt;
           &lt;parameters&gt;
            &lt;record-type&gt;A&lt;/record-type&gt;
            &lt;name&gt;admin.demo.com&lt;/name&gt;
            &lt;dns-view&gt;custom DNS View&lt;/dns-view&gt;
           &lt;/parameters&gt;
      &lt;/item&gt;
&lt;/items&gt;
 
 
 
 
 
 
 
Elements' Description:
 
target [Conditional]:
            host [Conditional]:
            Host name or IP address of Infoblox Grid Manager. This tag is required while providing dynamic targets.
 
        user-name [Conditional]:
            Username required connecting Infoblox Grid Manager. This tag is required while providing dynamic targets.
 
        password [Conditional]:
            The password associated with the &lt;user-name&gt; provided. Encrypted password can be provided by providing an "encryption-type" attribute. This tag is required while providing dynamic targets.
            Valid values for encryption-type are: Plain, Base64
            Default value: Plain
 
        timeout-secs[Optional]
            Specifies the time, in seconds, after which the attempt to connect to the Infoblox Grid Manager fails.
            Default value in seconds: 60
 
    Note: If no adapter configurations are specified while configuring the adapter dynamic target need to be defined under "target" tag.
 
 
 
record-type[Required]
Type of DNS record type, valid values:  A, PTR, CNAME, SRV, TXT, MX
 
name [Optional ]
Name of the record to be retrieved.

Example:
1 For A record:  name of the host in FQDN (Fully Qualified Domain Name) format.Ex - admin.demo.com (here admin is hostname and demo.com is authoritative forward-mapping zone).

2 For PTR record:  hostname to which the PTR record is pointed to. For example. www.corp100.com. (Here www is hostname and corp100.com is authoritative reverse-mapping zone).

3 For SRV record:  A name in FQDN (Fully Qualified Domain Name). Ex - admin.demo.com (here admin is hostname and demo.com is authoritative forward-mapping zone).

4 For TXT record:  name of the host in FQDN (Fully Qualified Domain Name) format.Ex - texthost.demo.com (here texthost is hostname and demo.com is authoritative forward-mapping zone).

5 For MX record: A domain name in Fully Qualified Domain Name (FQDN) format Ex - mxrecord.demo.com

6 For CNAME record: host name in the FQDN format, that is, host name followed by the zone name Example: 1.0.0.10.in-addr.arpa
 
 
dns-view[Optional]
The DNS view where record is located.  By default, all DNS views are searched.
 
zone[Optional ]
A zone name.
 
comment[Optional ]
A comment in string format.
 
extensible-attributes[optional]
Extensible attributes for the record. E.g. Site, site etc.</description>
        <from>items</from>
        <to>items</to>
      </input>
      <output global="false" required="false">
        <description>Returned adapter response is captured in this context parameter.</description>
        <to>adapter response</to>
        <from>adapter response</from>
      </output>
    </parameters>
    <access />
    <sequence>
      <assign>
        <assignment>
          <output>
            <to>operation name</to>
            <value>retrieve-dns-record</value>
          </output>
        </assignment>
        <meta>
          <documentation />
          <checkpoint>false</checkpoint>
        </meta>
        <location>:assign[1]</location>
      </assign>
      <call-process>
        <process-name>:AO-AD-Infoblox-NIOS:Utilities:Execute Request</process-name>
        <parameters>
          <input>
            <from>adapter name</from>
            <to>adapter name</to>
          </input>
          <input>
            <from>items</from>
            <to>items</to>
          </input>
          <input>
            <from>operation name</from>
            <to>operation name</to>
          </input>
          <output>
            <from>adapter response</from>
            <to>adapter response</to>
          </output>
        </parameters>
        <meta>
          <documentation />
          <run-mode-handling>
            <run-mode>OCP</run-mode>
            <allow-step-into>false</allow-step-into>
          </run-mode-handling>
          <checkpoint>false</checkpoint>
        </meta>
        <location>:call-process[1]</location>
      </call-process>
    </sequence>
    <meta>
      <expose-to>
        <consumer>RULE</consumer>
        <consumer>SCHEDULE</consumer>
      </expose-to>
      <documentation>
        <description>Retrieve DNS Record of type A,PTR,SRV,MX,CNAME and TXT.</description>
        <version></version>
      </documentation>
      <peer-location>
        <location>any</location>
      </peer-location>
      <record-metrics>false</record-metrics>
      <process-id>bda880f7-5ea3-41d6-be52-7b477475e0c3</process-id>
      <author>admin</author>
      <category></category>
      <status></status>
      <keywords></keywords>
      <systems></systems>
      <last-modified-by>admin</last-modified-by>
      <last-modified>1369656229937</last-modified>
    </meta>
  </process-def>
</process>