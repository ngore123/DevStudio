<process draft="false" dev-studio-version="7.6.02.00">
  <process-def name=":AutoPilot-OA-Operating_System_Utilities:Configuration:Update Boot Config RMSW Remove String">
    <parameters>
      <input global="false" required="true">
        <description>XML document conforming to the Connection Details Concept that contains the information required to execute a command via command line.</description>
        <from>connection details</from>
        <to>connection details</to>
      </input>
      <input global="false" required="true">
        <description>Specifies the operating system entry line number in the [operating systems] section of the Boot.ini file to copy. The first line after the [operating systems] section header is 1.</description>
        <from>os entry line num</from>
        <to>id</to>
      </input>
      <input global="false" required="false">
        <description>Specifies the operating system load options to remove to the operating system entry. These load options will remove any existing load options associated with the operating system entry. 

Valid OS Load Options:
/mm
Removes the /maxmem option and its associated maximum memory value from the specified OSEntryLineNum. The /maxmem option specifies the maximum amount of RAM that the operating system can use.
/bv
Removes the /basevideo option from the specified OSEntryLineNum. The /basevideo option directs the operating system to use standard VGA mode for the installed video driver.
/so
Removes the /sos option from the specified OSEntryLineNum. The /sos option directs the operating system to display device driver names while they are being loaded.
/ng
Removes the /noguiboot option from the specified OSEntryLineNum. The /noguiboot option disables the Windows XP Professional progress bar that appears before the CTRL+ALT+DEL logon prompt.</description>
        <from>os load option string</from>
        <to>load string</to>
      </input>
      <output global="false" required="true">
        <description>XML document consisting of one or more &lt;line&gt; elements that contain the command response. Each  &lt;line&gt; element contains an index attribute indicating the order in which the information was returned by the command.</description>
        <to>output</to>
        <from>command output</from>
      </output>
      <output global="false" required="true">
        <description>Did the operation Succeed? Valid value: true.</description>
        <to>success</to>
        <from>exit code</from>
      </output>
    </parameters>
    <access />
    <sequence>
      <call-process>
        <process-name>:AutoPilot-OA-Common_Utilities:Invoke Command</process-name>
        <parameters>
          <input>
            <from>connection details</from>
            <to>connection details</to>
          </input>
          <input>
            <value>
              <empty />
            </value>
            <xslt-stylesheet>
              <stylesheet-replacement-tokens>
                <replacement-token name="load string">
                  <input global="false">
                    <from>load string</from>
                  </input>
                </replacement-token>
                <replacement-token name="id">
                  <input global="false">
                    <from>id</from>
                  </input>
                </replacement-token>
              </stylesheet-replacement-tokens>
              <stylesheet><![CDATA[<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
  <xsl:output indent="yes" />
  <xsl:template match="/">
    <fat-command>
      <command os-id="Windows Server 2008">
        <xsl:text disable-output-escaping="no">echo Command not supported by Windows Server 2008</xsl:text>
      </command>
      <command os-id="Cisco IOS">
        <xsl:text disable-output-escaping="no">show</xsl:text>
      </command>
      <command os-id="Windows Default">
        <xsl:text disable-output-escaping="no">bootcfg /rmsw</xsl:text>
        <xsl:text disable-output-escaping="no"> /${load string}</xsl:text>
        <xsl:if test="string-length('${id}')!=0">
          <xsl:text disable-output-escaping="no"> /id ${id}</xsl:text>
        </xsl:if>
      </command>
      <command os-id="Linux">
        <xsl:text disable-output-escaping="no">/bin/echo "Not Supported."</xsl:text>
      </command>
      <command os-id="SunOS">
        <xsl:text disable-output-escaping="no">/usr/bin/echo "Not Supported."</xsl:text>
      </command>
    </fat-command>
  </xsl:template>
</xsl:stylesheet>]]></stylesheet>
            </xslt-stylesheet>
            <to>command</to>
          </input>
          <output>
            <from>command output</from>
            <to>command output</to>
          </output>
          <output>
            <from>exit code</from>
            <to>exit code</to>
            <xpath-expression>
              <xpath-replacement-tokens />
              <xpath><![CDATA[string(.)=0]]></xpath>
            </xpath-expression>
          </output>
        </parameters>
        <meta>
          <documentation />
          <run-mode-handling>
            <run-mode>OCP</run-mode>
            <allow-step-into>false</allow-step-into>
          </run-mode-handling>
          <checkpoint>false</checkpoint>
        </meta>
        <after-execution>
          <console-output>
            <type>INFO</type>
            <summary>
              <concat>
                <input>
                  <value></value>
                </input>
              </concat>
            </summary>
            <detail>
              <concat>
                <input>
                  <value></value>
                </input>
              </concat>
            </detail>
          </console-output>
        </after-execution>
        <location>:call-process[1]</location>
      </call-process>
    </sequence>
    <meta>
      <expose-to>
        <consumer>RULE</consumer>
        <consumer>SCHEDULE</consumer>
      </expose-to>
      <documentation>
        <description>Adds operating system load options specified as a string to an operating system entry in the [operating systems] section of the Boot.ini file.

Input format:
/mm
Removes the /maxmem option and its associated maximum memory value from the specified OSEntryLineNum. The /maxmem option specifies the maximum amount of RAM that the operating system can use.
/bv
Removes the /basevideo option from the specified OSEntryLineNum. The /basevideo option directs the operating system to use standard VGA mode for the installed video driver.
/so
Removes the /sos option from the specified OSEntryLineNum. The /sos option directs the operating system to display device driver names while they are being loaded.
/ng
Removes the /noguiboot option from the specified OSEntryLineNum. The /noguiboot option disables the Windows XP Professional progress bar that appears before the CTRL+ALT+DEL logon prompt.
</description>
        <version>1.0</version>
      </documentation>
      <peer-location>
        <location>any</location>
      </peer-location>
      <record-metrics>false</record-metrics>
      <process-id>cf2b4df8-c740-3f9e-a673-58c99fc74f8e</process-id>
      <author>admin</author>
      <category></category>
      <status></status>
      <keywords></keywords>
      <systems></systems>
      <last-modified-by>admin</last-modified-by>
      <last-modified>1303377764186</last-modified>
    </meta>
  </process-def>
</process>