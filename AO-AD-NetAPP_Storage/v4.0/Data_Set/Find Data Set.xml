<process draft="false" dev-studio-version="7.6.01.02">
  <process-def name=":AO-AD-NetAPP_Storage:v4.0:Data_Set:Find Data Set">
    <parameters>
      <input global="false" required="false">
        <description>The name of the adapter. Default Name: NetAppActor</description>
        <from>adapter name</from>
        <to>adapter name</to>
      </input>
      <input global="false" required="true">
        <description>Finds the details of all the datasets that match the filter criteria specified in the request.

Sample Items XML:

&lt;items&gt;
&lt;item&gt;
		&lt;targets&gt;
			&lt;target&gt;
				&lt;host&gt;10.10.10.10&lt;/host&gt;
				&lt;user-name&gt;userName&lt;/user-name&gt;
				&lt;password&gt;password&lt;/password&gt;
				&lt;protocol&gt;http&lt;/protocol&gt;
				&lt;port&gt;8088&lt;/port&gt;                                
			&lt;/target&gt;
		&lt;/targets&gt;
	&lt;target&gt;server1&lt;/target&gt;
	&lt;object-name-or-id&gt;testdataset&lt;/object-name-or-id&gt;
	&lt;application-name&gt;test&lt;/application-name&gt;
	&lt;application-server-name&gt;test&lt;/application-server-name&gt;
	&lt;dr-state&gt;ready&lt;/dr-state&gt;
	&lt;include-conformance-check-results&gt;true&lt;/include-conformance-check-results&gt;
	&lt;include-conformance-run-reason-details&gt;true&lt;/include-conformance-run-reason-details&gt;
	&lt;include-export-settings&gt;true&lt;/include-export-settings&gt;
	&lt;include-metadata&gt;true&lt;/include-metadata&gt;
	&lt;is-application-data&gt;false&lt;/is-application-data&gt;
	&lt;is-dp-ignored&gt;false&lt;/is-dp-ignored&gt;
	&lt;is-dr-capable&gt;false&lt;/is-dr-capable&gt;
	&lt;is-protected&gt;true&lt;/is-protected&gt;
	&lt;requires-non-disruptive-restore&gt;false&lt;/requires-non-disruptive-restore&gt;
	&lt;suppress-status-refresh&gt;false&lt;/suppress-status-refresh&gt;
	&lt;volume-qtree-name-prefix&gt;test&lt;/volume-qtree-name-prefix&gt;
     &lt;filter-by&gt;
		&lt;vfiler-id&gt;3414&lt;/vfiler-id&gt;
		&lt;vfiler-name&gt;test_filer&lt;/vfiler-name&gt;
	&lt;/filter-by&gt;
&lt;/item&gt;
&lt;/items&gt;

Parameters Description:

targets [Conditional] 

        It is parent XML element for &lt;target&gt; XML element. 
        The &lt;target&gt; XML element is used to specify dynamic targets at request level. 
        Note: The &lt;targets&gt; XML element is required if the adapter configuration is empty in Grid Manager. 

target [Conditional] 
        It is child XML element of &lt;targets&gt; XML element. This element is used to specify dynamic targets at request level. 

        Using dynamic targets you can define connection information for a remote host within an adapter request. This allows you to configure an adapter in Grid Manager, by specifying configuration information in an adapter request. 

        Note: (1) Adapter configuration specified using request level dynamic targets takes precedence over Grid Manager level configuration information. (2) If request level dynamic target is specified using &lt;targets&gt; XML element, then the &lt;target&gt; element which is child of &lt;item&gt; element is ignored. (3) This element is required if &lt;targets&gt; XML element is present in the adapter request. 

host [Conditional] 
Host name or IP address of server on which NetApp DataFabric Manager is running. 
Note: This element is required if &lt;targets&gt; XML element is present in the adapter request. 

user-name [Conditional] 
NetApp DataFabric Manager login username. 
Note: This element is required if &lt;targets&gt; XML element is present in the adapter request. 

password [Conditional] 
NetApp DataFabric Manager login password. 

You can encrypt the password by specifying the encryption type attribute. 
For example: &lt;password encryption-type = "Base64"&gt;cGFzc3dvcmQ=&lt;/password&gt;. 
Note: This element is required if &lt;targets&gt; XML element is present in the adapter request. 

protocol [Optional] 
Communication protocol used by adapter. Valid value is http or https. Default value is http. 

port [Optional] 
Port on which NetApp DataFabric Manager is enabled. Default value is 8088 for http protocol and 8488 for https protocol. 

target [Optional] 
It is child XML element of &lt;item&gt; XML element. 
You can use this element to specify the connection information for a DFM Server. For this a comma separated list of configuration names can be specified. This executes the request simultaneously on all DFM servers identified by the configuration names. 
Valid values: 
1. The values specified for &lt;target&gt; XML element must be same as the values that have been specified for the name attribute of &lt;config&gt; element in Grid Manager adapter configuration. 
2. You can provide "ALL" as the value. In this case the request will get executed on all the DFM servers defined in Grid Manager adapter configuration. 
3. You can specify multiple comma separated names to allow simultaneous execution of requests across multiple DFM servers. 
4. You can skip this element. In that case the request will be executed on the first defined Grid Manager adapter configuration. 
You can leave this element empty. In that case the request will be executed on the first defined Grid Manager adapter configuration. 

Note: This element is ignored if request level dynamic target is specified using &lt;targets&gt; XML element.


application-name[Optional]
	Return only application data sets managed by a particular type of application. Up to 255 characters long.

application-server-name[Optional]
	Return only application data sets managed by an application running on a particular server. Up to 255 characters long.  

dr-state[Optional]
	Disaster recovery states of a data set. If no dr-state input is supplied, all data sets will be listed.
	Possible values are: 
		"ready": The data set is prepared to fail over. 
		"failing_over": The data set is in the process of failing over. Eventually, the state of the data set will change to either "failed_over" or "failover_error". 
		"failed_over": The data set has failed over. The primary data is now considered unavailable and the mirror relationships from the primary to the DR node have been broken. 
		"failover_error": The data set attempted to fail over but encountered an error. User intervention is required to change the state to either "failed_over" or "ready". 

include-conformance-check-results[Optional]
	This is a boolean field. If true, return the detailed conformance check results. If false or omitted, the conformance check results, which are expensive to retrieve, will not be returned.

include-conformance-run-reason-details[Optional]
	This is a boolean field. If true or omitted and include-conformance-check-results is also true, then include any possible conformance-run-reason-details along with the associated conformance-run-result element. Default value is true. If false, the conformance-run-reason-details, will not be returned.

include-export-settings[Optional]
	This is a boolean field. If true, the export settings for the data set nodes will be present in the output of dataset-list-info-iter-next. Default value is false.

include-metadata[Optional]
	This is a boolean field. If true, returns data set's metadata. If false, metadata, which can be large in size, is not returned. Default is false.

is-application-data[Optional]
	This is a boolean field. If true, return only data sets managed by an application. If false, return only data sets which are not managed by an application. By default, return all data sets.

is-dp-ignored[Optional]
	This is a boolean field. If true, only list data sets that have been set to be ignored for purposes of data protection. If false, only list data sets that have been not set to be ignored for purposes of data protection. If not specified, list all data sets without taking into account whether they have been ignored or not.

is-dr-capable[Optional]
	This is a boolean field. If true, return only data sets with dp policies that are disaster recovery capable. If false, return only data sets with policies that are not disaster recovery capable. By default, return all data sets.

is-protected[Optional]
	This is a boolean field. If true, only list data sets which have a data protection policy assigned to them.

object-name-or-id[Optional]
	Name or identifier of a data set or resource group or provisioning policy. If a resource group is given, only the data sets which are direct members of the group are returned. If a provisioning policy is given, only those data sets where one or more of its nodes is associated with the provisioning policy are returned.

requires-non-disruptive-restore[Optional]
	This is a boolean field. If true, return only data sets requiring non-disruptive restore. If false, return only data sets which do not require non-disruptive restore. By default, return all data sets.

suppress-status-refresh[Optional]
	This is a boolean field. If true, do not refresh the data set status. If false or omitted, the status of all queried data sets will be re-calculated before being returned. 

volume-qtree-name-prefix[Optional]
	Return only datasets with a particular type of custom name prefix. Up to 60 characters long.

filter-by[Optional]
	Parent tag which contains additional filter critieria.

vfiler-id[Optional]
	Identifier of the vFiler unit attached to the primary node of the dataset.

vfiler-name[Optional]
	Name of the vfiler that is attached to a dataset. This is a child tag of "filter-by" tag. If provided, only those datasets will be returned which are bound to the specified vfiler.</description>
        <from>items</from>
        <to>items</to>
      </input>
      <output global="false" required="false">
        <to>adapter response</to>
        <from>adapter response</from>
      </output>
    </parameters>
    <access />
    <sequence>
      <assign>
        <assignment>
          <output>
            <to>operation name</to>
            <value>find-dataset</value>
          </output>
        </assignment>
        <meta>
          <documentation />
          <checkpoint>false</checkpoint>
        </meta>
        <location>:assign[1]</location>
      </assign>
      <call-process>
        <process-name>:AO-AD-NetAPP_Storage:Utilities:Invoke Adapter Request</process-name>
        <parameters>
          <input>
            <from>adapter name</from>
            <to>adapter name</to>
          </input>
          <input>
            <from>items</from>
            <to>items</to>
          </input>
          <input>
            <from>operation name</from>
            <to>operation name</to>
          </input>
          <output>
            <from>adapter response</from>
            <to>adapter response</to>
          </output>
        </parameters>
        <meta>
          <documentation />
          <run-mode-handling>
            <run-mode>OCP</run-mode>
            <allow-step-into>false</allow-step-into>
          </run-mode-handling>
          <checkpoint>false</checkpoint>
        </meta>
        <after-execution>
          <console-output>
            <type>INFO</type>
            <summary>
              <concat>
                <input>
                  <value></value>
                </input>
              </concat>
            </summary>
            <detail>
              <concat>
                <input>
                  <value></value>
                </input>
              </concat>
            </detail>
          </console-output>
        </after-execution>
        <location>:call-process[1]</location>
      </call-process>
    </sequence>
    <meta>
      <expose-to>
        <consumer>RULE</consumer>
        <consumer>SCHEDULE</consumer>
      </expose-to>
      <documentation>
        <description>Finds the details of all the datasets that match the filter criteria specified in the request.</description>
        <version></version>
      </documentation>
      <peer-location>
        <location>any</location>
      </peer-location>
      <record-metrics>false</record-metrics>
      <process-id>08abe6c4-16ec-3034-b2ef-c166f8c8f9c7</process-id>
      <author />
      <category />
      <status />
      <keywords />
      <systems />
      <last-modified-by />
      <last-modified>1290598195751</last-modified>
    </meta>
  </process-def>
</process>