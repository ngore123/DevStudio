<process draft="false" dev-studio-version="7.6.01.02">
  <process-def name=":AO-AD-NetAPP_Storage:v4.0:Data_Set:Update Data Set">
    <parameters>
      <input global="false" required="false">
        <description>The name of the adapter. Default Name: NetAppActor</description>
        <from>adapter name</from>
        <to>adapter name</to>
      </input>
      <input global="false" required="true">
        <description>Modify attributes for a data set.

Sample Items XML:

&lt;items&gt;
&lt;item&gt;
		&lt;targets&gt;
			&lt;target&gt;
				&lt;host&gt;10.10.10.10&lt;/host&gt;
				&lt;user-name&gt;userName&lt;/user-name&gt;
				&lt;password&gt;password&lt;/password&gt;
				&lt;protocol&gt;http&lt;/protocol&gt;
				&lt;port&gt;8088&lt;/port&gt;                                
			&lt;/target&gt;
		&lt;/targets&gt;
	&lt;target&gt;server1&lt;/target&gt;
	&lt;dataset-contact&gt;test@globallogic.com&lt;/dataset-contact&gt;
	&lt;dataset-description&gt;test desc&lt;/dataset-description&gt;
	&lt;dataset-name-or-id&gt;testds1&lt;/dataset-name-or-id&gt;
	&lt;dataset-metadata&gt;
		&lt;dfm-metadata-field&gt;
			&lt;field-name&gt;test field&lt;/field-name&gt;
			&lt;field-value&gt;test value&lt;/field-value&gt;
		&lt;/dfm-metadata-field&gt;
	&lt;/dataset-metadata&gt;
	&lt;dataset-owner&gt;test&lt;/dataset-owner&gt;
	&lt;protection-policy-name-or-id&gt;Back up&lt;/protection-policy-name-or-id&gt;
	&lt;requires-non-disruptive-restore&gt;false&lt;/requires-non-disruptive-restore&gt;
	&lt;is-suspended&gt;false&lt;/is-suspended&gt;
	&lt;is-dp-ignored&gt;true&lt;/is-dp-ignored&gt;
	&lt;check-protection-policy-on-commit&gt;true&lt;/check-protection-policy-on-commit&gt;
	&lt;volume-qtree-name-prefix&gt;newbmc&lt;/volume-qtree-name-prefix&gt;
	&lt;is-application-data&gt;true&lt;/is-application-data&gt;
	&lt;application-name&gt;Name of the application&lt;/application-name&gt;
	&lt;application-server-name&gt;Name of the server&lt;/application-server-name&gt;
	&lt;application-version&gt;2.1&lt;/application-version&gt;
	&lt;is-application-responsible-for-primary-backup&gt;true&lt;/is-application-responsible-for-primary-backup&gt;
	&lt;is-application-managing-primary-backup-retention&gt;true&lt;/is-application-managing-primary-backup-retention&gt;
	&lt;carry-primary-backup-retention&gt;true&lt;/carry-primary-backup-retention&gt;
&lt;/item&gt;
&lt;/items&gt;

Parameters Description:

targets [Conditional] 

        It is parent XML element for &lt;target&gt; XML element. 
        The &lt;target&gt; XML element is used to specify dynamic targets at request level. 
        Note: The &lt;targets&gt; XML element is required if the adapter configuration is empty in Grid Manager. 

target [Conditional] 
        It is child XML element of &lt;targets&gt; XML element. This element is used to specify dynamic targets at request level. 

        Using dynamic targets you can define connection information for a remote host within an adapter request. This allows you to configure an adapter in Grid Manager, by specifying configuration information in an adapter request. 

        Note: (1) Adapter configuration specified using request level dynamic targets takes precedence over Grid Manager level configuration information. (2) If request level dynamic target is specified using &lt;targets&gt; XML element, then the &lt;target&gt; element which is child of &lt;item&gt; element is ignored. (3) This element is required if &lt;targets&gt; XML element is present in the adapter request. 

host [Conditional] 
Host name or IP address of server on which NetApp DataFabric Manager is running. 
Note: This element is required if &lt;targets&gt; XML element is present in the adapter request. 

user-name [Conditional] 
NetApp DataFabric Manager login username. 
Note: This element is required if &lt;targets&gt; XML element is present in the adapter request. 

password [Conditional] 
NetApp DataFabric Manager login password. 

You can encrypt the password by specifying the encryption type attribute. 
For example: &lt;password encryption-type = "Base64"&gt;cGFzc3dvcmQ=&lt;/password&gt;. 
Note: This element is required if &lt;targets&gt; XML element is present in the adapter request. 

protocol [Optional] 
Communication protocol used by adapter. Valid value is http or https. Default value is http. 

port [Optional] 
Port on which NetApp DataFabric Manager is enabled. Default value is 8088 for http protocol and 8488 for https protocol. 

target [Optional] 
It is child XML element of &lt;item&gt; XML element. 
You can use this element to specify the connection information for a DFM Server. For this a comma separated list of configuration names can be specified. This executes the request simultaneously on all DFM servers identified by the configuration names. 
Valid values: 
1. The values specified for &lt;target&gt; XML element must be same as the values that have been specified for the name attribute of &lt;config&gt; element in Grid Manager adapter configuration. 
2. You can provide "ALL" as the value. In this case the request will get executed on all the DFM servers defined in Grid Manager adapter configuration. 
3. You can specify multiple comma separated names to allow simultaneous execution of requests across multiple DFM servers. 
4. You can skip this element. In that case the request will be executed on the first defined Grid Manager adapter configuration. 
You can leave this element empty. In that case the request will be executed on the first defined Grid Manager adapter configuration. 

Note: This element is ignored if request level dynamic target is specified using &lt;targets&gt; XML element.



dataset-contact[Optional]
 Contact for the data set, such as the owner's e-mail address.  
 
dataset-description[Optional] 
	Description of the new data set, up to 255 characters long.  
	
dataset-metadata[Optional]
 Opaque metadata for data set. Metadata is usually set and interpreted by an application that is using the data set. DFM does not look into the contents of the metadata. 

dfm-metadata-field[Optional]
	This is the parent field that contains one metadata information. This is defined using the following key/value tags - field-name,field-value.

field-name[Optional] 
	Name of the metadata field. Field names are up to 255 characters in length and are case- insensitive. This is required if dataset-metadata is present.

field-value[Optional] 
	Arbitrary, user-defined data expressed as a string. The string is opaque to the server and must not exceed 16384 (16k) characters in length. This is required if dataset-metadata is present.  

dataset-name-or-id[Required]
	Name of the data set to be modified.
	
dataset-owner[Optional]
	Name of the owner of the data set, up to 255 characters long.

check-protection-policy-on-commit[Optional]
	This is a boolean field. In the default case for a protection policy change, we immediately check the dataset's membership configuration. However, if specified as "true" i.e. in the case where we are changing the policy and the storage set assignments in the same edit session, the caller can set this flag to true to request that the server postpone the check of the protection policy configuration and root node membership until the call to edit-commit. Default value is false.

is-suspended[Optional] 
	This is a boolean field. True if an administrator has chosen to suspend this data set for all automated actions (data protection and conformance check of the data set). Default is False.

is-dp-ignored[Optional]
	This is a boolean field. True if an administrator has chosen to ignore this dataset for purposes of data protection. Data sets with this attribute set to true are not returned when the client requests datasets which are not ignored. This attribute has no other significance to the system.
	
protection-policy-name-or-id[Optional]
	Name or identifier of the protection policy to associate with this data set. The dataprotection license is required for this input.
	
requires-non-disruptive-restore[Optional]
	This is a boolean field. Specifies whether the data set should be configured to enable non-disruptive restores from backup destinations. Default value is false.

volume-qtree-name-prefix[Optional]
	Prefix for volume and qtree names, up to 60 character long. The allowed characters are a to z A to Z 0 to 9 ' ' (space) . (period) _ (underscore) - (hyphen) If any other characters are included, an error is returned.
	
is-application-data[Optional]
	This is a boolean field. If true, the data set is an application data set managed by an external application. Because backups must be coordinated between the application and DFM, transfers move backups between nodes instead of creating new backups. Policies for which this behavior is not supported may not be assigned to application data sets. Conversion of a non-application data set to an application data set is not allowed. The default value is false.

application-info[Optional]
	This input is used only if is-application-data is true. It contains information about the application which manages this dataset.

application-name[Optional]
	Name of an application, up to 255 characters long. For example: "SnapManager for Oracle". This input is used only if is-application-data is true. This input is a required input if is-application-data is true.

application-server-name[Optional]
	The name of the server the application is running on, up to 255 characters long. This is the name of the host server, rather than the name of the client application. This input is used only if is-application-data is true. This input is a required input if is-application-data is true.

application-version[Optional]
	Version of an application, up to 255 characters long. For example: "2.1". This input is used only if is-application-data is true. This input is a required input if is-application-data is true.

is-application-responsible-for-primary-backup[Optional]
	This is a boolean field. DFM creates primary backup versions only if this option is false. This input is used only if is-application-data is true.  This input is a required input if is-application-data is true. Valid values - true, false
	
carry-primary-backup-retention[Optional]
	This is a boolean field. This input is used only if is-application-data is true. If this input is true, retention type of the primary backup is assigned to its replicas on the other nodes of the dataset. An exception is made if the dp-backup-start API with retention-type specified, starts the replication. In that case, the retention type specified in dp-backup-start is assigned to the replicas thereby overriding the retention type of the primary backup. If a scheduled event starts the replication, retention type specified in the schedule event is ignored.
If this input is false, retention type of the primary backup is ignored when assigning retention type to its replicas. Depending on how the backup transfer job was started, the retention type specified either in dp-backup-start API or the one specified in the schedule is assigned to the replica of the primary backup.

When this input is false, replicas of the primary backup may get an undesired retention type if the schedules are not configured very carefully. Therefore, it is recommended that any new users of the API should always set this input to true.

Note that even if the retention type of primary and secondary backups is the same, the retention duration may be different for them. The retention duration is specified for each node in the data protection policy. See dp-policy-node-info for more details.

Always present in the output.

Default is true.

is-application-managing-primary-backup-retention[Optional]
	This is a boolean field. If this input is true, Protection Manager does not enforce retention settings in the policy on the primary backups. Application is responsible for deleting primary backups, possibly by invoking dp-backup-version-delete API.
If this input is false, Protection Manager deletes the primary backups according to the retention settings specified in the policy.

Always present in the output.

Default is false.</description>
        <from>items</from>
        <to>items</to>
      </input>
      <output global="false" required="false">
        <to>adapter response</to>
        <from>adapter response</from>
      </output>
    </parameters>
    <access />
    <sequence>
      <assign>
        <assignment>
          <output>
            <to>operation name</to>
            <value>update-dataset</value>
          </output>
        </assignment>
        <meta>
          <documentation />
          <checkpoint>false</checkpoint>
        </meta>
        <location>:assign[1]</location>
      </assign>
      <call-process>
        <process-name>:AO-AD-NetAPP_Storage:Utilities:Invoke Adapter Request</process-name>
        <parameters>
          <input>
            <from>adapter name</from>
            <to>adapter name</to>
          </input>
          <input>
            <from>items</from>
            <to>items</to>
          </input>
          <input>
            <from>operation name</from>
            <to>operation name</to>
          </input>
          <output>
            <from>adapter response</from>
            <to>adapter response</to>
          </output>
        </parameters>
        <meta>
          <documentation />
          <run-mode-handling>
            <run-mode>OCP</run-mode>
            <allow-step-into>false</allow-step-into>
          </run-mode-handling>
          <checkpoint>false</checkpoint>
        </meta>
        <after-execution>
          <console-output>
            <type>INFO</type>
            <summary>
              <concat>
                <input>
                  <value></value>
                </input>
              </concat>
            </summary>
            <detail>
              <concat>
                <input>
                  <value></value>
                </input>
              </concat>
            </detail>
          </console-output>
        </after-execution>
        <location>:call-process[1]</location>
      </call-process>
    </sequence>
    <meta>
      <expose-to>
        <consumer>RULE</consumer>
        <consumer>SCHEDULE</consumer>
      </expose-to>
      <documentation>
        <description>Modify attributes for a data set.</description>
        <version></version>
      </documentation>
      <peer-location>
        <location>any</location>
      </peer-location>
      <record-metrics>false</record-metrics>
      <process-id>e182688a-57f8-343a-be75-742249ee4d20</process-id>
      <author />
      <category />
      <status />
      <keywords />
      <systems />
      <last-modified-by />
      <last-modified>1290598199610</last-modified>
    </meta>
  </process-def>
</process>