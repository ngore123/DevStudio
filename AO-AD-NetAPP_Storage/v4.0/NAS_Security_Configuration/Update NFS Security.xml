<process draft="false" dev-studio-version="7.6.01.02">
  <process-def name=":AO-AD-NetAPP_Storage:v4.0:NAS_Security_Configuration:Update NFS Security">
    <parameters>
      <input global="false" required="false">
        <description>The name of the adapter. Default Name: NetAppActor</description>
        <from>adapter name</from>
        <to>adapter name</to>
      </input>
      <input global="false" required="true">
        <description>Modifies the existing export rules.

Sample Items XML:

&lt;items&gt;
&lt;item&gt;
		&lt;targets&gt;
			&lt;target&gt;
				&lt;host&gt;10.10.10.10&lt;/host&gt;
				&lt;user-name&gt;userName&lt;/user-name&gt;
				&lt;password&gt;password&lt;/password&gt;
				&lt;protocol&gt;http&lt;/protocol&gt;
				&lt;port&gt;8088&lt;/port&gt;                                
			&lt;/target&gt;
		&lt;/targets&gt;
	&lt;target&gt;server1&lt;/target&gt;
	&lt;target-host&gt;12.12.12.12&lt;/target-host&gt;
	&lt;persistent&gt;true&lt;/persistent&gt;
	&lt;actual-pathname&gt;&lt;/actual-pathname&gt;
	&lt;pathname&gt;/vol/Gold_Storage_SLA_Dataset_3/bmcvol1&lt;/pathname&gt;
	&lt;anonymous-access-user&gt;root&lt;/anonymous-access-user&gt;
	&lt;disable-setuid&gt;true&lt;/disable-setuid&gt;
	&lt;read-only&gt;
		&lt;exports-hostname-info&gt;
			&lt;all-hosts&gt;false&lt;/all-hosts&gt;
			&lt;name&gt;12.12.12.12&lt;/name&gt;
		&lt;/exports-hostname-info&gt;
		&lt;exports-hostname-info&gt;
			&lt;all-hosts&gt;false&lt;/all-hosts&gt;
			&lt;name&gt;12.12.12.12&lt;/name&gt;
			&lt;negate&gt;true&lt;/negate&gt;
		&lt;/exports-hostname-info&gt;
	&lt;/read-only&gt;
	&lt;read-write&gt;
		&lt;exports-hostname-info&gt;
			&lt;all-hosts&gt;false&lt;/all-hosts&gt;
			&lt;name&gt;12.12.12.12&lt;/name&gt;
		&lt;/exports-hostname-info&gt;
		&lt;exports-hostname-info&gt;
			&lt;all-hosts&gt;false&lt;/all-hosts&gt;
			&lt;name&gt;12.12.12.12&lt;/name&gt;
			&lt;negate&gt;true&lt;/negate&gt;
		&lt;/exports-hostname-info&gt;
	&lt;/read-write&gt;
	&lt;root&gt;
		&lt;exports-hostname-info&gt;
			&lt;all-hosts&gt;false&lt;/all-hosts&gt;
			&lt;name&gt;12.12.12.12&lt;/name&gt;
		&lt;/exports-hostname-info&gt;
		&lt;exports-hostname-info&gt;
			&lt;all-hosts&gt;false&lt;/all-hosts&gt;
			&lt;name&gt;12.12.12.12&lt;/name&gt;
			&lt;negate&gt;true&lt;/negate&gt;
		&lt;/exports-hostname-info&gt;
	&lt;/root&gt;
	&lt;sec-flavor&gt;
		&lt;sec-flavor-info&gt;
			&lt;flavor&gt;sys&lt;/flavor&gt;
		&lt;/sec-flavor-info&gt;
		&lt;sec-flavor-info&gt;
			&lt;flavor&gt;none&lt;/flavor&gt;
		&lt;/sec-flavor-info&gt;
	&lt;/sec-flavor&gt;
&lt;/item&gt;
&lt;/items&gt;

Parameters Description:

targets [Conditional] 

        It is parent XML element for &lt;target&gt; XML element. 
        The &lt;target&gt; XML element is used to specify dynamic targets at request level. 
        Note: The &lt;targets&gt; XML element is required if the adapter configuration is empty in Grid Manager. 

target [Conditional] 
        It is child XML element of &lt;targets&gt; XML element. This element is used to specify dynamic targets at request level. 

        Using dynamic targets you can define connection information for a remote host within an adapter request. This allows you to configure an adapter in Grid Manager, by specifying configuration information in an adapter request. 

        Note: (1) Adapter configuration specified using request level dynamic targets takes precedence over Grid Manager level configuration information. (2) If request level dynamic target is specified using &lt;targets&gt; XML element, then the &lt;target&gt; element which is child of &lt;item&gt; element is ignored. (3) This element is required if &lt;targets&gt; XML element is present in the adapter request. 

host [Conditional] 
Host name or IP address of server on which NetApp DataFabric Manager is running. 
Note: This element is required if &lt;targets&gt; XML element is present in the adapter request. 

user-name [Conditional] 
NetApp DataFabric Manager login username. 
Note: This element is required if &lt;targets&gt; XML element is present in the adapter request. 

password [Conditional] 
NetApp DataFabric Manager login password. 

You can encrypt the password by specifying the encryption type attribute. 
For example: &lt;password encryption-type = "Base64"&gt;cGFzc3dvcmQ=&lt;/password&gt;. 
Note: This element is required if &lt;targets&gt; XML element is present in the adapter request. 

protocol [Optional] 
Communication protocol used by adapter. Valid value is http or https. Default value is http. 

port [Optional] 
Port on which NetApp DataFabric Manager is enabled. Default value is 8088 for http protocol and 8488 for https protocol. 

target [Optional] 
It is child XML element of &lt;item&gt; XML element. 
You can use this element to specify the connection information for a DFM Server. For this a comma separated list of configuration names can be specified. This executes the request simultaneously on all DFM servers identified by the configuration names. 
Valid values: 
1. The values specified for &lt;target&gt; XML element must be same as the values that have been specified for the name attribute of &lt;config&gt; element in Grid Manager adapter configuration. 
2. You can provide "ALL" as the value. In this case the request will get executed on all the DFM servers defined in Grid Manager adapter configuration. 
3. You can specify multiple comma separated names to allow simultaneous execution of requests across multiple DFM servers. 
4. You can skip this element. In that case the request will be executed on the first defined Grid Manager adapter configuration. 
You can leave this element empty. In that case the request will be executed on the first defined Grid Manager adapter configuration. 

Note: This element is ignored if request level dynamic target is specified using &lt;targets&gt; XML element.



target-host[Required]
	The hostname or IP of the target storage/filer.

persistent[Optional]
	This is a boolean field. If true, modify the etc/exports file to modify the rule permanently. Default value is false.

actual-pathname[Optional]
	Pathname inside of the filer which is being exported. The default for this is value in 'pathname'.  

pathname[Required]
	Directory name or file to export.  

anonymous-access-user[Optional]
	All hosts with this user-id or username have root access to this directory.

disable-setuid[Optional]
	This is a boolean field. If true, causes the server file system to silently ignore any attempt to enable the setuid or setgid mode bits. Default value is false.

read-only[Optional]
	An array of hostnames which only have read privileges for all the security flavors found in the sec-flavor list.
  
read-write[Optional]
	An array of hostnames which have read and write privileges for all the security flavors found in the 'sec-flavor list'. Any hostname in 'read-only' must not be in 'read-write' also. By default, if no 'read-only' or 'read-write' hosts are given, then 'read-write' contains a hostname of 'all-hosts'.
  
root[Optional]
	Array of hostnames which have roots with 'read-write' or 'read-only' privileges.

exports-hostname-info[Optional] 
	Structure containing information pertaining to a host.  

all-hosts[Optional]
	This is a boolean field. Default value is false. If true, enables all hosts to have this rule's access rights. A hostname of 'all-hosts' must exist as the only non-negated element in a hostname array.
  
name[Optional]
	A hostname can be ONE of the following formats. If 'all-hosts' is true, 'name' must not have a value. machine-name: Alphanumeric string based on DNS. netgroup: Alphanumeric string describing a group of   machine names IP: An IPV4 address in dotted decimal format AAA.BBB.CCC.DDD IPv6: An IPv6 address in RFC 2732 format [AAAA:BBBB::GGGG] IPv4 subnet: "[network] subnet [netmask] netmask" IPv4/v6-subnet: IP/numbits. The IP is a subnet number and the numbits specifies the size of the subnet by the   number of leading bits of the netmask. dns: A DNS domain. An Alphanumeric starting with a '.'  

negate[Optional]
	This is a boolean field. Default is false. If true, the rule applies to every host but this one. Used most commonly when adding a group minus a few hosts.  

sec-flavor[Optional]
	Contains list of security flavors.
  
sec-flavor-info[Optional]
	List of possible security flavors this rule supports. Default security is "sys".  

flavor[Optional]
	Represents one security flavor. Current possible values can be found using the 'nfs-get-supported-sec-flavors' command. For reference: 'none', 'sys', 'Krb5', 'Krb5i', 'Krb5p' are all supported.</description>
        <from>items</from>
        <to>items</to>
      </input>
      <output global="false" required="false">
        <to>adapter response</to>
        <from>adapter response</from>
      </output>
    </parameters>
    <access />
    <sequence>
      <assign>
        <assignment>
          <output>
            <to>operation name</to>
            <value>modify-export-rule</value>
          </output>
        </assignment>
        <meta>
          <documentation />
          <checkpoint>false</checkpoint>
        </meta>
        <location>:assign[1]</location>
      </assign>
      <call-process>
        <process-name>:AO-AD-NetAPP_Storage:Utilities:Invoke Adapter Request</process-name>
        <parameters>
          <input>
            <from>adapter name</from>
            <to>adapter name</to>
          </input>
          <input>
            <from>items</from>
            <to>items</to>
          </input>
          <input>
            <from>operation name</from>
            <to>operation name</to>
          </input>
          <output>
            <from>adapter response</from>
            <to>adapter response</to>
          </output>
        </parameters>
        <meta>
          <documentation />
          <run-mode-handling>
            <run-mode>OCP</run-mode>
            <allow-step-into>false</allow-step-into>
          </run-mode-handling>
          <checkpoint>false</checkpoint>
        </meta>
        <after-execution>
          <console-output>
            <type>INFO</type>
            <summary>
              <concat>
                <input>
                  <value></value>
                </input>
              </concat>
            </summary>
            <detail>
              <concat>
                <input>
                  <value></value>
                </input>
              </concat>
            </detail>
          </console-output>
        </after-execution>
        <location>:call-process[1]</location>
      </call-process>
    </sequence>
    <meta>
      <expose-to>
        <consumer>RULE</consumer>
        <consumer>SCHEDULE</consumer>
      </expose-to>
      <documentation>
        <description></description>
        <version></version>
      </documentation>
      <peer-location>
        <location>any</location>
      </peer-location>
      <record-metrics>false</record-metrics>
      <process-id>c2383b90-8059-392c-a628-b91930580e21</process-id>
      <author />
      <category />
      <status />
      <keywords />
      <systems />
      <last-modified-by />
      <last-modified>1290598210704</last-modified>
    </meta>
  </process-def>
</process>