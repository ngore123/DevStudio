<process draft="false" dev-studio-version="7.6.01.02">
  <process-def name=":AO-AD-NetAPP_Storage:v4.0:Host:Find Host">
    <parameters>
      <input global="false" required="false">
        <description>The name of the adapter. Default Name: NetAppActor</description>
        <from>adapter name</from>
        <to>adapter name</to>
      </input>
      <input global="false" required="true">
        <description>Finds details of Host / Hosts which satisfy the search criteria.


Sample Items XML:

&lt;items&gt;
  &lt;item&gt;
		&lt;targets&gt;
			&lt;target&gt;
				&lt;host&gt;10.10.10.10&lt;/host&gt;
				&lt;user-name&gt;userName&lt;/user-name&gt;
				&lt;password&gt;password&lt;/password&gt;
				&lt;protocol&gt;http&lt;/protocol&gt;
				&lt;port&gt;8088&lt;/port&gt;                                
			&lt;/target&gt;
		&lt;/targets&gt;
	&lt;target&gt;server1&lt;/target&gt;
      &lt;expand-filer-to-vfilers&gt;true&lt;/expand-filer-to-vfilers&gt;
	&lt;host-dp-filter-info&gt;
          &lt;is-dp-ignored&gt;false&lt;/is-dp-ignored&gt;
          &lt;is-in-dataset&gt;false&lt;/is-in-dataset&gt;
          &lt;is-in-resourcepool&gt;false&lt;/is-in-resourcepool&gt;
          &lt;is-snapmirrored-only&gt;false&lt;/is-snapmirrored-only&gt;
          &lt;is-snapvault-primary-only&gt;false&lt;/is-snapvault-primary-only&gt;
          &lt;is-snapvault-secondary-only&gt;false&lt;/is-snapvault-secondary-only&gt;
          &lt;is-unprotected&gt;false&lt;/is-unprotected&gt;
      &lt;/host-dp-filter-info&gt;
     &lt;host-types&gt;
		&lt;host-type&gt;filer&lt;/host-type&gt;
	&lt;/host-types&gt;
      &lt;include-is-available&gt;false&lt;/include-is-available&gt;
      &lt;include-migration-info&gt;false&lt;/include-migration-info&gt;
      &lt;include-perf-space-details&gt;false&lt;/include-perf-space-details&gt;
      &lt;is-direct-member-only&gt;false&lt;/is-direct-member-only&gt;
      &lt;license-filter&gt;
		&lt;license&gt;nfs&lt;/license&gt;
		&lt;license&gt;cifs&lt;/license&gt;
	&lt;/license-filter&gt;
      &lt;object-management-filter&gt;node&lt;/object-management-filter&gt;
      &lt;object-name-or-id&gt;object_name_1&lt;/object-name-or-id&gt;
      &lt;query-host&gt;false&lt;/query-host&gt;
     	 &lt;vfiler-ipspace&gt;ipspace3&lt;/vfiler-ipspace&gt;
  &lt;/item&gt;
&lt;/items&gt;

Parameters Description:

targets [Conditional] 

        It is parent XML element for &lt;target&gt; XML element. 
        The &lt;target&gt; XML element is used to specify dynamic targets at request level. 
        Note: The &lt;targets&gt; XML element is required if the adapter configuration is empty in Grid Manager. 

target [Conditional] 
        It is child XML element of &lt;targets&gt; XML element. This element is used to specify dynamic targets at request level. 

        Using dynamic targets you can define connection information for a remote host within an adapter request. This allows you to configure an adapter in Grid Manager, by specifying configuration information in an adapter request. 

        Note: (1) Adapter configuration specified using request level dynamic targets takes precedence over Grid Manager level configuration information. (2) If request level dynamic target is specified using &lt;targets&gt; XML element, then the &lt;target&gt; element which is child of &lt;item&gt; element is ignored. (3) This element is required if &lt;targets&gt; XML element is present in the adapter request. 

host [Conditional] 
Host name or IP address of server on which NetApp DataFabric Manager is running. 
Note: This element is required if &lt;targets&gt; XML element is present in the adapter request. 

user-name [Conditional] 
NetApp DataFabric Manager login username. 
Note: This element is required if &lt;targets&gt; XML element is present in the adapter request. 

password [Conditional] 
NetApp DataFabric Manager login password. 

You can encrypt the password by specifying the encryption type attribute. 
For example: &lt;password encryption-type = "Base64"&gt;cGFzc3dvcmQ=&lt;/password&gt;. 
Note: This element is required if &lt;targets&gt; XML element is present in the adapter request. 

protocol [Optional] 
Communication protocol used by adapter. Valid value is http or https. Default value is http. 

port [Optional] 
Port on which NetApp DataFabric Manager is enabled. Default value is 8088 for http protocol and 8488 for https protocol. 

target [Optional] 
It is child XML element of &lt;item&gt; XML element. 
You can use this element to specify the connection information for a DFM Server. For this a comma separated list of configuration names can be specified. This executes the request simultaneously on all DFM servers identified by the configuration names. 
Valid values: 
1. The values specified for &lt;target&gt; XML element must be same as the values that have been specified for the name attribute of &lt;config&gt; element in Grid Manager adapter configuration. 
2. You can provide "ALL" as the value. In this case the request will get executed on all the DFM servers defined in Grid Manager adapter configuration. 
3. You can specify multiple comma separated names to allow simultaneous execution of requests across multiple DFM servers. 
4. You can skip this element. In that case the request will be executed on the first defined Grid Manager adapter configuration. 
You can leave this element empty. In that case the request will be executed on the first defined Grid Manager adapter configuration. 

Note: This element is ignored if request level dynamic target is specified using &lt;targets&gt; XML element.


host-dp-filter-info [Optional]
	This is the parent tag which holds search parameter values specific to data protection policy.

expand-filer-to-vfilers[Optional]
	This is a boolean field. If true and object-name-or-id is a storage system and host-types contains "vfiler" then all vFiler units belonging to the storage system are returned else it is ignored. Default value is false.

is-dp-ignored [Optional]
	This is a boolean field. If true, only list aggregates that have been set to be ignored for purposes of data protection. If false, only list aggregates that have not been set to be ignored for purposes of data protection. If not specified, list all aggregates without taking into account whether they have been ignored or not.

is-in-dataset [Optional]
	This is a boolean field. If true, only hosts in a dataset are listed Default is false.

is-in-resourcepool [Optional]
	This is a boolean field. If true, only hosts in a resource pool are listed Default is false.

is-snapmirrored-only [Optional]
	This is a boolean field. If true, only SnapMirror hosts are listed. Host could be either a source or a destination for SnapMirror. Default is false.

is-snapvault-primary-only [Optional]
	This is a boolean field. If true, only SnapVault primary systems are listed. Default is false.

is-snapvault-secondary-only [Optional]
	This is a boolean field. If true, only SnapVault secondary systems are listed. Default is false.

is-unprotected [Optional]
	This is a boolean field. If true, only list hosts which are not protected, which means it is:
		1. not in any resource pool, and
		2. not a member of a node in a dataset with protection policy assigned.
If false or not set, list all hosts.


host-types [Optional]
	This is a parent tag that holds different host-type values which need to be included in the search. A host-types tag can hold multiple host-type values

host-type [Optional]
	This holds values of the host-type which need to be included in the search. 
Valid values are : filer, vfiler, cluster, vserver, agent, ossv, and switch

Multiple host-type values may be specified in &lt;host-types&gt; tag as follows :
	&lt;host-types&gt;
		&lt;host-type&gt;filer&lt;/host-type&gt;
		&lt;host-type&gt;cluster&lt;/host-type&gt;
		.
		.
		....etc.
	&lt;/host-types&gt;

include-is-available [Optional]
	This is a boolean field. If true, the is-available status is calculated for each host which may make the call to this operation take much longer.

include-migration-info [Optional]
	This is a boolean field. If true, return the migration information for the migrating vFiler units. Default value is false.

include-perf-space-details [Optional]
	This is a boolean field. If true, return the details of space consumed by performance data of the host. Default value is false.

is-direct-member-only [Optional]
	This is a boolean field. If true, only return the hosts that are direct members of the specified resource group. Default value is false. This field is meaningful only if a resource group name or id is given for the object-name-or-id field.

license-filter [Optional]
	Filter for listing storage systems based on services licensed.  Only those storage systems which have all the licenses installed as specified in input are listed.

license [Conditional]
	Name of the licensed Data ONTAP service. This tag is only valid when "license-filter" tag is present. Possible values: "nfs", "cifs", "iscsi", "fcp", "multistore", "a_sis", "snapmirror_sync".

object-management-filter [Optional]
	Filter the object based on the Data ONTAP interface that provides complete management for the object i.e. ONTAP CLIs, SNMP, ONTAPI etc. If no filter is supplied, all objects will be considered.

Valid Values : 
		"node" - For objects manageable by node management interface
		"cluster" - For objects manageable by cluster management interface

object-name-or-id [Optional]
	Name or identifier of an object to list hosts for. The allowed object types for this argument are:
		Resource Group
		Resource Pool
		Dataset
		Storage Set
		Host
		Aggregate
		Volume
		Qtree
		OSSV Directory
	If object-name-or-id identifies a host, that single host will be returned. If object-name-or-id resolves to more than one hosts, all of them will be returned. If no object-name-or-id is provided, all hosts will be listed. Host Agents and OSSV agents may use a subdomain to identify themselves, unlike other host types. If the host-types element includes "agent" or "ossv" all subdomains beginning with the host name will be checked.

query-host [Optional]
	This is a boolean field. If true, query the host to update the database and refresh the values returned in the following elements :
		host-status
		is-agent-ossv-enabled
		is-snapvault-enabled
		is-ndmp-enabled
		is-snapmirror-enabled
		snapvault-access-specifier
		ndmp-access-specifier
		snapmirror-access-specifier
		host-communication-status
		host-credentials-status
		ndmp-communication-status
		ndmp-credentials-status
		ndmp-agent-status
		is-snapvault-primary
		is-snapvault-secondary
		is-snapmirror-host
		is-unix-primary
		is-linux-primary
		is-windows-primary
		is-windows-ofm-primary
		is-nearstore

	Errors in communicating with or authenticating to the host will prevent updating all the elements that are supported.

vfiler-ipspace [Optional]
	Filter for listing vFiler units, if specified, only the vFiler units that belong to the ipspace are listed. Applicable only for host-type "vfiler".

</description>
        <from>items</from>
        <to>items</to>
      </input>
      <output global="false" required="false">
        <to>adapter response</to>
        <from>adapter response</from>
      </output>
    </parameters>
    <access />
    <sequence>
      <assign>
        <assignment>
          <output>
            <to>operation name</to>
            <value>find-host-inventory</value>
          </output>
        </assignment>
        <meta>
          <documentation />
          <checkpoint>false</checkpoint>
        </meta>
        <location>:assign[1]</location>
      </assign>
      <call-process>
        <process-name>:AO-AD-NetAPP_Storage:Utilities:Invoke Adapter Request</process-name>
        <parameters>
          <input>
            <from>adapter name</from>
            <to>adapter name</to>
          </input>
          <input>
            <from>items</from>
            <to>items</to>
          </input>
          <input>
            <from>operation name</from>
            <to>operation name</to>
          </input>
          <output>
            <from>adapter response</from>
            <to>adapter response</to>
          </output>
        </parameters>
        <meta>
          <documentation />
          <run-mode-handling>
            <run-mode>OCP</run-mode>
            <allow-step-into>false</allow-step-into>
          </run-mode-handling>
          <checkpoint>false</checkpoint>
        </meta>
        <after-execution>
          <console-output>
            <type>INFO</type>
            <summary>
              <concat>
                <input>
                  <value></value>
                </input>
              </concat>
            </summary>
            <detail>
              <concat>
                <input>
                  <value></value>
                </input>
              </concat>
            </detail>
          </console-output>
        </after-execution>
        <location>:call-process[1]</location>
      </call-process>
    </sequence>
    <meta>
      <expose-to>
        <consumer>RULE</consumer>
        <consumer>SCHEDULE</consumer>
      </expose-to>
      <documentation>
        <description>Finds details of Host / Hosts which satisfy the search criteria</description>
        <version></version>
      </documentation>
      <peer-location>
        <location>any</location>
      </peer-location>
      <record-metrics>false</record-metrics>
      <process-id>35d4f90f-921b-3020-8aee-8684bc8e218d</process-id>
      <author />
      <category />
      <status />
      <keywords />
      <systems />
      <last-modified-by />
      <last-modified>1290598202844</last-modified>
    </meta>
  </process-def>
</process>