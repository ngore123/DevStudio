<process draft="false" dev-studio-version="7.6.01.02">
  <process-def name=":AutoPilot-OA-Directory_Services_Utilities:Groups:Create Group for Domain">
    <parameters>
      <input global="false" required="true">
        <description>XML document conforming to the ConnectionDetails Concept that contains the information required to execute a command.</description>
        <from>connection details</from>
        <to>connection details</to>
      </input>
      <input global="false" required="true">
        <description>Specify the name of the group to create.</description>
        <from>group name</from>
        <to>group name</to>
      </input>
      <input global="false" required="false">
        <description>Creates the group on the domain controller in the current domain if the value is set to true. Otherwise, the operation is performed on the host computer specified within the ConnectionDetails concept.
Valid value: true</description>
        <from>domain</from>
        <to>domain</to>
      </input>
      <output global="false" required="true">
        <description>XML document consisting of one or more &lt;line&gt; elements that contain the command response. Each  &lt;line&gt; element contains an index attribute indicating the order in which the information was returned by the command.</description>
        <to>output</to>
        <from>command output</from>
      </output>
      <output global="false" required="true">
        <description>Did the operation succeed? Valid values:  true</description>
        <to>success</to>
        <from>exit code</from>
      </output>
    </parameters>
    <access />
    <sequence>
      <call-process>
        <process-name>:AutoPilot-OA-Common_Utilities:Invoke Command</process-name>
        <parameters>
          <input>
            <from>connection details</from>
            <to>connection details</to>
          </input>
          <input>
            <from>group name</from>
            <to>command</to>
            <xslt-stylesheet>
              <stylesheet-replacement-tokens>
                <replacement-token name="group name">
                  <input global="false">
                    <from>group name</from>
                  </input>
                </replacement-token>
                <replacement-token name="domain">
                  <input global="false">
                    <from>domain</from>
                  </input>
                </replacement-token>
              </stylesheet-replacement-tokens>
              <stylesheet><![CDATA[<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
  <xsl:output indent="yes" />
  <xsl:template match="/">
    <fat-command>
      <command os-id="Linux">
        <xsl:text disable-output-escaping="no">echo Command not supported on Linux.</xsl:text>
      </command>
      <command os-id="SunOS">
        <xsl:text disable-output-escaping="no">echo Command not supported on SunOS.</xsl:text>
      </command>
      <command os-id="Windows Default">
        <xsl:text disable-output-escaping="no">net group</xsl:text>
        <xsl:if test="string-length('${group name}') != 0">
          <xsl:text disable-output-escaping="no"> ${group name} /add</xsl:text>
        </xsl:if>
        <xsl:if test="string-length('${domain}') != 0 and '${domain}' = 'true'">
          <xsl:text disable-output-escaping="no"> /domain</xsl:text>
        </xsl:if>
      </command>
    </fat-command>
  </xsl:template>
</xsl:stylesheet>]]></stylesheet>
            </xslt-stylesheet>
          </input>
          <output>
            <from>command output</from>
            <to>command output</to>
          </output>
          <output>
            <from>exit code</from>
            <to>exit code</to>
            <xpath-expression>
              <xpath-replacement-tokens />
              <xpath><![CDATA[string(.)=0]]></xpath>
            </xpath-expression>
          </output>
        </parameters>
        <meta>
          <documentation />
          <run-mode-handling>
            <run-mode>OCP</run-mode>
            <allow-step-into>false</allow-step-into>
          </run-mode-handling>
          <checkpoint>false</checkpoint>
        </meta>
        <after-execution>
          <console-output>
            <type>INFO</type>
            <summary>
              <concat>
                <input>
                  <value></value>
                </input>
              </concat>
            </summary>
            <detail>
              <concat>
                <input>
                  <value></value>
                </input>
              </concat>
            </detail>
          </console-output>
        </after-execution>
        <location>:call-process[1]</location>
      </call-process>
    </sequence>
    <meta>
      <expose-to>
        <consumer>RULE</consumer>
        <consumer>SCHEDULE</consumer>
      </expose-to>
      <documentation>
        <description>Create Group for Domain
    Creates a global group in a domain.</description>
        <version>1.0</version>
      </documentation>
      <peer-location>
        <location>any</location>
      </peer-location>
      <record-metrics>false</record-metrics>
      <process-id>64a6c8fb-87d2-3c57-9730-f5bed8dd77fc</process-id>
      <author />
      <category />
      <status />
      <keywords />
      <systems />
      <last-modified-by />
      <last-modified>1290416893662</last-modified>
    </meta>
  </process-def>
</process>