<process draft="false" dev-studio-version="7.5.02.04">
  <process-def name=":AutoPilot-OA-Virtual_Server_Management:Setup_Validation:Test Create VM from a Template">
    <parameters>
      <output global="false" required="false">
        <to>success status</to>
        <from>success status</from>
      </output>
      <output global="false" required="false">
        <to>status message</to>
        <from>status message</from>
      </output>
    </parameters>
    <access />
    <sequence>
      <assign>
        <assignment>
          <output>
            <to>virtual server</to>
            <value>
              <Virtual-Server>
                <ip-address />
                <mac-address />
                <power-status />
                <virtual-center />
                <datacenter />
                <datastore />
                <host-name />
                <resource-pool />
                <disk-info />
                <expiry-date />
                <package-id />
                <destination />
                <srm-id>REQ000000000115</srm-id>
                <change-id>CRQ000000000107</change-id>
                <task-id>TAS000000000120</task-id>
                <owner />
                <network-info />
                <boot-image-id />
                <approval-type />
                <change-type />
                <description />
                <impact-id />
                <risk-level />
                <property-name />
                <approval-id />
                <package-key />
                <job-key />
                <template-id />
                <file-adapter-name>File Adapter</file-adapter-name>
                <vm-details>
                  <vm>
                    <vmpackage_id>11111</vmpackage_id>
                    <virtual_center>myvirtualcenter</virtual_center>
                    <destination type="host">myvmhost</destination>
                    <data_store>some_datastore</data_store>
                    <port_group>some_portgroup</port_group>
                    <ipconfig>
                      <prop name="ipaddress" value="192.168.1.100" />
                      <prop name="subnet_mask" value="255.255.255.0" />
                      <prop name="default_gateway" value="192.168.1.1" />
                      <prop name="primary_dns" value="10.1.1.100" />
                      <prop name="secondary_dns" value="10.1.1.101" />
                    </ipconfig>
                    <hostname>myvm</hostname>
                    <no_of_processors>2</no_of_processors>
                    <memory_in_MB>256</memory_in_MB>
                    <disk_info>
                      <disk>
                        <storage_path>BLProv:Storage1</storage_path>
                        <disk_size>1</disk_size>
                        <use_existing_disk>true</use_existing_disk>
                      </disk>
                      <disk>
                        <storage_path>BLProv:Storage2</storage_path>
                        <disk_size>5</disk_size>
                        <use_existing_disk>true</use_existing_disk>
                      </disk>
                    </disk_info>
                    <vm_property>
                      <prop name="expiration_date" value="05/26/2009" />
                      <prop name="owner" value="win admin" />
                    </vm_property>
                    <system_package_id>1110</system_package_id>
                    <system_package_dbkey>1110</system_package_dbkey>
                    <server_property>
                      <prop name="servername" value="myserver" />
                    </server_property>
                    <syspackage_local_property>
                      <prop name="datastore" value="thestore" />
                    </syspackage_local_property>
                    <acl_template_id>2222</acl_template_id>
                    <batch_job_dbkey> 4444 </batch_job_dbkey>
                  </vm>
                </vm-details>
                <job-folder-id>1234</job-folder-id>
                <job-name>jobname</job-name>
                <timeout>300</timeout>
                <user-role>BLAdmins</user-role>
                <etKey />
              </Virtual-Server>
            </value>
          </output>
        </assignment>
        <meta>
          <documentation />
          <checkpoint>false</checkpoint>
        </meta>
        <location>:assign[1]</location>
      </assign>
      <call-process>
        <process-name>:AutoPilot-OA-Virtual_Server_Management:Create VM from a Template</process-name>
        <parameters>
          <input>
            <from>virtual server</from>
            <to>virtual server</to>
          </input>
          <output>
            <from>success status</from>
          </output>
          <output>
            <from>status message</from>
          </output>
        </parameters>
        <meta>
          <documentation />
          <run-mode-handling>
            <run-mode>SEMI_AUTOMATIC</run-mode>
            <allow-step-into>false</allow-step-into>
          </run-mode-handling>
          <checkpoint>false</checkpoint>
        </meta>
        <location>:call-process[1]</location>
      </call-process>
    </sequence>
    <meta>
      <expose-to>
        <consumer>RULE</consumer>
        <consumer>SCHEDULE</consumer>
      </expose-to>
      <documentation>
        <description></description>
        <version></version>
      </documentation>
      <peer-location>
        <location>any</location>
      </peer-location>
      <record-metrics>false</record-metrics>
    </meta>
  </process-def>
</process>