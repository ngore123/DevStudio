<process draft="false" dev-studio-version="7.6.01.02">
  <process-def name=":AO-AD-IBM_Tivoli_Storage_Manager:Adapter_Action_Input_Constructors:v5.5:Image:Restore Image">
    <parameters>
      <input global="false" required="false">
        <description>The timeout value is seconds. This is the time after which the command will timeout regardless of whether the command execution is complete or not.</description>
        <from>timeout secs</from>
        <to>timeout secs</to>
      </input>
      <input global="false" required="false">
        <description>The dateformat option specifies the format you want to use to display dates. Valid values - MM/DD/YYYY, DD-MM-YYYY, DD.MM.YYYY, YYYY.MM.DD, YYYY-MM-DD</description>
        <from>dateformat</from>
        <to>dateformat</to>
      </input>
      <input global="false" required="false">
        <description>The timeformat option specifies the format in which you want to display system time. Valid values â€“ 1) HH:MM:SS 2) HH,MM,SS 3)HH.MM.SS 4) hh:mm:ssAM/PM.  The formats 1,2 and 3 follow 0-23 hour format.</description>
        <from>timeformat</from>
        <to>timeformat</to>
      </input>
      <input global="false" required="false">
        <description>The fromnode option permits one node to perform commands for another node. A user on another node must use the set access command to permit you to query, restore, or retrieve files or images for the other node.</description>
        <from>fromnode</from>
        <to>fromnode</to>
      </input>
      <input global="false" required="true">
        <description>Specifies the path and file name in storage that you want to restore. Use wildcard characters to specify a group of files or all the files in a directory.</description>
        <from>source filespec</from>
        <to>source filespec</to>
      </input>
      <input global="false" required="false">
        <description>Specifies the path and file name where you want to place the restored files. If you do not specify a destination, Tivoli Storage Manager restores the files to the original source path.

 When entering the destinationfilespec, please consider the following:

 *  If the sourcefilespec names a single file, the destinationfilespec can be a file or a directory. If you are restoring a single file, you can optionally end the specification with a file name if you want to give the restored file a new name.
 *  If the sourcefilespec is wildcarded or subdir=yes is specified, the destinationfilespec must be a directory and end with a directory delimiter (\).

 Note: If the destination path or any part of it does not exist, Tivoli Storage Manager will create it.</description>
        <from>dest filespec</from>
        <to>dest filespec</to>
      </input>
      <input global="false" required="false">
        <description>Use the inactive option to display both active and inactive objects.
Valid values-true,false.</description>
        <from>inactive</from>
        <to>inactive</to>
      </input>
      <input global="false" required="false">
        <description>Use the pitdate option with the pittime option to establish a point in time for which you want to display or restore the latest version of your backups. Files or images that were backed up on or before the date and time you specified, and which were not deleted before the date and time you specified, are processed. Backup versions that you create after this date and time are ignored.
Note: When pitdate is used, the inactive option is implicit.</description>
        <from>pitdate</from>
        <to>pitdate</to>
      </input>
      <input global="false" required="false">
        <description>Use the pittime option with the pitdate option to establish a point in time for which you want to display or restore the latest version of your backups. Files or images that were backed up on or before the date and time you specify, and which were not deleted before the date and time you specify, are processed. Backup versions that you create after this date and time are ignored. This option is ignored if you do not specify pitdate option
Note: The PITTIME option cannot be used without specifying the PITDATE option
</description>
        <from>pittime</from>
        <to>pittime</to>
      </input>
      <input global="false" required="false">
        <description>Use the imagetofile option with the restore image command to specify that you want to restore the source image to a file. You might need to restore the image to a file if bad sectors are present on the target volume, or if you want to manipulate the image data. Later, you can use a data copy utility of your choice to transfer the image from the file to a disk volume.
Valid values-true,false</description>
        <from>imagetofile</from>
        <to>imagetofile</to>
      </input>
      <input global="false" required="false">
        <description>Use the incremental option with the restore image command to ensure that any changes that were made to the base image are also applied to the restored image.

If you also use the deletefiles option, changes include the deletion of files and directories that were in the original image but later deleted from the workstation.
Valid values-true,false</description>
        <from>incremental</from>
        <to>incremental</to>
      </input>
      <input global="false" required="false">
        <description>Use this option with the restore image command and the incremental option to delete files from the restored image if they were deleted after the image was created. Deletion of files will be performed correctly if the Tivoli Storage Manager server's backup copy group has enough versions for existing and deleted files.
Valid values-true,false</description>
        <from>deletefiles</from>
        <to>deletefiles</to>
      </input>
      <input global="false" required="false">
        <description>Use the verifyimage option with the restore image command to specify that you want to enable detection of bad sectors on the destination target volume. If bad sectors are detected on the target volume, Tivoli Storage Manager issues a warning message on
the console and in the error log.
Valid values-true,false</description>
        <from>verifyimage</from>
        <to>verifyimage</to>
      </input>
      <output global="false" required="false">
        <to>items</to>
        <from>final items</from>
      </output>
    </parameters>
    <access />
    <sequence>
      <assign>
        <assignment>
          <output>
            <to>final items</to>
            <value>
              <root />
            </value>
          </output>
          <xslt-stylesheet>
            <stylesheet-replacement-tokens>
              <replacement-token name="timeout secs">
                <input global="false">
                  <from>timeout secs</from>
                </input>
              </replacement-token>
              <replacement-token name="dateformat">
                <input global="false">
                  <from>dateformat</from>
                </input>
              </replacement-token>
              <replacement-token name="timeformat">
                <input global="false">
                  <from>timeformat</from>
                </input>
              </replacement-token>
              <replacement-token name="fromnode">
                <input global="false">
                  <from>fromnode</from>
                </input>
              </replacement-token>
              <replacement-token name="source filespec">
                <input global="false">
                  <from>source filespec</from>
                </input>
              </replacement-token>
              <replacement-token name="dest filespec">
                <input global="false">
                  <from>dest filespec</from>
                </input>
              </replacement-token>
              <replacement-token name="pitdate">
                <input global="false">
                  <from>pitdate</from>
                </input>
              </replacement-token>
              <replacement-token name="pittime">
                <input global="false">
                  <from>pittime</from>
                </input>
              </replacement-token>
              <replacement-token name="imagetofile">
                <input global="false">
                  <from>imagetofile</from>
                </input>
              </replacement-token>
              <replacement-token name="verifyimage">
                <input global="false">
                  <from>verifyimage</from>
                </input>
              </replacement-token>
              <replacement-token name="incremental">
                <input global="false">
                  <from>incremental</from>
                </input>
              </replacement-token>
              <replacement-token name="deletefiles">
                <input global="false">
                  <from>deletefiles</from>
                </input>
              </replacement-token>
              <replacement-token name="inactive">
                <input global="false">
                  <from>inactive</from>
                </input>
              </replacement-token>
            </stylesheet-replacement-tokens>
            <stylesheet><![CDATA[<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
  <xsl:output indent="no" omit-xml-declaration="yes" />
  <xsl:template match="/">
    <items>
      <item>
        <operation-name>
          <xsl:text disable-output-escaping="no">restore-image</xsl:text>
        </operation-name>
        <xsl:if test="string('${timeout secs}')!=''">
          <timeout-secs>
            <xsl:value-of select="'${timeout secs}'" disable-output-escaping="no" />
          </timeout-secs>
        </xsl:if>
        <command-options>
          <xsl:if test="string('${dateformat}')!=''">
            <dateformat>
              <xsl:value-of select="'${dateformat}'" disable-output-escaping="no" />
            </dateformat>
          </xsl:if>
          <xsl:if test="string('${timeformat}')!=''">
            <timeformat>
              <xsl:value-of select="'${timeformat}'" disable-output-escaping="no" />
            </timeformat>
          </xsl:if>
          <xsl:if test="string('${fromnode}')!=''">
            <fromnode>
              <xsl:value-of select="'${fromnode}'" disable-output-escaping="no" />
            </fromnode>
          </xsl:if>
          <xsl:if test="string('${pitdate}')!=''">
            <pitdate>
              <xsl:value-of select="'${pitdate}'" disable-output-escaping="no" />
            </pitdate>
          </xsl:if>
          <xsl:if test="string('${pittime}')!=''">
            <pittime>
              <xsl:value-of select="'${pittime}'" disable-output-escaping="no" />
            </pittime>
          </xsl:if>
          <xsl:if test="string('${imagetofile}')='true'">
            <imagetofile />
          </xsl:if>
          <xsl:if test="string('${verifyimage}')='true'">
            <verifyimage />
          </xsl:if>
          <xsl:if test="string('${incremental}')='true'">
            <incremental />
          </xsl:if>
          <xsl:if test="string('${deletefiles}')='true'">
            <deletefiles />
          </xsl:if>
          <xsl:if test="string('${inactive}')='true'">
            <inactive />
          </xsl:if>
        </command-options>
        <command-arguments>
          <xsl:if test="string('${source filespec}')!=''">
            <source-filespec>
              <xsl:value-of select="'${source filespec}'" disable-output-escaping="no" />
            </source-filespec>
          </xsl:if>
          <xsl:if test="string('${dest filespec}')!=''">
            <dest-filespec>
              <xsl:value-of select="'${dest filespec}'" disable-output-escaping="no" />
            </dest-filespec>
          </xsl:if>
        </command-arguments>
      </item>
    </items>
  </xsl:template>
</xsl:stylesheet>]]></stylesheet>
          </xslt-stylesheet>
        </assignment>
        <meta>
          <documentation />
          <checkpoint>false</checkpoint>
        </meta>
        <after-execution>
          <log>
            <level>debug</level>
            <parameters>
              <input>
                <value>FINAL ITEMS: </value>
              </input>
              <input>
                <from>final items</from>
              </input>
            </parameters>
          </log>
        </after-execution>
        <location>:assign[1]</location>
      </assign>
    </sequence>
    <meta>
      <expose-to>
        <consumer>RULE</consumer>
        <consumer>SCHEDULE</consumer>
      </expose-to>
      <documentation>
        <description>Utility to create items xml for Restore Image process.</description>
        <version></version>
      </documentation>
      <peer-location>
        <location>any</location>
      </peer-location>
      <record-metrics>false</record-metrics>
      <process-id>d809f306-b91a-3bb4-bfac-b608f40af545</process-id>
      <author />
      <category />
      <status />
      <keywords />
      <systems />
      <last-modified-by />
      <last-modified>1290596963817</last-modified>
    </meta>
  </process-def>
</process>