<process draft="false" dev-studio-version="7.6.01.02">
  <process-def name=":AO-AD-IBM_Tivoli_Storage_Manager:Adapter_Action_Input_Constructors:v5.5:Backupset:Restore Backupset">
    <parameters>
      <input global="false" required="false">
        <description>The subdir option specifies whether you want to include subdirectories of named directories for processing. Valid values-yes,no
Note: SUBDIR is not a valid option when using FILELIST option.
</description>
        <from>subdir</from>
        <to>subdir</to>
      </input>
      <input global="false" required="false">
        <description>The timeout value is seconds. This is the time after which the command will timeout regardless of whether the command execution is complete or not.</description>
        <from>timeout secs</from>
        <to>timeout secs</to>
      </input>
      <input global="false" required="false">
        <description>The filesonly option restricts backup, restore, retrieve, or query processing to files only. You cannot restore or retrieve directories from the Tivoli Storage Manager server when using the filesonly option with the restore or retrieve commands. However,directories with default attributes are created, if required, as placeholders for files that you restore or retrieve.
Valid values-true,false.</description>
        <from>filesonly</from>
        <to>filesonly</to>
      </input>
      <input global="false" required="false">
        <description>The dirsonly option processes directories only. The client does not process files.
Vali values - true,false.</description>
        <from>dirsonly</from>
        <to>dirsonly</to>
      </input>
      <input global="false" required="true">
        <description>The backupsetname option specifies either the name of the backup set, or the name of the file or tape device containing the backupset. This option is used in conjunction with the location option.</description>
        <from>backupsetname</from>
        <to>backupsetname</to>
      </input>
      <input global="false" required="false">
        <description>Specifies where Tivoli Storage Manager searches for a backup set during a query or restore operation. Use this option to locate backup sets on the server or local files. Backup sets that are generated on the server can be used locally specifying the location option and either the file name of the file containing the start of the backup set, or the tape device where the tape containing the start of the backup set is  located.
Valid values are-

         server   Specifies that Tivoli Storage Manager searches for the backup set on the server. This is the default.

         file     Specifies that Tivoli Storage Manager searches for the backup set on a local file.

         tape     Specifies that Tivoli Storage Manager searches for the backup set on a local tape device.</description>
        <from>location</from>
        <to>location</to>
      </input>
      <input global="false" required="false">
        <description>The ifnewer option replaces an existing file with the latest backup version only if the backup version is newer than the existing file.
Valid values - true,false</description>
        <from>ifnewer</from>
        <to>ifnewer</to>
      </input>
      <input global="false" required="false">
        <description>The preservepath option specifies how much of the source path to reproduce as part of the target directory path when you restore or retrieve files to a new location. Use the -subdir=yes option to include the entire subtree of the source directory (directories
and files below the lowest-level source directory) as source to be restored. If a required target directory does not exist, it is created. If a target file has the same name as a source file, it is overwritten. Vaild values – 
1) Subtree - Creates the lowest-level source directory as a subdirectory of the target directory. Files from the source directory are stored in the new subdirectory. This is the default.

2) Complete - Restores the entire path, starting from the root, into the specified directory. The entire path includes all the directories except the file space name.

3) NOBase - Restores the contents of the source directory without the lowest level, or base directory, into the specified destination directory.

4) NONe - Restores all selected source files to the target directory. No part of the source path at or above the source directory is reproduced at the target.</description>
        <from>preservepath</from>
        <to>preservepath</to>
      </input>
      <input global="false" required="false">
        <description>The quiet option limits the number of messages that are displayed on your screen during processing. For example, when you run the incremental, selective, or archive commands, information might appear about each file that is backed up. Use the quiet option if you do not want to display this information.</description>
        <from>quite</from>
        <to>quite</to>
      </input>
      <input global="false" required="false">
        <description>The replace option specifies whether to overwrite existing files on your workstation, or to prompt you for your selection when you restore or retrieve files.
Valid values are –
Prompt
   For nonscheduled operations, you are asked whether to overwrite existing files. For scheduled operations, existing files are not overwritten and no prompts are displayed. This is the default.

All
   All existing files are overwritten, including read-only files. All locked files are replaced when the system is rebooted. If  access to a file is denied, you are prompted to skip or
   overwrite the file. No action is taken on the file until there is a response to the prompt.

Yes
   Existing files are overwritten, except read-only files. For nonscheduled operations, you are asked whether to overwrite existing read-only files. For scheduled operations, existing read-only files are not overwritten and no prompts are displayed. If access to a file is denied, the file is skipped.

No
   Existing files are not overwritten. No prompts will be displayed.

Note: Although user can provide any of the above values however since this adapter does not support prompt handling at the moment, it is advisable to provide either “yes” or “no” here as the value.</description>
        <from>replace</from>
        <to>replace</to>
      </input>
      <input global="false" required="false">
        <description>The skipntpermissions option bypasses processing of NTFS security information. Select this option for incremental backups, selective backups, archives, retrieves and restores. Valid values-yes,no(default)</description>
        <from>skipntpermissions</from>
        <to>skipntpermissions</to>
      </input>
      <input global="false" required="false">
        <description>The skipntsecuritycrc option controls the computation of the security cyclic redundancy check (CRC) for a comparison of NTFS security information during an incremental or selective backup, archive, restore, or retrieve operation. If you set the skipntsecuritycrc option to no (the default), performance might be slower because the program must retrieve all the security descriptors.  Valid values-yes,no(default)</description>
        <from>skipntsecuritycrc</from>
        <to>skipntsecuritycrc</to>
      </input>
      <output global="false" required="false">
        <to>items</to>
        <from>final items</from>
      </output>
    </parameters>
    <access />
    <sequence>
      <assign>
        <assignment>
          <output>
            <to>final items</to>
            <value>
              <root />
            </value>
          </output>
          <xslt-stylesheet>
            <stylesheet-replacement-tokens>
              <replacement-token name="subdir">
                <input global="false">
                  <from>subdir</from>
                </input>
              </replacement-token>
              <replacement-token name="timeout secs">
                <input global="false">
                  <from>timeout secs</from>
                </input>
              </replacement-token>
              <replacement-token name="backupsetname">
                <input global="false">
                  <from>backupsetname</from>
                </input>
              </replacement-token>
              <replacement-token name="location">
                <input global="false">
                  <from>location</from>
                </input>
              </replacement-token>
              <replacement-token name="dirsonly">
                <input global="false">
                  <from>dirsonly</from>
                </input>
              </replacement-token>
              <replacement-token name="filesonly">
                <input global="false">
                  <from>filesonly</from>
                </input>
              </replacement-token>
              <replacement-token name="ifnewer">
                <input global="false">
                  <from>ifnewer</from>
                </input>
              </replacement-token>
              <replacement-token name="preservepath">
                <input global="false">
                  <from>preservepath</from>
                </input>
              </replacement-token>
              <replacement-token name="quite">
                <input global="false">
                  <from>quite</from>
                </input>
              </replacement-token>
              <replacement-token name="replace">
                <input global="false">
                  <from>replace</from>
                </input>
              </replacement-token>
              <replacement-token name="skipntpermissions">
                <input global="false">
                  <from>skipntpermissions</from>
                </input>
              </replacement-token>
              <replacement-token name="skipntsecuritycrc">
                <input global="false">
                  <from>skipntsecuritycrc</from>
                </input>
              </replacement-token>
              <replacement-token name="subdir">
                <input global="false">
                  <from>subdir</from>
                </input>
              </replacement-token>
            </stylesheet-replacement-tokens>
            <stylesheet><![CDATA[<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
  <xsl:output indent="no" omit-xml-declaration="yes" />
  <xsl:template match="/">
    <items>
      <item>
        <operation-name>
          <xsl:text disable-output-escaping="no">restore-backupset</xsl:text>
        </operation-name>
        <xsl:if test="string('${timeout secs}')!=''">
          <timeout-secs>
            <xsl:value-of select="'${timeout secs}'" disable-output-escaping="no" />
          </timeout-secs>
        </xsl:if>
        <command-options>
          <xsl:if test="string('${subdir}')!=''">
            <subdir>
              <xsl:value-of select="'${subdir}'" disable-output-escaping="no" />
            </subdir>
          </xsl:if>
          <xsl:if test="string('${backupsetname}') != ''">
            <backupsetname>
              <xsl:value-of select="'${backupsetname}'" disable-output-escaping="no" />
            </backupsetname>
          </xsl:if>
          <xsl:if test="string('${location}') != ''">
            <location>
              <xsl:value-of select="'${location}'" disable-output-escaping="no" />
            </location>
          </xsl:if>
          <xsl:if test="string('${dirsonly}') = 'true'">
            <dirsonly />
          </xsl:if>
          <xsl:if test="string('${filesonly}') = 'true'">
            <filesonly />
          </xsl:if>
          <xsl:if test="string('${ifnewer}') = 'true'">
            <ifnewer />
          </xsl:if>
          <xsl:if test="string('${preservepath}') != ''">
            <preservepath>
              <xsl:value-of select="'${preservepath}'" disable-output-escaping="no" />
            </preservepath>
          </xsl:if>
          <xsl:if test="string('${quite}') != ''">
            <quite>
              <xsl:value-of select="'${quite}'" disable-output-escaping="no" />
            </quite>
          </xsl:if>
          <xsl:if test="string('${replace}') != ''">
            <replace>
              <xsl:value-of select="'${replace}'" disable-output-escaping="no" />
            </replace>
          </xsl:if>
          <xsl:if test="string('${skipntpermissions}') != ''">
            <skipntpermissions>
              <xsl:value-of select="'${skipntpermissions}'" disable-output-escaping="no" />
            </skipntpermissions>
          </xsl:if>
          <xsl:if test="string('${skipntsecuritycrc}') != ''">
            <skipntsecuritycrc>
              <xsl:value-of select="'${skipntsecuritycrc}'" disable-output-escaping="no" />
            </skipntsecuritycrc>
          </xsl:if>
        </command-options>
      </item>
    </items>
  </xsl:template>
</xsl:stylesheet>]]></stylesheet>
          </xslt-stylesheet>
        </assignment>
        <meta>
          <documentation />
          <checkpoint>false</checkpoint>
        </meta>
        <after-execution>
          <log>
            <level>debug</level>
            <parameters>
              <input>
                <value>FINAL ITEMS: </value>
              </input>
              <input>
                <from>final items</from>
              </input>
            </parameters>
          </log>
        </after-execution>
        <location>:assign[1]</location>
      </assign>
    </sequence>
    <meta>
      <expose-to>
        <consumer>RULE</consumer>
        <consumer>SCHEDULE</consumer>
      </expose-to>
      <documentation>
        <description>Utility to create items xml for Query Backup process.</description>
        <version></version>
      </documentation>
      <peer-location>
        <location>any</location>
      </peer-location>
      <record-metrics>false</record-metrics>
      <process-id>68ff04be-26d4-328b-9ea0-2ae6306ba715</process-id>
      <author />
      <category />
      <status />
      <keywords />
      <systems />
      <last-modified-by />
      <last-modified>1290596960551</last-modified>
    </meta>
  </process-def>
</process>