<process draft="false" dev-studio-version="7.6.01.02">
  <process-def name=":AO-AD-IBM_Tivoli_Storage_Manager:Adapter_Action_Input_Constructors:v5.5:Archive:Archive">
    <parameters>
      <input global="false" required="false">
        <description>Use the archmc option with the archive command to specify the available management class for your policy domain to which you want to bind your archived directories and files. If you do not use the archmc option, the server binds archived directories to the default management class. If the default management class has no archive copy group, the server binds archived directories to the management class with the shortest retention period.</description>
        <from>archmc</from>
        <to>archmc</to>
      </input>
      <input global="false" required="false">
        <description>The changingretries option specifies how many additional times you want the client to attempt to back up or archive a file that is in use. 
Valid values-number</description>
        <from>changingretries</from>
        <to>changingretries</to>
      </input>
      <input global="false" required="false">
        <description>The compressalways option specifies whether to continue compressing an object if it grows during compression. Valid values-Yes(Default),No.</description>
        <from>compressalways</from>
        <to>compressalways</to>
      </input>
      <input global="false" required="false">
        <description>The compression option compresses files before you send them to the server.Valid values - yes,no(default)</description>
        <from>compression</from>
        <to>compression</to>
      </input>
      <input global="false" required="false">
        <description>Use the deletefiles option with the archive command to delete files from your workstation after you archive them.
Valid values - true,false</description>
        <from>deletefiles</from>
        <to>deletefiles</to>
      </input>
      <input global="false" required="false">
        <description>The description option assigns or specifies a description for files when performing archive, delete archive, retrieve, query archive, or query backupset.</description>
        <from>description</from>
        <to>description</to>
      </input>
      <input global="false" required="false">
        <description>The dirsonly option processes directories only. The client does not process files.</description>
        <from>dirsonly</from>
        <to>dirsonly</to>
      </input>
      <input global="false" required="false">
        <description>The Tivoli Storage Manager client opens the file you specify with this option and processes the list of files within according to the specific command. With the exception of the restore and retrieve commands, when you use the filelist option, Tivoli Storage Manager ignores all other file specifications on the command line.
Note: The &lt;FILELIST&gt; option does not support the wildcard characters.</description>
        <from>filelist</from>
        <to>filelist</to>
      </input>
      <input global="false" required="false">
        <description>The filesonly option restricts archive, backup, restore, retrieve, or query processing to files only. You cannot restore or retrieve directories from the Tivoli Storage Manager server when using the filesonly option with the restore or retrieve commands. However,directories with default attributes are created, if required, as placeholders for files that you restore or retrieve.</description>
        <from>filesonly</from>
        <to>filesonly</to>
      </input>
      <input global="false" required="false">
        <description>Any application that touches a file can implicitly cause that file's last access date to change to the time that the application touches it. This is a function of the file system, not the application. Because of this, when the client backs up or archives a file, it can trigger an update to the file's last access date. This can cause problems for other applications such as Storage Resource Management (SRM), whose processing relies on accurate last access dates. Valid values-yes,no(Default)</description>
        <from>preservelastaccessdate</from>
        <to>preservelastaccessdate</to>
      </input>
      <input global="false" required="false">
        <description>The skipntpermissions option bypasses processing of NTFS security information. Select this option for incremental backups, selective backups, archives, retrieves and restores. Valid values-yes,no(default)</description>
        <from>skipntpermissions</from>
        <to>skipntpermissions</to>
      </input>
      <input global="false" required="false">
        <description>The skipntsecuritycrc option controls the computation of the security cyclic redundancy check (CRC) for a comparison of NTFS security information during an incremental or selective backup, archive, restore, or retrieve operation. If you set the skipntsecuritycrc option to no (the default), performance might be slower because the program must retrieve all the security descriptors.  Valid values-yes,no(default)</description>
        <from>skipntsecuritycrc</from>
        <to>skipntsecuritycrc</to>
      </input>
      <input global="false" required="false">
        <description>Use the snapshotroot option with the incremental, selective, or archive commands in conjunction with a third-party application that provides a snapshot of a logical volume, to associate the data on the local snapshot with the real file space data that is stored on the Tivoli Storage Manager server.</description>
        <from>snapshotroot</from>
        <to>snapshotroot</to>
      </input>
      <input global="false" required="false">
        <description>The subdir option specifies whether you want to include subdirectories of named directories for processing. Valid values-yes,no    
Note: SUBDIR is not a valid option when using FILELIST option.</description>
        <from>subdir</from>
        <to>subdir</to>
      </input>
      <input global="false" required="false">
        <description>Use the v2archive option with the archive command to archive only files to the server. Tivoli Storage Manager will not process directories that exist in the path of the source file specification.</description>
        <from>v2archive</from>
        <to>v2archive</to>
      </input>
      <input global="false" required="false">
        <description>Specifies path and name of the file you want to archive. You can use wildcards to specify groups of files or all the files in a directory. You can specify as many file specifications as available resources or other operating system limits permit. Separate file specifications with a space.

Please note that if all the sub-directories and files contained in a parent directory need to be included for archiving the parent directory path should end with a “\”. For eg. "E:\CATS\Projects\" instead of “E:\CATS\Projects”.</description>
        <from>filespec</from>
        <to>filespec</to>
      </input>
      <input global="false" required="false">
        <description>The timeout value is seconds. This is the time after which the command will timeout regardless of whether the command execution is complete or not.</description>
        <from>timeout secs</from>
        <to>timeout secs</to>
      </input>
      <output global="false" required="false">
        <to>items</to>
        <from>final items</from>
      </output>
    </parameters>
    <access />
    <sequence>
      <assign>
        <assignment>
          <output>
            <to>final items</to>
            <value>
              <root />
            </value>
          </output>
          <xslt-stylesheet>
            <stylesheet-replacement-tokens>
              <replacement-token name="archmc">
                <input global="false">
                  <from>archmc</from>
                </input>
              </replacement-token>
              <replacement-token name="changingretries">
                <input global="false">
                  <from>changingretries</from>
                </input>
              </replacement-token>
              <replacement-token name="compressalways">
                <input global="false">
                  <from>compressalways</from>
                </input>
              </replacement-token>
              <replacement-token name="compression">
                <input global="false">
                  <from>compression</from>
                </input>
              </replacement-token>
              <replacement-token name="deletefiles">
                <input global="false">
                  <from>deletefiles</from>
                </input>
              </replacement-token>
              <replacement-token name="description">
                <input global="false">
                  <from>description</from>
                </input>
              </replacement-token>
              <replacement-token name="dirsonly">
                <input global="false">
                  <from>dirsonly</from>
                </input>
              </replacement-token>
              <replacement-token name="filelist">
                <input global="false">
                  <from>filelist</from>
                </input>
              </replacement-token>
              <replacement-token name="filesonly">
                <input global="false">
                  <from>filesonly</from>
                </input>
              </replacement-token>
              <replacement-token name="filespec">
                <input global="false">
                  <from>filespec</from>
                </input>
              </replacement-token>
              <replacement-token name="preservelastaccessdate">
                <input global="false">
                  <from>preservelastaccessdate</from>
                </input>
              </replacement-token>
              <replacement-token name="skipntpermissions">
                <input global="false">
                  <from>skipntpermissions</from>
                </input>
              </replacement-token>
              <replacement-token name="skipntsecuritycrc">
                <input global="false">
                  <from>skipntsecuritycrc</from>
                </input>
              </replacement-token>
              <replacement-token name="snapshotroot">
                <input global="false">
                  <from>snapshotroot</from>
                </input>
              </replacement-token>
              <replacement-token name="subdir">
                <input global="false">
                  <from>subdir</from>
                </input>
              </replacement-token>
              <replacement-token name="timeout secs">
                <input global="false">
                  <from>timeout secs</from>
                </input>
              </replacement-token>
              <replacement-token name="v2archive">
                <input global="false">
                  <from>v2archive</from>
                </input>
              </replacement-token>
            </stylesheet-replacement-tokens>
            <stylesheet><![CDATA[<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
  <xsl:output indent="no" omit-xml-declaration="yes" />
  <xsl:template match="/">
    <items>
      <item>
        <operation-name>
          <xsl:text disable-output-escaping="no">archive</xsl:text>
        </operation-name>
        <xsl:if test="string('${timeout secs}')!=''">
          <timeout-secs>
            <xsl:value-of select="'${timeout secs}'" disable-output-escaping="no" />
          </timeout-secs>
        </xsl:if>
        <command-options>
          <xsl:if test="string('${archmc}') != ''">
            <archmc>
              <xsl:value-of select="'${archmc}'" disable-output-escaping="no" />
            </archmc>
          </xsl:if>
          <xsl:if test="string('${changingretries}')!=''">
            <changingretries>
              <xsl:value-of select="'${changingretries}'" disable-output-escaping="no" />
            </changingretries>
          </xsl:if>
          <xsl:if test="string('${compressalways}')!=''">
            <compressalways>
              <xsl:value-of select="'${compressalways}'" disable-output-escaping="no" />
            </compressalways>
          </xsl:if>
          <xsl:if test="string('${compression}')!=''">
            <compression>
              <xsl:value-of select="'${compression}'" disable-output-escaping="no" />
            </compression>
          </xsl:if>
          <xsl:if test="string('${deletefiles}')='true'">
            <deletefiles />
          </xsl:if>
          <xsl:if test="string('${description}')!=''">
            <description>
              <xsl:value-of select="'${description}'" disable-output-escaping="no" />
            </description>
          </xsl:if>
          <xsl:if test="string('${dirsonly}')='true'">
            <dirsonly />
          </xsl:if>
          <xsl:if test="string('${filelist}')!=''">
            <filelist>
              <xsl:value-of select="'${filelist}'" disable-output-escaping="no" />
            </filelist>
          </xsl:if>
          <xsl:if test="string('${filesonly}')='true'">
            <filesonly />
          </xsl:if>
          <xsl:if test="string('${preservelastaccessdate}')!=''">
            <preservelastaccessdate>
              <xsl:value-of select="'${preservelastaccessdate}'" disable-output-escaping="no" />
            </preservelastaccessdate>
          </xsl:if>
          <xsl:if test="string('${skipntpermissions}')!=''">
            <skipntpermissions>
              <xsl:value-of select="'${skipntpermissions}'" disable-output-escaping="no" />
            </skipntpermissions>
          </xsl:if>
          <xsl:if test="string('${skipntsecuritycrc}')!=''">
            <skipntsecuritycrc>
              <xsl:value-of select="'${skipntsecuritycrc}'" disable-output-escaping="no" />
            </skipntsecuritycrc>
          </xsl:if>
          <xsl:if test="string('${snapshotroot}')!=''">
            <snapshotroot>
              <xsl:value-of select="'${snapshotroot}'" disable-output-escaping="no" />
            </snapshotroot>
          </xsl:if>
          <xsl:if test="string('${subdir}')!=''">
            <subdir>
              <xsl:value-of select="'${subdir}'" disable-output-escaping="no" />
            </subdir>
          </xsl:if>
          <xsl:if test="string('${v2archive}')!=''">
            <v2archive>
              <xsl:value-of select="'${v2archive}'" disable-output-escaping="no" />
            </v2archive>
          </xsl:if>
        </command-options>
        <command-arguments>
          <xsl:if test="string('${filespec}')!=''">
            <filespec>
              <xsl:value-of select="'${filespec}'" disable-output-escaping="no" />
            </filespec>
          </xsl:if>
        </command-arguments>
      </item>
    </items>
  </xsl:template>
</xsl:stylesheet>]]></stylesheet>
          </xslt-stylesheet>
        </assignment>
        <meta>
          <documentation />
          <checkpoint>false</checkpoint>
        </meta>
        <after-execution>
          <log>
            <level>debug</level>
            <parameters>
              <input>
                <value>FINAL ITEMS: </value>
              </input>
              <input>
                <from>final items</from>
              </input>
            </parameters>
          </log>
        </after-execution>
        <location>:assign[1]</location>
      </assign>
    </sequence>
    <meta>
      <expose-to>
        <consumer>RULE</consumer>
        <consumer>SCHEDULE</consumer>
      </expose-to>
      <documentation>
        <description>Utility to create items xml for Archive process.</description>
        <version></version>
      </documentation>
      <peer-location>
        <location>any</location>
      </peer-location>
      <record-metrics>false</record-metrics>
      <process-id>95a44391-941b-3959-881c-2cc387767fe7</process-id>
      <author />
      <category />
      <status />
      <keywords />
      <systems />
      <last-modified-by />
      <last-modified>1290596955489</last-modified>
    </meta>
  </process-def>
</process>