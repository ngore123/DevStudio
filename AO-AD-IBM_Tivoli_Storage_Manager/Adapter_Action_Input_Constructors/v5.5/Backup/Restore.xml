<process draft="false" dev-studio-version="7.6.01.02">
  <process-def name=":AO-AD-IBM_Tivoli_Storage_Manager:Adapter_Action_Input_Constructors:v5.5:Backup:Restore">
    <parameters>
      <input global="false" required="false">
        <description>The dirsonly option processes directories only. The client does not process files.
Valid values-true,false.</description>
        <from>dirsonly</from>
        <to>dirsonly</to>
      </input>
      <input global="false" required="false">
        <description>The Tivoli Storage Manager client opens the file you specify with this option and processes the list of files within according to the specific command. With the exception of the restore and retrieve commands, when you use the filelist option, Tivoli Storage Manager ignores all other file specifications on the command line.
Note: The &lt;FILELIST&gt; option does not support the wildcard characters.
</description>
        <from>filelist</from>
        <to>filelist</to>
      </input>
      <input global="false" required="false">
        <description>The filesonly option restricts backup, restore, retrieve, or query processing to files only. You cannot restore or retrieve directories from the Tivoli Storage Manager server when using the filesonly option with the restore or retrieve commands. However, directories with default attributes are created, if required, as placeholders for files that you restore or retrieve.
Valid values-true,false.</description>
        <from>filesonly</from>
        <to>filesonly</to>
      </input>
      <input global="false" required="false">
        <description>The skipntpermissions option bypasses processing of NTFS security information. Select this option for incremental backups, selective backups, archives, retrieves and restores. Valid values are –
No
   If you specify No, the NTFS security information is backed up, restored, archived or retrieved. This is the default.

Yes
   If you specify Yes, the NTFS security information is not backed up, restored, archived or retrieved.</description>
        <from>skipntpermissions</from>
        <to>skipntpermissions</to>
      </input>
      <input global="false" required="false">
        <description>The skipntsecuritycrc option controls the computation of the security cyclic redundancy check (CRC) for a comparison of NTFS security information during an incremental or selective backup, archive, restore, or retrieve operation. If you set the
skipntsecuritycrc option to no (the default), performance might be slower because the program must retrieve all the security descriptors. Valid values are-
No
   If you specify No, the security CRC is generated during a backup. This is the default.

Yes
   If you specify Yes, the security CRC is not generated during a backup. All the permissions are backed up, but the program will not be able to determine if the permissions are changed during the next incremental backup. When the skipntpermissions option is set to yes, the skipntsecuritycrc option does not apply.</description>
        <from>skipntsecuritycrc</from>
        <to>skipntsecuritycrc</to>
      </input>
      <input global="false" required="false">
        <description>The subdir option specifies whether you want to include subdirectories of named directories for processing. Valid values-yes,no
Note: SUBDIR is not a valid option when using FILELIST option.
</description>
        <from>subdir</from>
        <to>subdir</to>
      </input>
      <input global="false" required="false">
        <description>The timeout value is seconds. This is the time after which the command will timeout regardless of whether the command execution is complete or not.</description>
        <from>timeout secs</from>
        <to>timeout secs</to>
      </input>
      <input global="false" required="false">
        <description>The dateformat option specifies the format you want to use to display dates. Valid values - MM/DD/YYYY, DD-MM-YYYY, DD.MM.YYYY, YYYY.MM.DD, YYYY-MM-DD</description>
        <from>dateformat</from>
        <to>dateformat</to>
      </input>
      <input global="false" required="false">
        <description>The timeformat option specifies the format in which you want to display system time. Valid values – 1) HH:MM:SS 2) HH,MM,SS 3)HH.MM.SS 4) hh:mm:ssAM/PM.  The formats 1,2 and 3 follow 0-23 hour format.</description>
        <from>timeformat</from>
        <to>timeformat</to>
      </input>
      <input global="false" required="false">
        <description>Use the fromdate option with the fromtime option to specify a date and time from which you want to search for backups or archives during a restore, retrieve, or query operation. Files that were backed up or archived before this date and time are not included, although older directories might be included, if necessary, to restore or retrieve the files.</description>
        <from>fromdate</from>
        <to>fromdate</to>
      </input>
      <input global="false" required="false">
        <description>Use the fromtime option with the fromdate option to specify a beginning time from which you want to search for backups or archives during a restore, retrieve, or query operation. Tivoli Storage Manager ignores this option if you do not specify the fromdate option.</description>
        <from>fromtime</from>
        <to>fromtime</to>
      </input>
      <input global="false" required="false">
        <description>Use the todate option with the totime option to specify an ending date and time to which you want to search for backups or archives during a restore, retrieve, or query operation. For example, you might request a list of files that were backed up before 11:59 PM on June 30, 2002.</description>
        <from>todate</from>
        <to>todate</to>
      </input>
      <input global="false" required="false">
        <description>Use the totime option with the todate option to specify an ending date and time to which you want to search for backups or archives during a restore, retrieve, or query operation. For example, you might request a list of files that were backed up before 11:59 PM on June 30, 2003. Tivoli Storage Manager ignores this option if you do not specify the todate option.</description>
        <from>totime</from>
        <to>totime</to>
      </input>
      <input global="false" required="false">
        <description>The ifnewer option replaces an existing file with the latest backup version only if the backup version is newer than the existing file.
Valid values-true,false.</description>
        <from>ifnewer</from>
        <to>ifnewer</to>
      </input>
      <input global="false" required="false">
        <description>The preservepath option specifies how much of the source path to reproduce as part of the target directory path when you restore or retrieve files to a new location. Use the -subdir=yes option to include the entire subtree of the source directory (directories
and files below the lowest-level source directory) as source to be restored. If a required target directory does not exist, it is created. If a target file has the same name as a source file, it is overwritten. Vaild values – 
1) Subtree - Creates the lowest-level source directory as a subdirectory of the target directory. Files from the source directory are stored in the new subdirectory. This is the default.

2) Complete - Restores the entire path, starting from the root, into the specified directory. The entire path includes all the directories except the file space name.

3) NOBase - Restores the contents of the source directory without the lowest level, or base directory, into the specified destination directory.

4) NONe - Restores all selected source files to the target directory. No part of the source path at or above the source directory is reproduced at the target.</description>
        <from>preservepath</from>
        <to>preservepath</to>
      </input>
      <input global="false" required="false">
        <description>The fromnode option permits one node to perform commands for another node. A user on another node must use the set access command to permit you to query, restore, or retrieve files or images for the other node.</description>
        <from>fromnode</from>
        <to>fromnode</to>
      </input>
      <input global="false" required="false">
        <description>The replace option specifies whether to overwrite existing files on your workstation, or to prompt you for your selection when you restore or retrieve files.
Valid values are –
Prompt
   For nonscheduled operations, you are asked whether to overwrite existing files. For scheduled operations, existing files are not overwritten and no prompts are displayed. This is the default.

All
   All existing files are overwritten, including read-only files. All locked files are replaced when the system is rebooted. If  access to a file is denied, you are prompted to skip or
   overwrite the file. No action is taken on the file until there is a response to the prompt.

Yes
   Existing files are overwritten, except read-only files. For nonscheduled operations, you are asked whether to overwrite existing read-only files. For scheduled operations, existing read-only files are not overwritten and no prompts are displayed. If access to a file is denied, the file is skipped.

No
   Existing files are not overwritten. No prompts will be displayed.

Note: Although user can provide any of the above values however since this adapter does not support prompt handling at the moment, it is advisable to provide either “yes” or “no” here as the value.</description>
        <from>replace</from>
        <to>replace</to>
      </input>
      <input global="false" required="false">
        <description>Specifies the path and file name in storage that you want to restore. Use wildcard characters to specify a group of files or all the files in a directory.</description>
        <from>source filespec</from>
        <to>source filespec</to>
      </input>
      <input global="false" required="false">
        <description>Specifies the path and file name where you want to place the restored files. If you do not specify a destination, Tivoli Storage Manager restores the files to the original source path.

 When entering the destinationfilespec, please consider the following:

 *  If the sourcefilespec names a single file, the destinationfilespec can be a file or a directory. If you are restoring a single file, you can optionally end the specification with a file name if you want to give the restored file a new name.
 *  If the sourcefilespec is wildcarded or subdir=yes is specified, the destinationfilespec must be a directory and end with a directory delimiter (\).

 Note: If the destination path or any part of it does not exist, Tivoli Storage Manager will create it.</description>
        <from>dest filespec</from>
        <to>dest filespec</to>
      </input>
      <input global="false" required="false">
        <description>Use the asrmode option with the restore, restore systemobject, and restore systemstate commands to specify whether to perform a restore operation in system ASR recovery mode. This option is used in the context of restore commands generated in the asr.sif file by the backup asr command only. This option should not be used outside the context of ASR recovery mode. Valid values – no(default), yes</description>
        <from>asrmode</from>
        <to>asrmode</to>
      </input>
      <input global="false" required="false">
        <description>Use the inactive option to display both active and inactive objects.
Valid values-true,false.</description>
        <from>inactive</from>
        <to>inactive</to>
      </input>
      <input global="false" required="false">
        <description>Use the latest option restore the most recent backup version of a file, even if the backup is inactive.
Valid values-true,false</description>
        <from>latest</from>
        <to>latest</to>
      </input>
      <input global="false" required="false">
        <description>Use the pitdate option with the pittime option to establish a point in time for which you want to display or restore the latest version of your backups. Files or images that were backed up on or before the date and time you specified, and which were not deleted before the date and time you specified, are processed. Backup versions that you create after this date and time are ignored.
Note: When pitdate is used, the latest and inactive options are implicit.</description>
        <from>pitdate</from>
        <to>pitdate</to>
      </input>
      <input global="false" required="false">
        <description>Use the pittime option with the pitdate option to establish a point in time for which you want to display or restore the latest version of your backups. Files or images that were backed up on or before the date and time you specify, and which were not deleted before the date and time you specify, are processed. Backup versions that you create after this date and time are ignored. This option is ignored if you do not specify pitdate option
Note: pitdate/pittime options can not be used with fromdate/fromtime options.
Note: The PITTIME option cannot be used without specifying the PITDATE option
</description>
        <from>pittime</from>
        <to>pittime</to>
      </input>
      <input global="false" required="false">
        <description>The numberformat option specifies the format you want to use to display numbers. Valid values – 
1. d,ddd.dd
2. d,ddd,dd
3. d ddd,dd
4. d ddd.dd
5. d.ddd,dd
6. d'ddd,dd</description>
        <from>numberformat</from>
        <to>numberformat</to>
      </input>
      <input global="false" required="false">
        <description>The followsymbolic option specifies whether you want to restore files to symbolic links or use a symbolic link as a virtual mount point.
Valid values:-
No
         Specifies that you do not want to restore to symbolic links, or to use symbolic links as virtual mount points. This is the default.

Yes
         Specifies that you want to restore to symbolic links, or to use a symbolic link as a virtual mount point.
This is valid only for UNIX.</description>
        <from>followsymbolic</from>
        <to>followsymbolic</to>
      </input>
      <output global="false" required="false">
        <to>items</to>
        <from>final items</from>
      </output>
    </parameters>
    <access />
    <sequence>
      <assign>
        <assignment>
          <output>
            <to>final items</to>
            <value>
              <root />
            </value>
          </output>
          <xslt-stylesheet>
            <stylesheet-replacement-tokens>
              <replacement-token name="dirsonly">
                <input global="false">
                  <from>dirsonly</from>
                </input>
              </replacement-token>
              <replacement-token name="filelist">
                <input global="false">
                  <from>filelist</from>
                </input>
              </replacement-token>
              <replacement-token name="filesonly">
                <input global="false">
                  <from>filesonly</from>
                </input>
              </replacement-token>
              <replacement-token name="skipntpermissions">
                <input global="false">
                  <from>skipntpermissions</from>
                </input>
              </replacement-token>
              <replacement-token name="skipntsecuritycrc">
                <input global="false">
                  <from>skipntsecuritycrc</from>
                </input>
              </replacement-token>
              <replacement-token name="subdir">
                <input global="false">
                  <from>subdir</from>
                </input>
              </replacement-token>
              <replacement-token name="timeout secs">
                <input global="false">
                  <from>timeout secs</from>
                </input>
              </replacement-token>
              <replacement-token name="dateformat">
                <input global="false">
                  <from>dateformat</from>
                </input>
              </replacement-token>
              <replacement-token name="timeformat">
                <input global="false">
                  <from>timeformat</from>
                </input>
              </replacement-token>
              <replacement-token name="fromdate">
                <input global="false">
                  <from>fromdate</from>
                </input>
              </replacement-token>
              <replacement-token name="fromtime">
                <input global="false">
                  <from>fromtime</from>
                </input>
              </replacement-token>
              <replacement-token name="todate">
                <input global="false">
                  <from>todate</from>
                </input>
              </replacement-token>
              <replacement-token name="totime">
                <input global="false">
                  <from>totime</from>
                </input>
              </replacement-token>
              <replacement-token name="preservepath">
                <input global="false">
                  <from>preservepath</from>
                </input>
              </replacement-token>
              <replacement-token name="ifnewer">
                <input global="false">
                  <from>ifnewer</from>
                </input>
              </replacement-token>
              <replacement-token name="fromnode">
                <input global="false">
                  <from>fromnode</from>
                </input>
              </replacement-token>
              <replacement-token name="replace">
                <input global="false">
                  <from>replace</from>
                </input>
              </replacement-token>
              <replacement-token name="asrmode">
                <input global="false">
                  <from>asrmode</from>
                </input>
              </replacement-token>
              <replacement-token name="source filespec">
                <input global="false">
                  <from>source filespec</from>
                </input>
              </replacement-token>
              <replacement-token name="dest filespec">
                <input global="false">
                  <from>dest filespec</from>
                </input>
              </replacement-token>
              <replacement-token name="latest">
                <input global="false">
                  <from>latest</from>
                </input>
              </replacement-token>
              <replacement-token name="numberformat">
                <input global="false">
                  <from>numberformat</from>
                </input>
              </replacement-token>
              <replacement-token name="pitdate">
                <input global="false">
                  <from>pitdate</from>
                </input>
              </replacement-token>
              <replacement-token name="pittime">
                <input global="false">
                  <from>pittime</from>
                </input>
              </replacement-token>
              <replacement-token name="followsymbolic">
                <input global="false">
                  <from>followsymbolic</from>
                </input>
              </replacement-token>
              <replacement-token name="inactive">
                <input global="false">
                  <from>inactive</from>
                </input>
              </replacement-token>
            </stylesheet-replacement-tokens>
            <stylesheet><![CDATA[<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
  <xsl:output indent="no" omit-xml-declaration="yes" />
  <xsl:template match="/">
    <items>
      <item>
        <operation-name>
          <xsl:text disable-output-escaping="no">restore</xsl:text>
        </operation-name>
        <xsl:if test="string('${timeout secs}')!=''">
          <timeout-secs>
            <xsl:value-of select="'${timeout secs}'" disable-output-escaping="no" />
          </timeout-secs>
        </xsl:if>
        <command-options>
          <xsl:if test="string('${dirsonly}')='true'">
            <dirsonly />
          </xsl:if>
          <xsl:if test="string('${filelist}')!=''">
            <filelist>
              <xsl:value-of select="'${filelist}'" disable-output-escaping="no" />
            </filelist>
          </xsl:if>
          <xsl:if test="string('${filesonly}')='true'">
            <filesonly />
          </xsl:if>
          <xsl:if test="string('${skipntpermissions}')!=''">
            <skipntpermissions>
              <xsl:value-of select="'${skipntpermissions}'" disable-output-escaping="no" />
            </skipntpermissions>
          </xsl:if>
          <xsl:if test="string('${skipntsecuritycrc}')!=''">
            <skipntsecuritycrc>
              <xsl:value-of select="'${skipntsecuritycrc}'" disable-output-escaping="no" />
            </skipntsecuritycrc>
          </xsl:if>
          <xsl:if test="string('${subdir}')!=''">
            <subdir>
              <xsl:value-of select="'${subdir}'" disable-output-escaping="no" />
            </subdir>
          </xsl:if>
          <xsl:if test="string('${dateformat}')!=''">
            <dateformat>
              <xsl:value-of select="'${dateformat}'" disable-output-escaping="no" />
            </dateformat>
          </xsl:if>
          <xsl:if test="string('${timeformat}')!=''">
            <timeformat>
              <xsl:value-of select="'${timeformat}'" disable-output-escaping="no" />
            </timeformat>
          </xsl:if>
          <xsl:if test="string('${fromdate}')!=''">
            <fromdate>
              <xsl:value-of select="'${fromdate}'" disable-output-escaping="no" />
            </fromdate>
          </xsl:if>
          <xsl:if test="string('${fromtime}')!=''">
            <fromtime>
              <xsl:value-of select="'${fromtime}'" disable-output-escaping="no" />
            </fromtime>
          </xsl:if>
          <xsl:if test="string('${todate}')!=''">
            <todate>
              <xsl:value-of select="'${todate}'" disable-output-escaping="no" />
            </todate>
          </xsl:if>
          <xsl:if test="string('${totime}')!=''">
            <totime>
              <xsl:value-of select="'${totime}'" disable-output-escaping="no" />
            </totime>
          </xsl:if>
          <xsl:if test="string('${preservepath}')!=''">
            <preservepath>
              <xsl:value-of select="'${preservepath}'" disable-output-escaping="no" />
            </preservepath>
          </xsl:if>
          <xsl:if test="string('${ifnewer}')='true'">
            <ifnewer />
          </xsl:if>
          <xsl:if test="string('${fromnode}')!=''">
            <fromnode>
              <xsl:value-of select="'${fromnode}'" disable-output-escaping="no" />
            </fromnode>
          </xsl:if>
          <xsl:if test="string('${replace}')!=''">
            <replace>
              <xsl:value-of select="'${replace}'" disable-output-escaping="no" />
            </replace>
          </xsl:if>
          <xsl:if test="string('${asrmode}')!=''">
            <asrmode>
              <xsl:value-of select="'${asrmode}'" disable-output-escaping="no" />
            </asrmode>
          </xsl:if>
          <xsl:if test="string('${latest}')='true'">
            <latest />
          </xsl:if>
          <xsl:if test="string('${numberformat}')!=''">
            <numberformat>
              <xsl:value-of select="'${numberformat}'" disable-output-escaping="no" />
            </numberformat>
          </xsl:if>
          <xsl:if test="string('${followsymbolic}')!=''">
            <followsymbolic>
              <xsl:value-of select="'${followsymbolic}'" disable-output-escaping="no" />
            </followsymbolic>
          </xsl:if>
          <xsl:if test="string('${pitdate}')!=''">
            <pitdate>
              <xsl:value-of select="'${pitdate}'" disable-output-escaping="no" />
            </pitdate>
          </xsl:if>
          <xsl:if test="string('${pittime}')!=''">
            <pittime>
              <xsl:value-of select="'${pittime}'" disable-output-escaping="no" />
            </pittime>
          </xsl:if>
          <xsl:if test="string('${inactive}')='true'">
            <inactive />
          </xsl:if>
        </command-options>
        <command-arguments>
          <xsl:if test="string('${source filespec}')!=''">
            <source-filespec>
              <xsl:value-of select="'${source filespec}'" disable-output-escaping="no" />
            </source-filespec>
          </xsl:if>
          <xsl:if test="string('${dest filespec}')!=''">
            <dest-filespec>
              <xsl:value-of select="'${dest filespec}'" disable-output-escaping="no" />
            </dest-filespec>
          </xsl:if>
        </command-arguments>
      </item>
    </items>
  </xsl:template>
</xsl:stylesheet>]]></stylesheet>
          </xslt-stylesheet>
        </assignment>
        <meta>
          <documentation />
          <checkpoint>false</checkpoint>
        </meta>
        <after-execution>
          <log>
            <level>debug</level>
            <parameters>
              <input>
                <value>FINAL ITEMS: </value>
              </input>
              <input>
                <from>final items</from>
              </input>
            </parameters>
          </log>
        </after-execution>
        <location>:assign[1]</location>
      </assign>
    </sequence>
    <meta>
      <expose-to>
        <consumer>RULE</consumer>
        <consumer>SCHEDULE</consumer>
      </expose-to>
      <documentation>
        <description>Utility to create items xml for Restore process.</description>
        <version></version>
      </documentation>
      <peer-location>
        <location>any</location>
      </peer-location>
      <record-metrics>false</record-metrics>
      <process-id>5bcc540a-8fea-35f2-833c-0faae37e096e</process-id>
      <author />
      <category />
      <status />
      <keywords />
      <systems />
      <last-modified-by />
      <last-modified>1290596959859</last-modified>
    </meta>
  </process-def>
</process>