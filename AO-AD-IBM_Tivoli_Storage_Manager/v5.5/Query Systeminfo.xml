<process draft="false" dev-studio-version="7.6.01.02">
  <process-def name=":AO-AD-IBM_Tivoli_Storage_Manager:v5.5:Query Systeminfo">
    <parameters>
      <input global="false" required="false">
        <description>adapter name [Optional]
The name of the adapter that is enabled on the Peer.
The default adapter name is IBMTSMActor</description>
        <from>adapter name</from>
        <to>adapter name</to>
      </input>
      <input global="false" required="true">
        <description>Use the filename option with the query systeminfo command to specify a file name in which to store information gathered from one or more items.
NOTE:  The tags ‘filename’ and ‘console’ can not be provided together. If provided, ‘console’ takes precedence over the ‘filename’.

Details of items:
For Windows:

*  DSMOPTFILE - The contents of dsm.opt file.
*  ENV - Environment variables.
*  ERRORLOG - The Tivoli Storage Manager error log file.
*  FILE - Attributes for the file name that you specify.
*  FILESNOTTOBACKUP - Enumeration of Windows Registry key:
   HKEY_LOCAL_MACHINE\
      SYSTEM\
         CurrentControlSet\
            BackupRestore\
               FilesNotToBackup

   This key specifies those files that backup products should not back up. The query inclexcl command will indicate that these files are excluded per the operating system.
*  INCLEXCL - Compiles a list of include-exclude in the order in which they are processed during backup and archive operations.
*  KEYSNOTTORESTORE - Enumeration of Windows Registry key:
   HKEY_LOCAL_MACHINE\
      SYSTEM\
         ControlSet001\
            BackupRestore\
               KeysNotToRestore

   This key specifies those Windows Registry keys that backup products should not restore.
*  MSINFO - Windows system information (output from MSINFO32.EXE).
*  OPTIONS - Compiled options.
*  OSINFO - Name and version of the client operating system
*  POLICY - Policy set dump.
*  REGISTRY - Windows Tivoli Storage Manager-related Windows Registry entries.
*  SCHEDLOG - The contents of the Tivoli Storage Manager schedule log (usually dsmsched.log).
*  SFP - The list of files protected by Windows System File Protection, and for each file, indicates whether that file exists. These files are backed up as part of the SYSFILES
   system object.
*  SFP=&lt;filename&gt; - Indicates whether the specified file (filename) is protected by Windows System File Protection. For example:
   SFP=C:\WINNT\SYSTEM32\MSVCRT.DLL

*  SYSTEMOBJECT - Windows system object information.
*  CLUSTER - Windows cluster information.
*  ENCRYPT - Available encryption methods.

For Unix:

*  DB2UDB -DATABase=dbconfigname - Verifies that the Configuration Wizard successfully transferred the DB2 UDB, Tivoli Storage Manager, and storage subsystem settings to the master backup node. Replace dbconfigname with the DB2 UDB configuration name provided in the Configuration Wizard. Note that this item is         only valid for AIX when both the DB2 Integration Module and Hardware Devices Snapshot Integration Module are installed.
      *  DSMOPTFILE - The contents of dsm.opt file.
      *  DSMSYSFILE - The contents of the dsm.sys file.
      *  ENV - Environment variables.
      *  ERRORLOG - The Tivoli Storage Manager error log file.
      *  FILE - Attributes for the file name that you specify.
      *  INCLEXCL - Compiles a list of include-exclude in the order in which they are processed during backup and archive operations.
      *  OPTIONS - Compiled options.
      *  OSINFO - Name and version of the client operating system (includes ULIMIT information for UNIX).
      *  POLICY - Policy set dump.
      *  SCHEDLOG - The contents of the Tivoli Storage Manager schedule log (usually dsmsched.log).
      *  CLUSTER - AIX cluster information.
      *  ENCRYPT - Available encryption methods.

Sample Request XML:

&lt;items&gt;
  &lt;item&gt;
  &lt;operation-name&gt;query-systeminfo&lt;/operation-name&gt;
  &lt;timeout-secs&gt;120&lt;/timeout-secs&gt;
&lt;command-options&gt;
      &lt;console /&gt;
    &lt;/command-options&gt;
    &lt;command-arguments&gt;
      &lt;item-list&gt;options policy&lt;/item-list&gt;
    &lt;/command-arguments&gt;
  &lt;/item&gt;
&lt;/items&gt;

Parameters Description:

Command Arguments Description
	
item-list[Optional]
	Specifies one or more items from which you want to gather information and output the information to the file name that you specify with the filename option or to the console.

Command Options Description

console[Optional].
	Use the console option with the query systeminfo command to output information gathered from one or more of the items to the console.

filename[Optional]
	Use the filename option with the query systeminfo command to specify a file name in which to store information gathered from one or more items.
NOTE:  The tags ‘filename’ and ‘console’ can not be provided together. If provided, ‘console’ takes precedence over the ‘filename’.

Details of items:
For Windows:

*  DSMOPTFILE - The contents of dsm.opt file.
*  ENV - Environment variables.
*  ERRORLOG - The Tivoli Storage Manager error log file.
*  FILE - Attributes for the file name that you specify.
*  FILESNOTTOBACKUP - Enumeration of Windows Registry key:
   HKEY_LOCAL_MACHINE\
      SYSTEM\
         CurrentControlSet\
            BackupRestore\
               FilesNotToBackup

   This key specifies those files that backup products should not back up. The query inclexcl command will indicate that these files are excluded per the operating system.
*  INCLEXCL - Compiles a list of include-exclude in the order in which they are processed during backup and archive operations.
*  KEYSNOTTORESTORE - Enumeration of Windows Registry key:
   HKEY_LOCAL_MACHINE\
      SYSTEM\
         ControlSet001\
            BackupRestore\
               KeysNotToRestore

   This key specifies those Windows Registry keys that backup products should not restore.
*  MSINFO - Windows system information (output from MSINFO32.EXE).
*  OPTIONS - Compiled options.
*  OSINFO - Name and version of the client operating system
*  POLICY - Policy set dump.
*  REGISTRY - Windows Tivoli Storage Manager-related Windows Registry entries.
*  SCHEDLOG - The contents of the Tivoli Storage Manager schedule log (usually dsmsched.log).
*  SFP - The list of files protected by Windows System File Protection, and for each file, indicates whether that file exists. These files are backed up as part of the SYSFILES
   system object.
*  SFP=&lt;filename&gt; - Indicates whether the specified file (filename) is protected by Windows System File Protection. For example:
   SFP=C:\WINNT\SYSTEM32\MSVCRT.DLL

*  SYSTEMOBJECT - Windows system object information.
*  CLUSTER - Windows cluster information.
*  ENCRYPT - Available encryption methods.

For Unix:

*  DB2UDB -DATABase=dbconfigname - Verifies that the Configuration Wizard successfully transferred the DB2 UDB, Tivoli Storage Manager, and storage subsystem settings to the master backup node. Replace dbconfigname with the DB2 UDB configuration name provided in the Configuration Wizard. Note that this item is         only valid for AIX when both the DB2 Integration Module and Hardware Devices Snapshot Integration Module are installed.
      *  DSMOPTFILE - The contents of dsm.opt file.
      *  DSMSYSFILE - The contents of the dsm.sys file.
      *  ENV - Environment variables.
      *  ERRORLOG - The Tivoli Storage Manager error log file.
      *  FILE - Attributes for the file name that you specify.
      *  INCLEXCL - Compiles a list of include-exclude in the order in which they are processed during backup and archive operations.
      *  OPTIONS - Compiled options.
      *  OSINFO - Name and version of the client operating system (includes ULIMIT information for UNIX).
      *  POLICY - Policy set dump.
      *  SCHEDLOG - The contents of the Tivoli Storage Manager schedule log (usually dsmsched.log).
      *  CLUSTER - AIX cluster information.
      *  ENCRYPT - Available encryption methods.</description>
        <from>items</from>
        <to>items</to>
      </input>
      <output global="false" required="false">
        <to>adapter response</to>
        <from>adapter response</from>
      </output>
    </parameters>
    <access />
    <sequence>
      <call-process>
        <process-name>:AO-AD-IBM_Tivoli_Storage_Manager:Utilities:Execute Request</process-name>
        <parameters>
          <input>
            <from>adapter name</from>
            <to>adapter name</to>
          </input>
          <input>
            <from>items</from>
            <to>items</to>
          </input>
          <input>
            <value>query-systeminfo</value>
            <to>valid operation name</to>
          </input>
          <output>
            <from>adapter response</from>
            <to>adapter response</to>
          </output>
        </parameters>
        <meta>
          <documentation />
          <run-mode-handling>
            <run-mode>OCP</run-mode>
            <allow-step-into>false</allow-step-into>
          </run-mode-handling>
          <checkpoint>false</checkpoint>
        </meta>
        <location>:call-process[1]</location>
      </call-process>
    </sequence>
    <meta>
      <expose-to>
        <consumer>RULE</consumer>
        <consumer>SCHEDULE</consumer>
      </expose-to>
      <documentation>
        <description>This wrapper is used to gather information on one or more of the following items and output this information to a file or the console:

For Windows:

*  DSMOPTFILE - The contents of dsm.opt file.
*  ENV - Environment variables.
*  ERRORLOG - The Tivoli Storage Manager error log file.
*  FILE - Attributes for the file name that you specify.
*  FILESNOTTOBACKUP - Enumeration of Windows Registry key:
   HKEY_LOCAL_MACHINE\
      SYSTEM\
         CurrentControlSet\
            BackupRestore\
               FilesNotToBackup

   This key specifies those files that backup products should not back up. The query inclexcl command will indicate that these files are excluded per the operating system.
*  INCLEXCL - Compiles a list of include-exclude in the order in which they are processed during backup and archive operations.
*  KEYSNOTTORESTORE - Enumeration of Windows Registry key:
   HKEY_LOCAL_MACHINE\
      SYSTEM\
         ControlSet001\
            BackupRestore\
               KeysNotToRestore

   This key specifies those Windows Registry keys that backup products should not restore.
*  MSINFO - Windows system information (output from MSINFO32.EXE).
*  OPTIONS - Compiled options.
*  OSINFO - Name and version of the client operating system
*  POLICY - Policy set dump.
*  REGISTRY - Windows Tivoli Storage Manager-related Windows Registry entries.
*  SCHEDLOG - The contents of the Tivoli Storage Manager schedule log (usually dsmsched.log).
*  SFP - The list of files protected by Windows System File Protection, and for each file, indicates whether that file exists. These files are backed up as part of the SYSFILES
   system object.
*  SFP=&lt;filename&gt; - Indicates whether the specified file (filename) is protected by Windows System File Protection. For example:
   SFP=C:\WINNT\SYSTEM32\MSVCRT.DLL

*  SYSTEMOBJECT - Windows system object information.
*  CLUSTER - Windows cluster information.
*  ENCRYPT - Available encryption methods.

For Unix:

*  DB2UDB -DATABase=dbconfigname - Verifies that the Configuration Wizard successfully transferred the DB2 UDB, Tivoli Storage Manager, and storage subsystem settings to the master backup node. Replace dbconfigname with the DB2 UDB configuration name provided in the Configuration Wizard. Note that this item is         only valid for AIX when both the DB2 Integration Module and Hardware Devices Snapshot Integration Module are installed.
      *  DSMOPTFILE - The contents of dsm.opt file.
      *  DSMSYSFILE - The contents of the dsm.sys file.
      *  ENV - Environment variables.
      *  ERRORLOG - The Tivoli Storage Manager error log file.
      *  FILE - Attributes for the file name that you specify.
      *  INCLEXCL - Compiles a list of include-exclude in the order in which they are processed during backup and archive operations.
      *  OPTIONS - Compiled options.
      *  OSINFO - Name and version of the client operating system (includes ULIMIT information for UNIX).
      *  POLICY - Policy set dump.
      *  SCHEDLOG - The contents of the Tivoli Storage Manager schedule log (usually dsmsched.log).
      *  CLUSTER - AIX cluster information.
      *  ENCRYPT - Available encryption methods.</description>
        <version></version>
      </documentation>
      <peer-location>
        <location>any</location>
      </peer-location>
      <record-metrics>false</record-metrics>
      <process-id>20f411f2-d147-3dd1-9318-d12cf1b54fe0</process-id>
      <author />
      <category />
      <status />
      <keywords />
      <systems />
      <last-modified-by />
      <last-modified>1290597039489</last-modified>
    </meta>
  </process-def>
</process>