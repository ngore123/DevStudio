<process draft="false" dev-studio-version="7.6.01.02">
  <process-def name=":AO-AD-IBM_Tivoli_Storage_Manager:v5.5:Schedule:Find Missed Schedule Jobs">
    <parameters>
      <input global="false" required="false">
        <description>adapter name [Optional]
The name of the adapter that is enabled on the Peer.
The default adapter name is IBMTSMActor</description>
        <from>adapter name</from>
        <to>adapter name</to>
      </input>
      <input global="false" required="true">
        <description>
FIND MISSED SCHEDULE JOBS:

This wrapper lists all missed scheduled events. Events must be associated to some node(s) otherwise they won't be listed after execution of wrapper. The time and date parameters allow you to limit the query to events that were scheduled to occur within the specified times and dates. It's nothing other than filter. Limiting the output to events whose scheduled start times fall within a date and time range also minimizes the time it takes to process this query.

Sample Item Xml: 

&lt;items&gt;
	&lt;item&gt;
		&lt;operation-name&gt;find-job-schedule-status&lt;/operation-name&gt;
		&lt;timeout-secs&gt;30&lt;/timeout-secs&gt;
		&lt;command-options&gt;
			&lt;domain-name&gt;standard&lt;/domain-name&gt;
			&lt;schedule-name&gt;schedule00003&lt;/schedule-name&gt;
			&lt;type&gt;client&lt;/type&gt;
			&lt;nodes-name&gt;shyam,vikasm&lt;/nodes-name&gt;
			&lt;begin-date&gt;01/01/2008&lt;/begin-date&gt;
			&lt;begin-time&gt;01:01:01&lt;/begin-time&gt;
			&lt;end-date&gt;01/01/2010&lt;/end-date&gt;
			&lt;end-time&gt;01:01:01&lt;/end-time&gt;
			&lt;exceptions-only&gt;no&lt;/exceptions-only&gt;
			&lt;format&gt;detailed&lt;/format&gt;
		&lt;/command-options&gt;
	&lt;/item&gt;
&lt;/items&gt;

Elements' Description:

operation-name [Required]: the operation name.
Valid values: find-job-schedule-status.

timeout-secs [optional]: the time out second. the unit of this parameter is "second". 
Valid value: any integer greater than 0;
Default value: 60.

command-options [Required]: within this element we provide the informations (elements) such as &lt;domain-name&gt;, &lt;schedule-name&gt;, &lt;options&gt; etc.

domain-name [Required]: Specifies the name of the policy domain to which the schedules belong. 

Valid values: The domain-name of targeted schedule whose status is to be found, wildcard character "*".

schedule-name [Required]: Specifies the name of the schedule for which events are displayed. 

Valid values: The schedule-name of targeted schedule whose status is to be found, wildcard character "*".


type [optional]: Specifies that the query displays events for client schedules.

Valid values: Client.
Default value: Client.
 
nodes-name [Optional]: Specifies the name of the client node that belongs to the specified policy domain for which events are displayed. You can specify multiple client nodes by separating the names with commas and no intervening spaces. If you do not specify a client name, events display for all clients that match the domain name and the schedule name. 

Valid values: Any node-name associated with the targeted schedule, wildcard character "*".
Default value: All nodes will be considered.

begin-date [Optional]: Specifies the beginning date of the time range for events to be displayed. All events scheduled to start during this time are displayed.

Valid values: 

MM/DD/YYYY -&gt; e.g. 01/01/2001
TODAY -&gt; today's date
TODAY + days (or simply, '+days')-&gt; Date of 'days' number of days later today's date. 0 &lt;= days &lt;= 9999.
TODAY - days (or simply, '-days')-&gt; Date of 'days' number of days before today's date. 0 &lt;= days &lt;= 9999.

Default value: TODAY.
 
begin-time [Optional] : Specifies the beginning time of the range for events to be displayed. All events scheduled to start during this time are displayed.

Valid values:
	HH:MM:SS -&gt; e.g. 01:01:01
    NOW -&gt; current time.
	NOW+HH (or simply, '+HH') -&gt; The time HH hours later to current time.
	NOW-HH (or simply, '-HH') -&gt; The time HH hours before the current time.
    NOW+HH:MM (or simply, '+HH:MM') -&gt; The time HH hours &amp; MM minutes later to current time.
	NOW-HH:MM (or simply, '-HH:MM') -&gt; The time HH hours &amp; MM minutes before the current time.

Default value: 00:00:00.

end-date [Optional]: Specifies the ending date of the time range for events to be displayed. All events that were schedule to start during this time are displayed.

Valid values: 

MM/DD/YYYY -&gt; e.g. 01/01/2001
TODAY -&gt; today's date
TODAY + days (or simply, '+days')-&gt; Date of 'days' number of days later today's date. 0 &lt;= days &lt;= 9999.
TODAY - days (or simply, '-days')-&gt; Date of 'days' number of days before today's date. 0 &lt;= days &lt;= 9999.

Default value: equal to value of begin-date.


end-time [Optional]: Specifies the ending time of the range for events to be displayed. All events that were scheduled to start during this time are displayed.

Valid values:
	HH:MM:SS -&gt; e.g. 01:01:01
    NOW -&gt; current time.
	NOW+HH (or simply, '+HH') -&gt; The time HH hours later to current time.
	NOW-HH (or simply, '-HH') -&gt; The time HH hours before the current time.
    NOW+HH:MM (or simply, '+HH:MM') -&gt; The time HH hours &amp; MM minutes later to current time.
	NOW-HH:MM (or simply, '-HH:MM') -&gt; The time HH hours &amp; MM minutes before the current time.

Default value: 23:59:59

exceptions-only [Optional]: Specifies the type of information you want on scheduled or completed events. 

Valid values: No, Yes.

No: Specifies that the information on past and projected events is displayed. 
Yes: Specifies that the events that failed or did not process as scheduled are displayed. 

Default value: No.

format [Optional]: Specifies how information displays. 

Valid values: Standard, Detailed.

Standard: Specifies that partial information for events displays. 
Detailed: Specifies that complete information for events displays. 

Default value: Standard.

</description>
        <from>items</from>
        <to>items</to>
      </input>
      <output global="false" required="false">
        <to>adapter response</to>
        <from>adapter response</from>
      </output>
    </parameters>
    <access />
    <sequence>
      <assign>
        <assignment>
          <document>
            <input>
              <from>items</from>
            </input>
          </document>
          <result>
            <output>
              <to>items</to>
            </output>
          </result>
          <xslt-stylesheet>
            <stylesheet-replacement-tokens />
            <stylesheet><![CDATA[<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
  <xsl:output indent="no" />
  <xsl:template match="/">
    <items>
      <xsl:for-each select="//item">
        <item>
          <xsl:copy-of select="operation-name" />
          <xsl:copy-of select="timeout-secs" />
          <command-options>
            <status>
              <xsl:text disable-output-escaping="no">Missed</xsl:text>
            </status>
            <xsl:copy-of select="//command-options/*" />
          </command-options>
        </item>
      </xsl:for-each>
    </items>
  </xsl:template>
</xsl:stylesheet>]]></stylesheet>
          </xslt-stylesheet>
        </assignment>
        <meta>
          <documentation />
          <checkpoint>false</checkpoint>
        </meta>
        <location>:assign[1]</location>
      </assign>
      <call-process>
        <process-name>:AO-AD-IBM_Tivoli_Storage_Manager:v5.5:Schedule:Find Job Schedule Status</process-name>
        <parameters>
          <input>
            <from>adapter name</from>
            <to>adapter name</to>
          </input>
          <input>
            <from>items</from>
            <to>items</to>
          </input>
          <output>
            <from>adapter response</from>
            <to>adapter response</to>
          </output>
        </parameters>
        <meta>
          <documentation />
          <run-mode-handling>
            <run-mode>OCP</run-mode>
            <allow-step-into>false</allow-step-into>
          </run-mode-handling>
          <checkpoint>false</checkpoint>
        </meta>
        <after-execution>
          <console-output>
            <type>INFO</type>
            <summary>
              <concat>
                <input>
                  <value></value>
                </input>
              </concat>
            </summary>
            <detail>
              <concat>
                <input>
                  <value></value>
                </input>
              </concat>
            </detail>
          </console-output>
        </after-execution>
        <location>:call-process[1]</location>
      </call-process>
    </sequence>
    <meta>
      <expose-to>
        <consumer>RULE</consumer>
        <consumer>SCHEDULE</consumer>
      </expose-to>
      <documentation>
        <description>This wrapper lists all missed scheduled events. Events must be associated to some node(s) otherwise they won't be listed after execution of wrapper. The time and date parameters allow you to limit the query to events that were scheduled to occur within the specified times and dates. It's nothing other than filter. Limiting the output to events whose scheduled start times fall within a date and time range also minimizes the time it takes to process this query.</description>
        <version></version>
      </documentation>
      <peer-location>
        <location>any</location>
      </peer-location>
      <record-metrics>false</record-metrics>
      <process-id>d285c629-a9d4-3b5c-ae0f-2c208658e0f8</process-id>
      <author />
      <category />
      <status />
      <keywords />
      <systems />
      <last-modified-by />
      <last-modified>1290597042665</last-modified>
    </meta>
  </process-def>
</process>