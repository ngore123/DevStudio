<process draft="false" dev-studio-version="7.6.01.02">
  <process-def name=":AO-AD-IBM_Tivoli_Storage_Manager:v5.5:VM:Query VM">
    <parameters>
      <input global="false" required="false">
        <description>adapter name [Optional]
The name of the adapter that is enabled on the Peer.
The default adapter name is IBMTSMActor</description>
        <from>adapter name</from>
        <to>adapter name</to>
      </input>
      <input global="false" required="true">
        <description>The query VM command can be used to verify the successful backups of the virtual machines from the backup proxy machine.

Sample Request XML:

&lt;items&gt;
  &lt;item&gt;
  &lt;operation-name&gt;query-vm&lt;/operation-name&gt;
  &lt;timeout-secs&gt;30&lt;/timeout-secs&gt;
  &lt;command-options&gt;
      &lt;vmchost&gt;brahma.bmccat.com&lt;/vmchost&gt;
      &lt;vmcpw&gt;abcdef&lt;/vmcpw&gt;
     &lt;vmcuser&gt;root&lt;/vmcuser&gt;
     &lt;vmlist&gt;vm1,vm2&lt;/vmlist&gt;
    &lt;/command-options&gt;
  &lt;/item&gt;
&lt;/items&gt;

Parameters Description:

Command Options Description

vmchost[Required]
	Use the VMCHost option with the backup VM or query VM commands to specify the host name of the VMware VirtualCenter or ESX server where the VCB commands are directed.

vmcpw[Required]
	Use the VMCPW option with the backup VM or query VM commands to specify the password of the VMware VirtualCenter or ESX user specified with the VMCUSER option.

Recommendation: Use the VirtualCenter if it is available. If you cannot use a VirtualCenter server and you need to perform backups of multiple machines on multiple ESX servers, do not specify this option, but instead specify the option with the command so that it can be varied for each ESX server.

vmcuser[Required]
	Use the VMCUSER option with the backup VM or query VM commands to specify the user name of the VMware VirtualCenter or ESX server where the VCB commands are directed.

Recommendation: Use the VirtualCenter if it is available. If you cannot use a VirtualCenter server and you need to perform backups of multiple machines on multiple ESX servers, do not specify this option, but instead specify the option with the command so that it can be varied for each ESX server.

vmlist[Required]
	Use the VMLIST option with the backup VM or query VM commands to specify the host name or list of host names of the virtual machine to back up.</description>
        <from>items</from>
        <to>items</to>
      </input>
      <output global="false" required="false">
        <to>adapter response</to>
        <from>adapter response</from>
      </output>
    </parameters>
    <access />
    <sequence>
      <call-process>
        <process-name>:AO-AD-IBM_Tivoli_Storage_Manager:Utilities:Execute Request</process-name>
        <parameters>
          <input>
            <from>adapter name</from>
            <to>adapter name</to>
          </input>
          <input>
            <from>items</from>
            <to>items</to>
          </input>
          <input>
            <value>query-vm</value>
            <to>valid operation name</to>
          </input>
          <output>
            <from>adapter response</from>
            <to>adapter response</to>
          </output>
        </parameters>
        <meta>
          <documentation />
          <run-mode-handling>
            <run-mode>OCP</run-mode>
            <allow-step-into>false</allow-step-into>
          </run-mode-handling>
          <checkpoint>false</checkpoint>
        </meta>
        <location>:call-process[1]</location>
      </call-process>
    </sequence>
    <meta>
      <expose-to>
        <consumer>RULE</consumer>
        <consumer>SCHEDULE</consumer>
      </expose-to>
      <documentation>
        <description>This wrapper is used to verify the successful backups of the virtual machines from the backup proxy machine.</description>
        <version></version>
      </documentation>
      <peer-location>
        <location>any</location>
      </peer-location>
      <record-metrics>false</record-metrics>
      <process-id>a85fe88a-70a3-31bb-ad51-adfbe4072162</process-id>
      <author />
      <category />
      <status />
      <keywords />
      <systems />
      <last-modified-by />
      <last-modified>1290597047537</last-modified>
    </meta>
  </process-def>
</process>