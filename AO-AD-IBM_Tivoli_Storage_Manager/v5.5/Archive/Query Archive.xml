<process draft="false" dev-studio-version="7.6.01.02">
  <process-def name=":AO-AD-IBM_Tivoli_Storage_Manager:v5.5:Archive:Query Archive">
    <parameters>
      <input global="false" required="false">
        <description>adapter name [Optional]
The name of the adapter that is enabled on the Peer.
The default adapter name is IBMTSMActor</description>
        <from>adapter name</from>
        <to>adapter name</to>
      </input>
      <input global="false" required="true">
        <description>The query archive command displays a list of your archived files and the following information about each file:

*  File size
*  Archive date
*  File specification
*  Expiration date
*  Archive description

Sample Request XML:

&lt;items&gt;
  &lt;item&gt;
  &lt;operation-name&gt;query-archive&lt;/operation-name&gt;
    &lt;timeout-secs&gt;120&lt;/timeout-secs&gt;
				&lt;command-options&gt;
					&lt;description&gt;"Test Description"&lt;/description&gt;
					&lt;filelist&gt;C:\filelist.txt&lt;/filelist&gt;
					&lt;dateformat&gt;DD-MM-YYYY&lt;/dateformat&gt;
					&lt;numberformat&gt;d,ddd,dd&lt;/numberformat&gt;
					&lt;timeformat&gt;HH,MM,SS&lt;/timeformat&gt;
					&lt;fromdate&gt;30-09-2008&lt;/fromdate&gt;
					&lt;fromtime&gt;12,00,00&lt;/fromtime&gt;
					&lt;todate&gt;01-10-2008&lt;/todate&gt;
					&lt;totime&gt;16,00,00&lt;/totime&gt;
					&lt;detail/&gt;
					&lt;filesonly/&gt;
				&lt;/command-options&gt;
  &lt;/item&gt;
&lt;/items&gt;

Parameters Description:

Command Arguments Description:

filespec[Optional]
	Specifies the path and file name that you want to query. Use wildcard characters to specify a group of files or all the files in a directory.

Command Options Description:
	
dateformat[Optional]
	The dateformat option specifies the format you want to use to display dates. Valid values - MM/DD/YYYY, DD-MM-YYYY, DD.MM.YYYY, YYYY.MM.DD, YYYY-MM-DD		

description[Optional]
	The description option assigns or specifies a description for files when performing archive, delete archive, retrieve, query archive, or query backupset.
		
filelist[Optional]
	The Tivoli Storage Manager client opens the file you specify with this option and processes the list of files within according to the specific command. With the exception of the restore and retrieve commands, when you use the filelist option, Tivoli Storage Manager ignores all other file specifications on the command line.
Note: The &lt;FILELIST&gt; option does not support the wildcard characters.
	
subdir[Optional]
	The subdir option specifies whether you want to include subdirectories of named directories for processing. Valid values-yes,no
Note: SUBDIR is not a valid option when using FILELIST option.

numberformat[Optional]
	The numberformat option specifies the format you want to use to display numbers. Valid values – 
1. d,ddd.dd
2. d,ddd,dd
3. d ddd,dd
4. d ddd.dd
5. d.ddd,dd
6. d'ddd,dd	

timeformat[Optional]
	The timeformat option specifies the format in which you want to display system time. Valid values – 1) HH:MM:SS 2) HH,MM,SS 3)HH.MM.SS 4) hh:mm:ssAM/PM

detail[Optional]
	Use the detail option to display management class, file space, backup, and archive information depending on the command with which it is used.

filesonly[Optional]
	The filesonly option restricts backup, restore, retrieve, or query processing to files only. You cannot restore or retrieve directories from the Tivoli Storage Manager server when using the filesonly option with the restore or retrieve commands. However, directories with default attributes are created, if required, as placeholders for files that you restore or retrieve.

fromdate[Optional]
	Use the fromdate option with the fromtime option to specify a date and time from which you want to search for backups or archives during a restore, retrieve, or query operation. Files that were backed up or archived before this date and time are not included, although older directories might be included, if necessary, to restore or retrieve the files.

fromtime[Optional]
	Use the fromtime option with the fromdate option to specify a beginning time from which you want to search for backups or archives during a restore, retrieve, or query operation. Tivoli Storage Manager ignores this option if you do not specify the fromdate option.

todate[Optional]
	Use the todate option with the totime option to specify an ending date and time to which you want to search for backups or archives during a restore, retrieve, or query operation. For example, you might request a list of files that were backed up before 11:59 PM on June 30, 2002.
	
totime[Optional]
	Use the totime option with the todate option to specify an ending date and time to which you want to search for backups or archives during a restore, retrieve, or query operation. For example, you might request a list of files that were backed up before 11:59 PM on June 30, 2003. Tivoli Storage Manager ignores this option if you do not specify the todate option.

dirsonly[Optional]
	The dirsonly option processes directories only. The client does not process files.

NOTE: Either one of “filespec” or “filelist” should be provided.</description>
        <from>items</from>
        <to>items</to>
      </input>
      <output global="false" required="false">
        <to>adapter response</to>
        <from>adapter response</from>
      </output>
    </parameters>
    <access />
    <sequence>
      <call-process>
        <process-name>:AO-AD-IBM_Tivoli_Storage_Manager:Utilities:Execute Request</process-name>
        <parameters>
          <input>
            <from>adapter name</from>
            <to>adapter name</to>
          </input>
          <input>
            <from>items</from>
            <to>items</to>
          </input>
          <input>
            <value>query-archive</value>
            <to>valid operation name</to>
          </input>
          <output>
            <from>adapter response</from>
            <to>adapter response</to>
          </output>
        </parameters>
        <meta>
          <documentation />
          <run-mode-handling>
            <run-mode>OCP</run-mode>
            <allow-step-into>false</allow-step-into>
          </run-mode-handling>
          <checkpoint>false</checkpoint>
        </meta>
        <location>:call-process[1]</location>
      </call-process>
    </sequence>
    <meta>
      <expose-to>
        <consumer>RULE</consumer>
        <consumer>SCHEDULE</consumer>
      </expose-to>
      <documentation>
        <description>This wrapper displays a list of your archived files and the following information about each file:

*  File size
*  Archive date
*  File specification
*  Expiration date
*  Archive description</description>
        <version></version>
      </documentation>
      <peer-location>
        <location>any</location>
      </peer-location>
      <record-metrics>false</record-metrics>
      <process-id>0137f31f-70e6-38c2-9ef9-fe37196c8180</process-id>
      <author />
      <category />
      <status />
      <keywords />
      <systems />
      <last-modified-by />
      <last-modified>1290597031318</last-modified>
    </meta>
  </process-def>
</process>