<process draft="false" dev-studio-version="7.6.01.02">
  <process-def name=":AO-AD-IBM_Tivoli_Storage_Manager:v5.5:Image:Restore Image">
    <parameters>
      <input global="false" required="false">
        <description>adapter name [Optional]
The name of the adapter that is enabled on the Peer.
The default adapter name is IBMTSMActor</description>
        <from>adapter name</from>
        <to>adapter name</to>
      </input>
      <input global="false" required="true">
        <description>The restore image command restores a file system or raw volume image that was backed up using the backup image command. The restore obtains the backup image from a Tivoli Storage Manager server, or inside a backupset when a backupset is specified. This command can restore an active base image, or a point-in-time base image, with associated incremental updates.

Sample Request XML:

&lt;items&gt;
  &lt;item&gt;
  &lt;operation-name&gt;restore-image&lt;/operation-name&gt;
  &lt;timeout-secs&gt;120&lt;/timeout-secs&gt;
  &lt;command-options&gt;
        &lt;pitdate&gt;11/25/2008&lt;/pitdate&gt;
        &lt;pittime&gt;12:00:00&lt;/pittime&gt;
        &lt;dateformat&gt;MM/DD/YYYY&lt;/dateformat&gt;
        &lt;timeformat&gt;HH:MM:SS&lt;/timeformat&gt;
        &lt;incremental /&gt;
        &lt;deletefiles /&gt;
        &lt;noprompt /&gt;
        &lt;verifyimage /&gt;
      &lt;/command-options&gt;
      &lt;command-arguments&gt;
        &lt;source-filespec&gt;e:&lt;/source-filespec&gt;
      &lt;/command-arguments&gt;
  &lt;/item&gt;
&lt;/items&gt;

Parameters Description:

Command Options Description

dateformat[Optional]
	The dateformat option specifies the format you want to use to display dates. Valid values - MM/DD/YYYY, DD-MM-YYYY, DD.MM.YYYY, YYYY.MM.DD, YYYY-MM-DD

fromnode[Optional]
	The fromnode option permits one node to perform commands for another node. A user on another node must use the set access command to permit you to query, restore, or retrieve files or images for the other node.

timeformat[Optional]
	The timeformat option specifies the format in which you want to display system time. Valid values â€“ 1) HH:MM:SS 2) HH,MM,SS 3)HH.MM.SS 4) hh:mm:ssAM/PM.  The formats 1,2 and 3 follow 0-23 hour format.	
	
pitdate[Optional]
	Use the pitdate option with the pittime option to establish a point in time for which you want to display or restore the latest version of your backups. Files or images that were backed up on or before the date and time you specified, and which were not deleted before the date and time you specified, are processed. Backup versions that you create after this date and time are ignored.
Note: When pitdate is used, the inactive option is implicit.

pittime[Optional]
	Use the pittime option with the pitdate option to establish a point in time for which you want to display or restore the latest version of your backups. Files or images that were backed up on or before the date and time you specify, and which were not deleted before the date and time you specify, are processed. Backup versions that you create after this date and time are ignored. This option is ignored if you do not specify pitdate option.
Note: The PITTIME option cannot be used without specifying the PITDATE option

imagetofile[Optional]
	Use the imagetofile option with the restore image command to specify that you want to restore the source image to a file. You might need to restore the image to a file if bad sectors are present on the target volume, or if you want to manipulate the image data. Later, you can use a data copy utility of your choice to transfer the image from the file to a disk volume.

inctive[Optional]
	Use the inactive option to display both active and inactive objects.

incremental[Optional]
	Use the incremental option with the restore image command to ensure that any changes that were made to the base image are also applied to the restored image.

If you also use the deletefiles option, changes include the deletion of files and directories that were in the original image but later deleted from the workstation.

deletefiles[Optional]
	Use this option with the restore image command and the incremental option to delete files from the restored image if they were deleted after the image was created. Deletion of files will be performed correctly if the Tivoli Storage Manager server's backup copy group has enough versions for existing and deleted files.

verifyimage[Optional]
	Use the verifyimage option with the restore image command to specify that you want to enable detection of bad sectors on the destination target volume. If bad sectors are detected on the target volume, Tivoli Storage Manager issues a warning message on
the console and in the error log.

Command Arguments Description

source-filespec[Required]
	Specifies the name of a source image file system to be restored. Only a single source image can be specified; you cannot use wildcard characters.

dest-filespec[Optional]
	Specifies the name of an existing mounted file system or the path and file name to which the source file system will be restored. The default is the original location of the file system.</description>
        <from>items</from>
        <to>items</to>
      </input>
      <output global="false" required="false">
        <to>adapter response</to>
        <from>adapter response</from>
      </output>
    </parameters>
    <access />
    <sequence>
      <call-process>
        <process-name>:AO-AD-IBM_Tivoli_Storage_Manager:Utilities:Execute Request</process-name>
        <parameters>
          <input>
            <from>adapter name</from>
            <to>adapter name</to>
          </input>
          <input>
            <from>items</from>
            <to>items</to>
          </input>
          <input>
            <value>restore-image</value>
            <to>valid operation name</to>
          </input>
          <output>
            <from>adapter response</from>
            <to>adapter response</to>
          </output>
        </parameters>
        <meta>
          <documentation />
          <run-mode-handling>
            <run-mode>OCP</run-mode>
            <allow-step-into>false</allow-step-into>
          </run-mode-handling>
          <checkpoint>false</checkpoint>
        </meta>
        <location>:call-process[1]</location>
      </call-process>
    </sequence>
    <meta>
      <expose-to>
        <consumer>RULE</consumer>
        <consumer>SCHEDULE</consumer>
      </expose-to>
      <documentation>
        <description>This wrapper restores a file system or raw volume image that was backed up using the backup image command. The restore obtains the backup image from a Tivoli Storage Manager server, or inside a backupset when a backupset is specified. This command can restore an active base image, or a point-in-time base image, with associated incremental updates.</description>
        <version></version>
      </documentation>
      <peer-location>
        <location>any</location>
      </peer-location>
      <record-metrics>false</record-metrics>
      <process-id>0d839120-c1b8-320a-b7a9-2fa5d17189f4</process-id>
      <author />
      <category />
      <status />
      <keywords />
      <systems />
      <last-modified-by />
      <last-modified>1290597038053</last-modified>
    </meta>
  </process-def>
</process>