<process draft="false" dev-studio-version="7.6.01.02">
  <process-def name=":AO-AD-IBM_Tivoli_Storage_Manager:v5.5:Image:Query Image">
    <parameters>
      <input global="false" required="false">
        <description>adapter name [Optional]
The name of the adapter that is enabled on the Peer.
The default adapter name is IBMTSMActor</description>
        <from>adapter name</from>
        <to>adapter name</to>
      </input>
      <input global="false" required="true">
        <description>The query image command displays the following information about file system images that are stored on the Tivoli Storage Manager server.
*  Image Size - This is the volume size which was backed up.
*  Stored Size - This is the actual image size stored on the server. Because image backup allows you to back up only used blocks in a file system, the stored image size on the Tivoli Storage Manager server could be smaller than the volume size. For online image backups, the stored image can be larger than the file system based on the size of the cache files.
*  File system type
*  Backup date and time
*  Management class assigned to image backup
*  Whether the image backup is an active or inactive copy
*  The image name

Sample Request XML:

&lt;items&gt;
  &lt;item&gt;
  &lt;operation-name&gt;query-image&lt;/operation-name&gt;
  &lt;timeout-secs&gt;120&lt;/timeout-secs&gt;
  &lt;command-options&gt;
        &lt;pitdate&gt;11/25/2008&lt;/pitdate&gt;
        &lt;pittime&gt;11:00:00&lt;/pittime&gt;
        &lt;dateformat&gt;MM/DD/YYYY&lt;/dateformat&gt;
        &lt;timeformat&gt;HH:MM:SS&lt;/timeformat&gt;
        &lt;numberformat&gt;d ddd,dd&lt;/numberformat&gt;
        &lt;inactive /&gt;
      &lt;/command-options&gt;
      &lt;command-arguments&gt;
        &lt;volume&gt;e:&lt;/volume&gt;
      &lt;/command-arguments&gt;
  &lt;/item&gt;
&lt;/items&gt;

Parameters Description:

Command Arguments Description

volume[Optional]
	Specifies the file system name that you want to query.  You can also provide the name of a logical volume you want to query. You must specify the exact name of the image. You cannot use wildcards. The default is all active images (unless restricted by one or more options).

Omitting volume causes all images to be displayed.

Command Options Description

dateformat[Optional]
	The dateformat option specifies the format you want to use to display dates. Valid values - MM/DD/YYYY, DD-MM-YYYY, DD.MM.YYYY, YYYY.MM.DD, YYYY-MM-DD

inactive[Optional]
	Use the inactive option to display both active and inactive objects:	
	
pitdate[Optional]
	Use the pitdate option with the pittime option to establish a point in time for which you want to display or restore the latest version of your backups. Files or images that were backed up on or before the date and time you specified, and which were not deleted before the date and time you specified, are processed. Backup versions that you create after this date and time are ignored.
Note: When pitdate is used, the inactive option is implicit.

pittime[Optional]
	Use the pittime option with the pitdate option to establish a point in time for which you want to display or restore the latest version of your backups. Files or images that were backed up on or before the date and time you specify, and which were not deleted before the date and time you specify, are processed. Backup versions that you create after this date and time are ignored. This option is ignored if you do not specify pitdate option
Note: The PITTIME option cannot be used without specifying the PITDATE option

numberformat[Optional]
	The numberformat option specifies the format you want to use to display numbers. Valid values – 
1. d,ddd.dd
2. d,ddd,dd
3. d ddd,dd
4. d ddd.dd
5. d.ddd,dd
6. d'ddd,dd

timeformat[Optional]
	The timeformat option specifies the format in which you want to display system time. Valid values – 1) HH:MM:SS 2) HH,MM,SS 3)HH.MM.SS 4) hh:mm:ssAM/PM.  The formats 1,2 and 3 follow 0-23 hour format.</description>
        <from>items</from>
        <to>items</to>
      </input>
      <output global="false" required="false">
        <to>adapter response</to>
        <from>adapter response</from>
      </output>
    </parameters>
    <access />
    <sequence>
      <call-process>
        <process-name>:AO-AD-IBM_Tivoli_Storage_Manager:Utilities:Execute Request</process-name>
        <parameters>
          <input>
            <from>adapter name</from>
            <to>adapter name</to>
          </input>
          <input>
            <from>items</from>
            <to>items</to>
          </input>
          <input>
            <value>query-image</value>
            <to>valid operation name</to>
          </input>
          <output>
            <from>adapter response</from>
            <to>adapter response</to>
          </output>
        </parameters>
        <meta>
          <documentation />
          <run-mode-handling>
            <run-mode>OCP</run-mode>
            <allow-step-into>false</allow-step-into>
          </run-mode-handling>
          <checkpoint>false</checkpoint>
        </meta>
        <location>:call-process[1]</location>
      </call-process>
    </sequence>
    <meta>
      <expose-to>
        <consumer>RULE</consumer>
        <consumer>SCHEDULE</consumer>
      </expose-to>
      <documentation>
        <description>The query image command displays the following information about file system images that are stored on the Tivoli Storage Manager server.</description>
        <version></version>
      </documentation>
      <peer-location>
        <location>any</location>
      </peer-location>
      <record-metrics>false</record-metrics>
      <process-id>3ed7491e-4c28-353d-b0ca-aa0ecb525970</process-id>
      <author />
      <category />
      <status />
      <keywords />
      <systems />
      <last-modified-by />
      <last-modified>1290597037748</last-modified>
    </meta>
  </process-def>
</process>