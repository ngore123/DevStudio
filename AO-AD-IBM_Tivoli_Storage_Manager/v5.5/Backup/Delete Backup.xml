<process draft="false" dev-studio-version="7.6.01.02">
  <process-def name=":AO-AD-IBM_Tivoli_Storage_Manager:v5.5:Backup:Delete Backup">
    <parameters>
      <input global="false" required="false">
        <description>adapter name [Optional]
The name of the adapter that is enabled on the Peer.
The default adapter name is IBMTSMActor</description>
        <from>adapter name</from>
        <to>adapter name</to>
      </input>
      <input global="false" required="true">
        <description>The delete backup command deletes backup files from Tivoli Storage Manager server storage. Your administrator must give you authority to delete backup files.

Sample Request XML:

&lt;items&gt;
  &lt;item&gt;
  &lt;operation-name&gt;delete-backup&lt;/operation-name&gt;
  &lt;timeout-secs&gt;120&lt;/timeout-secs&gt;
  &lt;command-options&gt;
      &lt;dateformat&gt;DD-MM-YYYY&lt;/dateformat&gt;
      &lt;fromdate&gt;24-09-2008&lt;/fromdate&gt;
      &lt;todate&gt;07-10-2008&lt;/todate&gt;
      &lt;timeformat&gt;HH:MM:SS&lt;/timeformat&gt;
      &lt;fromtime&gt;09:10:00&lt;/fromtime&gt;
      &lt;totime&gt;14:00:00&lt;/totime&gt;
      &lt;objtype&gt;file&lt;/objtype&gt;
      &lt;deltype&gt;active&lt;/deltype&gt;
      &lt;noprompt /&gt;
    &lt;/command-options&gt;
    &lt;command-arguments&gt;
      &lt;filespec&gt;C:\new1.txt&lt;/filespec&gt;
    &lt;/command-arguments&gt;
  &lt;/item&gt;
&lt;/items&gt;

Parameters Description:

Command Arguments Description:

filespec[Optional]
	Specifies the path and file name that you want to query. Use wildcard characters to specify a group of files or all the files in a directory. Do not use wild cards when you query NAS file system images with -class=nas option.

Command Options Description:	

noprompt[Optional]              
	The noprompt option suppresses the confirmation prompt that is presented by the delete group, delete archive, expire, restore image, and set event commands.  
Note: Although this tag is optional but user must provide this tag otherwise application might prompt the user in which case the adapter will hang and time out after a specifc time period.

dateformat[Optional]
	The dateformat option specifies the format you want to use to display dates. Valid values - MM/DD/YYYY, DD-MM-YYYY, DD.MM.YYYY, YYYY.MM.DD, YYYY-MM-DD

filelist[Optional]
	The Tivoli Storage Manager client opens the file you specify with this option and processes the list of files within according to the specific command. With the exception of the restore and retrieve commands, when you use the filelist option, Tivoli Storage Manager ignores all other file specifications on the command line.
Note: The &lt;FILELIST&gt; option does not support the wildcard characters.
	
fromdate[Optional]
	Use the fromdate option with the fromtime option to specify a date and time from which you want to search for backups or archives during a restore, retrieve, or query operation. Files that were backed up or archived before this date and time are not included, although older directories might be included, if necessary, to restore or retrieve the files.

fromtime[Optional]
	Use the fromtime option with the fromdate option to specify a beginning time from which you want to search for backups or archives during a restore, retrieve, or query operation. Tivoli Storage Manager ignores this option if you do not specify the fromdate option.

todate[Optional]
	Use the todate option with the totime option to specify an ending date and time to which you want to search for backups or archives during a restore, retrieve, or query operation. For example, you might request a list of files that were backed up before 11:59 PM on June 30, 2002.
	
totime[Optional]
	Use the totime option with the todate option to specify an ending date and time to which you want to search for backups or archives during a restore, retrieve, or query operation. For example, you might request a list of files that were backed up before 11:59 PM on June 30, 2003. Tivoli Storage Manager ignores this option if you do not specify the todate option.

subdir[Optional]
	The subdir option specifies whether you want to include subdirectories of named directories for processing. Valid values-yes,no
Note: SUBDIR is not a valid option when using FILELIST option.
	
pitdate[Optional]
	Use the pitdate option with the pittime option to establish a point in time for which you want to display or restore the latest version of your backups. Files or images that were backed up on or before the date and time you specified, and which were not deleted before the date and time you specified, are processed. Backup versions that you create after this date and time are ignored.

pittime[Optional]
	Use the pittime option with the pitdate option to establish a point in time for which you want to display or restore the latest version of your backups. Files or images that were backed up on or before the date and time you specify, and which were not deleted before the date and time you specify, are processed. Backup versions that you create after this date and time are ignored. This option is ignored if you do not specify pitdate option.
Note: pitdate/pittime options can not be used with fromdate/fromtime options.
Note: The PITTIME option cannot be used without specifying the PITDATE option

timeformat[Optional]
	The timeformat option specifies the format in which you want to display system time. Valid values â€“ 1) HH:MM:SS 2) HH,MM,SS 3)HH.MM.SS 4) hh:mm:ssAM/PM

objtype[Optional]
	Specifies the type of backup delete you want to perform. You can specify either of the following values:

FILE
   Specifies that you want to delete directories and files. This is the default.

IMAGE
   Specifies that you want to delete an image backup.

deltype[Optional]
	Specifies the deletion type. Specify one of the following values:

 ACTIVE
    Delete only active file objects. Directory objects are not deleted. This is the default.

    Note: If there are any inactive objects, then after the active object is deleted, the most current inactive object will be changed from inactive to active.

    To delete all versions of a file, first issue the delete backup command with -deltype=inactive, then issue the command again with -deltype=active.

 INACTIVE
    Delete only inactive file objects. Directory objects are not deleted.

 ALL
    Delete all active and inactive objects below a given directory, including all subdirectories and their files.

    Note: The parent directory of the deleted files and subdirectories is not deleted.</description>
        <from>items</from>
        <to>items</to>
      </input>
      <output global="false" required="false">
        <to>adapter response</to>
        <from>adapter response</from>
      </output>
    </parameters>
    <access />
    <sequence>
      <call-process>
        <process-name>:AO-AD-IBM_Tivoli_Storage_Manager:Utilities:Execute Request</process-name>
        <parameters>
          <input>
            <from>adapter name</from>
            <to>adapter name</to>
          </input>
          <input>
            <from>items</from>
            <to>items</to>
          </input>
          <input>
            <value>delete-backup</value>
            <to>valid operation name</to>
          </input>
          <output>
            <from>adapter response</from>
            <to>adapter response</to>
          </output>
        </parameters>
        <meta>
          <documentation />
          <run-mode-handling>
            <run-mode>OCP</run-mode>
            <allow-step-into>false</allow-step-into>
          </run-mode-handling>
          <checkpoint>false</checkpoint>
        </meta>
        <location>:call-process[1]</location>
      </call-process>
    </sequence>
    <meta>
      <expose-to>
        <consumer>RULE</consumer>
        <consumer>SCHEDULE</consumer>
      </expose-to>
      <documentation>
        <description>This wrapper deletes backup files from Tivoli Storage Manager server storage. Your administrator must give you authority to delete backup files.</description>
        <version></version>
      </documentation>
      <peer-location>
        <location>any</location>
      </peer-location>
      <record-metrics>false</record-metrics>
      <process-id>5f2c3606-d05d-3438-8c67-e6d7850a7920</process-id>
      <author />
      <category />
      <status />
      <keywords />
      <systems />
      <last-modified-by />
      <last-modified>1290597033349</last-modified>
    </meta>
  </process-def>
</process>