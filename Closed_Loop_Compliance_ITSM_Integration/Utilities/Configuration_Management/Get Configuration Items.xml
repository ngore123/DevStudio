<process draft="false" dev-studio-version="7.6.03">
  <process-def name=":Closed_Loop_Compliance_ITSM_Integration:Utilities:Configuration_Management:Get Configuration Items">
    <parameters>
      <input global="false" required="true">
        <description>String Value - The name of a configuration item defined in a configuration module.

Valid Values: BMC_AR_System</description>
        <from>configuration name</from>
        <to>configuration name</to>
      </input>
      <input global="false" required="true">
        <description>String Value - class name 

Example: BMC_ComputerSystem
</description>
        <from>class name</from>
        <to>class name</to>
      </input>
      <input global="false" required="false">
        <description>String Value - Key values are concept attributes that are queriable.  Queriable attributes are conceot attributes that have a system mapping in the query mapping document located in the module configuration.</description>
        <from>key 1</from>
        <to>key 1</to>
      </input>
      <input global="false" required="false">
        <description>String Value - The value of key 1.</description>
        <from>value 1</from>
        <to>value 1</to>
      </input>
      <input global="false" required="false">
        <description>String value - Key values are concept attributes that are queriable.  Queriable attributes are conceot attributes that have a system mapping in the query mapping document located in the module configuration.</description>
        <from>key 2</from>
        <to>key 2</to>
      </input>
      <input global="false" required="false">
        <description>String Value - The value of key 2.</description>
        <from>value 2</from>
        <to>value 2</to>
      </input>
      <input global="false" required="false">
        <description>An XML document containing an expression that relates key 1 and value 1 to key 2 and value 2. eg 
&lt;value&gt;key 1 &amp;gt; &lt;value&gt;'key1' &amp;gt; value1 and 'key1' &amp;lt; value2&lt;/value&gt;.

For Service Desk it may contain ServiceDesk Advance Find queries. eg. ConfigurationItem;IPAddress; or one of the constants EQUALS or CONTAINS.</description>
        <from>query 1</from>
        <to>query 1</to>
      </input>
      <input global="false" required="false">
        <description>An XML  document containing an expression that relates key 1 and value 1 to key 2 and value 2. eg 
&lt;value&gt;key 1 &amp;gt; &lt;value&gt;'key1' &amp;gt; value1 and 'key1' &amp;lt; value2&lt;/value&gt;.

For Service Desk it may contain ServiceDesk the constants EQUALS or CONTAINS.</description>
        <from>query 2</from>
        <to>query 2</to>
      </input>
      <input global="false" required="false">
        <description>An XML document that is required by RemedyCMDB that may include parameters that are used to refine and control queries. The following is an example that include default values:
&lt;query-item&gt;
  &lt;soap&gt;
    &lt;username /&gt;              
    &lt;password /&gt;				
  &lt;/soap&gt;
  &lt;login-info&gt;
    &lt;user-id&gt;Demo&lt;/user-id&gt;		
    &lt;password&gt;Demo&lt;/password&gt;
    &lt;lang&gt;English&lt;/lang&gt;
  &lt;/login-info&gt;
  &lt;class-name-id&gt;
    &lt;namespace-name&gt;BMC.CORE&lt;/namespace-name&gt;	
    &lt;class-name&gt;BMC_ComputerSystem&lt;/class-name&gt;	
    &lt;dataset-id&gt;BMC.ASSET&lt;/dataset-id&gt;			
    &lt;get-mask&gt;GET_MASK_NONE&lt;/get-mask&gt;          
&lt;/class-name-id&gt;
  &lt;first-retrieve&gt;0&lt;/first-retrieve&gt;			
  &lt;max-retrieve&gt;0&lt;/max-retrieve&gt;				
  &lt;sort-by&gt;SerialNumber&lt;/sort-by&gt;				
  &lt;sort-order&gt;ASCENDING&lt;/sort-order&gt;			
&lt;/query-item&gt;

</description>
        <from>query item</from>
        <to>query item</to>
      </input>
      <input global="false" required="false">
        <from>computer system mappings</from>
        <to>computer system mappings</to>
      </input>
      <input global="false" required="false">
        <from>computer system mappings v8</from>
        <to>computer system mappings v8</to>
      </input>
      <output global="false" required="false">
        <description>An XML document providing detail for one or more configuration items.</description>
        <to>configuration items</to>
        <from>configuration items</from>
      </output>
      <output global="false" required="true">
        <description>String Value - Indicates whether or not the process completed successfully. 

Valid values: success, failure 
</description>
        <to>success status</to>
        <from>success status</from>
      </output>
      <output global="false" required="true">
        <description>String Value - A process specific string that explains the value of success status.</description>
        <to>status message</to>
        <from>status message</from>
      </output>
    </parameters>
    <access />
    <sequence>
      <call-process>
        <process-name>:Closed_Loop_Compliance_ITSM_Integration:Utilities:Configuration_Management:Extract Configuration Data</process-name>
        <parameters>
          <input>
            <from>configuration name</from>
            <to>configuration name</to>
          </input>
          <input>
            <from>computer system mappings</from>
            <to>computer system mappings</to>
          </input>
          <input>
            <from>computer system mappings v8</from>
            <to>computer system mappings v8</to>
          </input>
          <output>
            <from>adapter</from>
            <to>adapter</to>
          </output>
          <output>
            <from>system type</from>
            <to>system type</to>
          </output>
          <output>
            <from>schema</from>
            <to>schema</to>
          </output>
          <output>
            <from>version</from>
            <to>version</to>
          </output>
          <output>
            <from>concept template</from>
            <to>concept template</to>
          </output>
          <output>
            <from>collection</from>
            <to>collection</to>
          </output>
          <output>
            <from>computer system mappings</from>
            <to>computer system mappings</to>
          </output>
          <output>
            <from>person mappings</from>
            <to>person mappings</to>
          </output>
          <output>
            <from>query mappings</from>
            <to>query mappings</to>
          </output>
          <output>
            <from>status mappings</from>
            <to>status mappings</to>
          </output>
          <output>
            <from>urgency mappings</from>
            <to>urgency mappings</to>
          </output>
          <output>
            <from>field mappings</from>
            <to>field mappings</to>
          </output>
          <output>
            <from>impact mappings</from>
            <to>impact mappings</to>
          </output>
          <output>
            <from>service level mappings</from>
            <to>service level mappings</to>
          </output>
          <output>
            <from>connection details</from>
            <to>connection details</to>
          </output>
          <output>
            <from>device configuration delete mappings</from>
            <to>device configuration delete mappings</to>
          </output>
          <output>
            <from>netconfig job delete mappings</from>
            <to>netconfig job delete mappings</to>
          </output>
          <output>
            <from>netshow job delete mappings</from>
            <to>netshow job delete mappings</to>
          </output>
          <output>
            <from>acquired method mappings</from>
            <to>acquired method mappings</to>
          </output>
          <output>
            <from>asset class mappings</from>
            <to>asset class mappings</to>
          </output>
          <output>
            <from>schedule type mappings</from>
            <to>schedule type mappings</to>
          </output>
          <output>
            <from>type mappings</from>
            <to>type mappings</to>
          </output>
          <output>
            <from>yes no mappings</from>
            <to>yes no mappings</to>
          </output>
          <output>
            <from>report mappings</from>
            <to>report mappings</to>
          </output>
          <output>
            <from>application details</from>
            <to>application details</to>
          </output>
          <output>
            <from>account mappings</from>
            <to>account mappings</to>
          </output>
          <output>
            <from>activity mappings</from>
            <to>activity mappings</to>
          </output>
          <output>
            <from>admin domain mappings</from>
            <to>admin domain mappings</to>
          </output>
          <output>
            <from>application service mappings</from>
            <to>application service mappings</to>
          </output>
          <output>
            <from>application system mappings</from>
            <to>application system mappings</to>
          </output>
          <output>
            <from>cluster mappings</from>
            <to>cluster mappings</to>
          </output>
          <output>
            <from>connectivity collection mappings</from>
            <to>connectivity collection mappings</to>
          </output>
          <output>
            <from>database mappings</from>
            <to>database mappings</to>
          </output>
          <output>
            <from>equipment mappings</from>
            <to>equipment mappings</to>
          </output>
          <output>
            <from>hardware system component mappings</from>
            <to>hardware system component mappings</to>
          </output>
          <output>
            <from>logical system component mappings</from>
            <to>logical system component mappings</to>
          </output>
          <output>
            <from>organization mappings</from>
            <to>organization mappings</to>
          </output>
          <output>
            <from>protocol endpoint mappings</from>
            <to>protocol endpoint mappings</to>
          </output>
          <output>
            <from>role mappings</from>
            <to>role mappings</to>
          </output>
          <output>
            <from>user community mappings</from>
            <to>user community mappings</to>
          </output>
          <output>
            <from>business service mappings</from>
            <to>business service mappings</to>
          </output>
          <output>
            <from>physical location mappings</from>
            <to>physical location mappings</to>
          </output>
          <output>
            <from>lan endpoint mappings</from>
            <to>lan endpoint mappings</to>
          </output>
          <output>
            <from>base element mappings</from>
            <to>base element mappings</to>
          </output>
          <output>
            <from>dependency mappings</from>
            <to>dependency mappings</to>
          </output>
          <output>
            <from>document mappings</from>
            <to>document mappings</to>
          </output>
          <output>
            <from>success status</from>
            <to>success status</to>
          </output>
          <output>
            <from>status message</from>
            <to>status message</to>
          </output>
        </parameters>
        <meta>
          <documentation />
          <run-mode-handling>
            <run-mode>OCP</run-mode>
            <allow-step-into>false</allow-step-into>
          </run-mode-handling>
          <checkpoint>false</checkpoint>
        </meta>
        <location>:call-process[1]</location>
      </call-process>
      <switch>
        <meta>
          <documentation />
          <run-mode-handling>
            <run-mode>OCP</run-mode>
            <allow-step-into>true</allow-step-into>
          </run-mode-handling>
          <checkpoint>false</checkpoint>
        </meta>
        <execute-all-applicable-cases>false</execute-all-applicable-cases>
        <default>
          <sequence>
            <assign>
              <assignment>
                <output>
                  <to>success status</to>
                  <value>failure</value>
                </output>
              </assignment>
              <assignment>
                <document>
                  <input>
                    <from>configuration name</from>
                  </input>
                </document>
                <result>
                  <output>
                    <to>status message</to>
                  </output>
                </result>
                <xpath-expression>
                  <xpath-replacement-tokens />
                  <xpath><![CDATA[concat("Unknown configuration name: ", .)]]></xpath>
                </xpath-expression>
              </assignment>
              <meta>
                <documentation />
                <checkpoint>false</checkpoint>
              </meta>
              <location>:switch[1]:sequence[1]:assign[1]</location>
            </assign>
          </sequence>
        </default>
        <case>
          <condition>
            <document>
              <input>
                <from>success status</from>
              </input>
            </document>
            <xpath-expression>
              <xpath-replacement-tokens />
              <xpath><![CDATA[text() = "success"]]></xpath>
            </xpath-expression>
          </condition>
          <sequence>
            <switch>
              <meta>
                <documentation />
                <run-mode-handling>
                  <run-mode>OCP</run-mode>
                  <allow-step-into>true</allow-step-into>
                </run-mode-handling>
                <checkpoint>false</checkpoint>
              </meta>
              <execute-all-applicable-cases>false</execute-all-applicable-cases>
              <default>
                <sequence>
                  <assign>
                    <assignment>
                      <output>
                        <to>success status</to>
                        <value>failure</value>
                      </output>
                    </assignment>
                    <assignment>
                      <document>
                        <input>
                          <from>system</from>
                        </input>
                      </document>
                      <result>
                        <output>
                          <to>status message</to>
                        </output>
                      </result>
                      <xpath-expression>
                        <xpath-replacement-tokens />
                        <xpath><![CDATA[concat("Unknown System ", .)]]></xpath>
                      </xpath-expression>
                    </assignment>
                    <meta>
                      <documentation />
                      <checkpoint>false</checkpoint>
                    </meta>
                    <location>:switch[1]:sequence[2]:switch[1]:sequence[1]:assign[1]</location>
                  </assign>
                </sequence>
              </default>
              <case>
                <condition>
                  <document>
                    <input>
                      <from>system type</from>
                    </input>
                  </document>
                  <xpath-expression>
                    <xpath-replacement-tokens />
                    <xpath><![CDATA[text() = "Remedy ARS"]]></xpath>
                  </xpath-expression>
                </condition>
                <sequence>
                  <assign>
                    <assignment>
                      <output>
                        <to>configuration item</to>
                        <value>
                          <Configuration-Item xmlns="Closed_Loop_Server-SA-Audit">
                            <id xmlns="" />
                            <instance-id xmlns="" />
                            <reconciliationid xmlns="" />
                            <datasetid xmlns="" />
                            <name xmlns="" />
                            <urgency xmlns="" />
                            <submitter xmlns="" />
                            <version xmlns="" />
                            <last-modified-by xmlns="" />
                            <modified-date xmlns="" />
                            <description xmlns="" />
                            <short-description xmlns="" />
                            <effective-date xmlns="" />
                            <creation-date xmlns="" />
                            <tag-no xmlns="" />
                            <type xmlns="">Server</type>
                            <search-code xmlns="" />
                            <ip-address xmlns="" />
                            <alias xmlns="" />
                            <mac-address xmlns="" />
                            <protocol xmlns="" />
                            <device-file xmlns="" />
                            <view xmlns="" />
                            <command-file xmlns="" />
                            <mode xmlns="" />
                            <rollback-file xmlns="" />
                            <task-name xmlns="" />
                            <schedule xmlns="" />
                            <schedule-type xmlns="" />
                            <policy-file xmlns="" />
                            <maker-comments xmlns="" />
                            <execution xmlns="" />
                            <startup xmlns="" />
                            <email xmlns="" />
                            <sync xmlns="" />
                            <failure xmlns="" />
                            <primary-userid xmlns="" />
                            <primary-password xmlns="" />
                            <enable-password xmlns="" />
                            <time-zone xmlns="" />
                            <filename xmlns="" />
                            <file-type xmlns="" />
                            <hop xmlns="" />
                            <debug-level xmlns="" />
                            <log-file xmlns="" />
                            <command-set xmlns="" />
                            <custom-command xmlns="" />
                            <notification-email xmlns="" />
                            <input xmlns="" />
                            <approval-status xmlns="" />
                            <owner xmlns="" />
                            <administrator-organization xmlns="" />
                            <administrator-workgroup xmlns="" />
                            <administrator-person xmlns="" />
                            <outsourced-to xmlns="" />
                            <site xmlns="" />
                            <region xmlns="" />
                            <floor xmlns="" />
                            <room-no xmlns="" />
                            <product-category xmlns="" />
                            <supplier xmlns="" />
                            <manufacturer xmlns="" />
                            <model xmlns="" />
                            <serial-no xmlns="" />
                            <part-no xmlns="" />
                            <model-no xmlns="" />
                            <unit-price xmlns="" />
                            <unique xmlns="" />
                            <status xmlns="" />
                            <folder xmlns="" />
                            <service-level xmlns="" />
                            <managed-by-service xmlns="" />
                            <supported-by-service xmlns="" />
                            <service xmlns="" />
                            <sn-name xmlns="" />
                            <sn-socket-address xmlns="" />
                            <outage xmlns="" />
                            <periodic-outage xmlns="" />
                            <users xmlns="" />
                            <organization xmlns="" />
                            <parent-configuration-items xmlns="" />
                            <child-configuration-items xmlns="" />
                            <related-configurations xmlns="" />
                            <configuration-workorders xmlns="" />
                            <owner-organization xmlns="" />
                            <owner-person xmlns="" />
                            <order-number xmlns="" />
                            <purchase-date xmlns="" />
                            <received-date xmlns="" />
                            <installation-date xmlns="" />
                            <warranty-date xmlns="" />
                            <disposal-date xmlns="" />
                            <domain xmlns="" />
                            <item xmlns="" />
                            <system-role xmlns="" />
                            <requisition-id xmlns="" />
                            <request-id xmlns="" />
                            <order-id xmlns="" />
                            <logs xmlns="" />
                            <notes xmlns="" />
                            <version-1 xmlns="" />
                            <version-2 xmlns="" />
                            <date-1 xmlns="" />
                            <date-2 xmlns="" />
                            <continue xmlns="" />
                            <hostname xmlns="" />
                            <domain xmlns="" />
                            <total-physical-memory xmlns="" />
                            <first-name xmlns="" />
                            <last-name xmlns="" />
                            <namespace-name xmlns="" />
                            <class-name xmlns="" />
                            <cd-machine-id xmlns="" />
                          </Configuration-Item>
                        </value>
                      </output>
                    </assignment>
                    <assignment>
                      <input>
                        <from>class name</from>
                      </input>
                      <output>
                        <to>configuration item</to>
                        <concept type="Closed_Loop_Server-SA-Audit:BL-Configuration-Item">
                          <attribute>workorders</attribute>
                        </concept>
                      </output>
                    </assignment>
                    <meta>
                      <documentation />
                      <checkpoint>false</checkpoint>
                    </meta>
                    <location>:switch[1]:sequence[2]:switch[1]:sequence[2]:assign[1]</location>
                  </assign>
                  <call-process>
                    <process-name>:Closed_Loop_Compliance_ITSM_Integration:Utilities:Configuration_Management:Extract Configuration Class Mappings</process-name>
                    <parameters>
                      <input>
                        <from>configuration name</from>
                        <to>configuration name</to>
                      </input>
                      <input>
                        <from>configuration item</from>
                        <to>configuration item</to>
                      </input>
                      <output>
                        <from>class mappings</from>
                        <to>class mappings</to>
                      </output>
                    </parameters>
                    <meta>
                      <documentation />
                      <run-mode-handling>
                        <run-mode>OCP</run-mode>
                        <allow-step-into>false</allow-step-into>
                      </run-mode-handling>
                      <checkpoint>false</checkpoint>
                    </meta>
                    <location>:switch[1]:sequence[2]:switch[1]:sequence[2]:call-process[1]</location>
                  </call-process>
                  <assign>
                    <assignment>
                      <document>
                        <input>
                          <from>class mappings</from>
                        </input>
                      </document>
                      <result>
                        <output>
                          <to>fields</to>
                        </output>
                      </result>
                      <xslt-stylesheet>
                        <stylesheet-replacement-tokens />
                        <stylesheet><![CDATA[<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
  <xsl:output indent="yes" />
  <xsl:template match="/">
    <fields>
      <xsl:apply-templates />
    </fields>
  </xsl:template>
  <xsl:template match="mappings/*">
    <xsl:if test="string(@queryable) = '' or @queryable='true' ">
      <field>
        <xsl:value-of select="." />
      </field>
    </xsl:if>
  </xsl:template>
</xsl:stylesheet>]]></stylesheet>
                      </xslt-stylesheet>
                    </assignment>
                    <assignment>
                      <document>
                        <input>
                          <from>class mappings</from>
                        </input>
                      </document>
                      <result>
                        <output>
                          <to>key 1</to>
                        </output>
                      </result>
                      <xpath-expression>
                        <xpath-replacement-tokens>
                          <replacement-token name="key 1">
                            <input global="false">
                              <from>key 1</from>
                            </input>
                          </replacement-token>
                        </xpath-replacement-tokens>
                        <xpath><![CDATA[//*[local-name()='${key 1}']/text()]]></xpath>
                      </xpath-expression>
                    </assignment>
                    <assignment>
                      <document>
                        <input>
                          <from>class mappings</from>
                        </input>
                      </document>
                      <result>
                        <output>
                          <to>key 2</to>
                        </output>
                      </result>
                      <xslt-stylesheet>
                        <stylesheet-replacement-tokens>
                          <replacement-token name="key 2">
                            <input global="false">
                              <from>key 2</from>
                            </input>
                          </replacement-token>
                        </stylesheet-replacement-tokens>
                        <stylesheet><![CDATA[<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
  <xsl:output indent="no" />
  <xsl:template match="/">
    <value>
      <xsl:if test="string-length('$[key 2]') !=0">
        <xsl:value-of select="//*[local-name()='${key 2}']/text()" disable-output-escaping="no" />
      </xsl:if>
    </value>
  </xsl:template>
</xsl:stylesheet>]]></stylesheet>
                      </xslt-stylesheet>
                    </assignment>
                    <meta>
                      <documentation />
                      <checkpoint>false</checkpoint>
                    </meta>
                    <location>:switch[1]:sequence[2]:switch[1]:sequence[2]:assign[2]</location>
                  </assign>
                  <switch>
                    <meta>
                      <documentation />
                      <run-mode-handling>
                        <run-mode>OCP</run-mode>
                        <allow-step-into>true</allow-step-into>
                      </run-mode-handling>
                      <checkpoint>false</checkpoint>
                    </meta>
                    <execute-all-applicable-cases>false</execute-all-applicable-cases>
                    <default>
                      <sequence>
                        <assign>
                          <assignment>
                            <document>
                              <input>
                                <from>class name</from>
                              </input>
                            </document>
                            <result>
                              <output>
                                <to>schema name</to>
                              </output>
                            </result>
                            <xpath-expression>
                              <xpath-replacement-tokens />
                              <xpath><![CDATA[concat('BMC.CORE:',.)]]></xpath>
                            </xpath-expression>
                          </assignment>
                          <assignment>
                            <output>
                              <to>items</to>
                              <value>
                                <empty />
                              </value>
                            </output>
                            <xslt-stylesheet>
                              <stylesheet-replacement-tokens>
                                <replacement-token name="key 1">
                                  <input global="false">
                                    <from>key 1</from>
                                  </input>
                                </replacement-token>
                                <replacement-token name="key 2">
                                  <input global="false">
                                    <from>key 2</from>
                                  </input>
                                </replacement-token>
                                <replacement-token name="value 1">
                                  <input global="false">
                                    <from>value 1</from>
                                  </input>
                                </replacement-token>
                                <replacement-token name="value 2">
                                  <input global="false">
                                    <from>value 2</from>
                                  </input>
                                </replacement-token>
                                <replacement-token name="schema">
                                  <input global="false">
                                    <from>schema name</from>
                                  </input>
                                </replacement-token>
                                <replacement-token name="fields">
                                  <input global="false">
                                    <from>fields</from>
                                  </input>
                                </replacement-token>
                              </stylesheet-replacement-tokens>
                              <stylesheet><![CDATA[<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
  <xsl:output indent="yes" cdata-section-elements="query" />
  <xsl:template match="/">
    <items>
      <item>
        <schema>${schema}</schema>
        <key>${key 1}</key>
        <value>${value 1}</value>
        <xsl:if test="string-length('${key 2}')&gt;0">
          <key2>${key 2}</key2>
          <value2>${value 2}</value2>
        </xsl:if>
        ${fields}
      </item>
    </items>
  </xsl:template>
</xsl:stylesheet>]]></stylesheet>
                            </xslt-stylesheet>
                          </assignment>
                          <meta>
                            <documentation />
                            <checkpoint>false</checkpoint>
                          </meta>
                          <location>:switch[1]:sequence[2]:switch[1]:sequence[2]:switch[1]:sequence[1]:assign[1]</location>
                        </assign>
                      </sequence>
                    </default>
                    <case>
                      <condition>
                        <document>
                          <input>
                            <from>query 1</from>
                          </input>
                        </document>
                        <xpath-expression>
                          <xpath-replacement-tokens />
                          <xpath><![CDATA[string-length(.)>0]]></xpath>
                        </xpath-expression>
                      </condition>
                      <sequence>
                        <assign>
                          <assignment>
                            <document>
                              <input>
                                <from>class name</from>
                              </input>
                            </document>
                            <result>
                              <output>
                                <to>schema name</to>
                              </output>
                            </result>
                            <xpath-expression>
                              <xpath-replacement-tokens />
                              <xpath><![CDATA[concat('BMC.CORE:',.)]]></xpath>
                            </xpath-expression>
                          </assignment>
                          <assignment>
                            <document>
                              <input>
                                <from>query 1</from>
                              </input>
                            </document>
                            <result>
                              <output>
                                <to>items</to>
                              </output>
                            </result>
                            <xslt-stylesheet>
                              <stylesheet-replacement-tokens>
                                <replacement-token name="key 1">
                                  <input global="false">
                                    <from>key 1</from>
                                  </input>
                                </replacement-token>
                                <replacement-token name="value 1">
                                  <input global="false">
                                    <from>value 1</from>
                                  </input>
                                </replacement-token>
                                <replacement-token name="schema">
                                  <input global="false">
                                    <from>schema name</from>
                                  </input>
                                </replacement-token>
                                <replacement-token name="key 2">
                                  <input global="false">
                                    <from>key 2</from>
                                  </input>
                                </replacement-token>
                                <replacement-token name="value 2">
                                  <input global="false">
                                    <from>value 2</from>
                                  </input>
                                </replacement-token>
                                <replacement-token name="fields">
                                  <input global="false">
                                    <from>fields</from>
                                  </input>
                                </replacement-token>
                              </stylesheet-replacement-tokens>
                              <stylesheet><![CDATA[<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
  <xsl:output indent="yes" cdata-section-elements="query" />
  <xsl:template match="/">
    <items>
      <item>
        <schema>${schema}</schema>
        <key>${key 1}</key>
        <value>${value 1}</value>
        <key2>${key 2}</key2>
        <value2>${value 2}</value2>
        <query>
          <xsl:value-of select="." />
        </query>
        ${fields}
      </item>
    </items>
  </xsl:template>
</xsl:stylesheet>]]></stylesheet>
                            </xslt-stylesheet>
                          </assignment>
                          <meta>
                            <documentation />
                            <checkpoint>false</checkpoint>
                          </meta>
                          <location>:switch[1]:sequence[2]:switch[1]:sequence[2]:switch[1]:sequence[2]:assign[1]</location>
                        </assign>
                      </sequence>
                    </case>
                    <location>:switch[1]:sequence[2]:switch[1]:sequence[2]:switch[1]</location>
                  </switch>
                  <call-process>
                    <process-name>:AMP-AD-BMC-Remedy-ARS:Find Items</process-name>
                    <parameters>
                      <input>
                        <from>adapter</from>
                        <to>adapter name</to>
                      </input>
                      <input>
                        <from>items</from>
                        <to>items</to>
                      </input>
                      <input>
                        <from>version</from>
                        <to>version</to>
                      </input>
                      <input>
                        <value>read</value>
                        <to>item type</to>
                      </input>
                      <output>
                        <from>adapter response</from>
                        <to>adapter response</to>
                      </output>
                    </parameters>
                    <meta>
                      <documentation />
                      <run-mode-handling>
                        <run-mode>OCP</run-mode>
                        <allow-step-into>false</allow-step-into>
                      </run-mode-handling>
                      <checkpoint>false</checkpoint>
                    </meta>
                    <location>:switch[1]:sequence[2]:switch[1]:sequence[2]:call-process[2]</location>
                  </call-process>
                  <assign>
                    <assignment>
                      <document>
                        <input>
                          <from>adapter response</from>
                        </input>
                      </document>
                      <result>
                        <output>
                          <to>entry count</to>
                        </output>
                      </result>
                      <xpath-expression>
                        <xpath-replacement-tokens />
                        <xpath><![CDATA[//metadata/entry-count/text()]]></xpath>
                      </xpath-expression>
                    </assignment>
                    <assignment>
                      <document>
                        <input>
                          <from>entry count</from>
                        </input>
                      </document>
                      <result>
                        <output>
                          <to>success</to>
                        </output>
                      </result>
                      <xpath-expression>
                        <xpath-replacement-tokens />
                        <xpath><![CDATA[number(.)>0]]></xpath>
                      </xpath-expression>
                    </assignment>
                    <meta>
                      <documentation />
                      <checkpoint>false</checkpoint>
                    </meta>
                    <location>:switch[1]:sequence[2]:switch[1]:sequence[2]:assign[3]</location>
                  </assign>
                  <switch>
                    <meta>
                      <documentation />
                      <run-mode-handling>
                        <run-mode>OCP</run-mode>
                        <allow-step-into>true</allow-step-into>
                      </run-mode-handling>
                      <checkpoint>false</checkpoint>
                    </meta>
                    <execute-all-applicable-cases>false</execute-all-applicable-cases>
                    <default>
                      <sequence>
                        <assign>
                          <assignment>
                            <output>
                              <to>success status</to>
                              <value>failure</value>
                            </output>
                          </assignment>
                          <assignment>
                            <document>
                              <input>
                                <from>value 1</from>
                              </input>
                            </document>
                            <result>
                              <output>
                                <to>status message</to>
                              </output>
                            </result>
                            <xpath-expression>
                              <xpath-replacement-tokens />
                              <xpath><![CDATA[concat("The process failed for ", .)]]></xpath>
                            </xpath-expression>
                          </assignment>
                          <meta>
                            <documentation />
                            <checkpoint>false</checkpoint>
                          </meta>
                          <location>:switch[1]:sequence[2]:switch[1]:sequence[2]:switch[2]:sequence[1]:assign[1]</location>
                        </assign>
                      </sequence>
                    </default>
                    <case>
                      <condition>
                        <document>
                          <input>
                            <from>entry count</from>
                          </input>
                        </document>
                        <xpath-expression>
                          <xpath-replacement-tokens />
                          <xpath><![CDATA[number(.)>0]]></xpath>
                        </xpath-expression>
                      </condition>
                      <sequence>
                        <call-process>
                          <process-name>:AutoPilot-OA-Common_Utilities:Translate Source to Concept</process-name>
                          <parameters>
                            <input>
                              <from>adapter response</from>
                              <to>source data</to>
                              <xslt-stylesheet>
                                <stylesheet-replacement-tokens />
                                <stylesheet><![CDATA[<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
  <xsl:output indent="yes" cdata-section-elements="value" />
  <xsl:template match="/">
    <entries>
      <xsl:apply-templates />
    </entries>
  </xsl:template>
  <xsl:template match="entry">
    <xsl:copy-of select="." />
  </xsl:template>
  <xsl:template match="metadata" />
</xsl:stylesheet>]]></stylesheet>
                              </xslt-stylesheet>
                            </input>
                            <input>
                              <from>class mappings</from>
                              <to>context to target mapping</to>
                            </input>
                            <input>
                              <from>concept template</from>
                              <to>collection template</to>
                            </input>
                            <output>
                              <from>items</from>
                              <to>configuration items</to>
                            </output>
                          </parameters>
                          <meta>
                            <documentation />
                            <run-mode-handling>
                              <run-mode>OCP</run-mode>
                              <allow-step-into>false</allow-step-into>
                            </run-mode-handling>
                            <checkpoint>false</checkpoint>
                          </meta>
                          <location>:switch[1]:sequence[2]:switch[1]:sequence[2]:switch[2]:sequence[2]:call-process[1]</location>
                        </call-process>
                        <assign>
                          <assignment>
                            <output>
                              <to>success status</to>
                              <value>success</value>
                            </output>
                          </assignment>
                          <assignment>
                            <document>
                              <input>
                                <from>value 1</from>
                              </input>
                            </document>
                            <result>
                              <output>
                                <to>status message</to>
                              </output>
                            </result>
                            <xpath-expression>
                              <xpath-replacement-tokens />
                              <xpath><![CDATA[concat("The process completed successfully for ", .)]]></xpath>
                            </xpath-expression>
                          </assignment>
                          <meta>
                            <documentation />
                            <checkpoint>false</checkpoint>
                          </meta>
                          <location>:switch[1]:sequence[2]:switch[1]:sequence[2]:switch[2]:sequence[2]:assign[1]</location>
                        </assign>
                        <call-process>
                          <process-name>:Closed_Loop_Compliance_ITSM_Integration:Utilities:Configuration_Management:Translate Enumerated Values to Field Values</process-name>
                          <parameters>
                            <input>
                              <from>configuration name</from>
                              <to>configuration name</to>
                            </input>
                            <input>
                              <from>configuration items</from>
                              <to>configuration items</to>
                            </input>
                            <output>
                              <from>configuration items</from>
                              <to>configuration items</to>
                            </output>
                            <output>
                              <from>failed configuration items</from>
                              <to>failed configuration items</to>
                            </output>
                            <output>
                              <from>success count</from>
                              <to>success count</to>
                            </output>
                            <output>
                              <from>failure count</from>
                              <to>failure count</to>
                            </output>
                            <output>
                              <from>success status</from>
                              <to>enum success status</to>
                            </output>
                            <output>
                              <from>status message</from>
                              <to>enum status message</to>
                            </output>
                          </parameters>
                          <meta>
                            <documentation />
                            <run-mode-handling>
                              <run-mode>OCP</run-mode>
                              <allow-step-into>false</allow-step-into>
                            </run-mode-handling>
                            <checkpoint>false</checkpoint>
                          </meta>
                          <location>:switch[1]:sequence[2]:switch[1]:sequence[2]:switch[2]:sequence[2]:call-process[2]</location>
                        </call-process>
                        <switch>
                          <meta>
                            <documentation />
                            <run-mode-handling>
                              <run-mode>OCP</run-mode>
                              <allow-step-into>true</allow-step-into>
                            </run-mode-handling>
                            <checkpoint>false</checkpoint>
                          </meta>
                          <execute-all-applicable-cases>false</execute-all-applicable-cases>
                          <default>
                            <sequence />
                          </default>
                          <case>
                            <condition>
                              <document>
                                <input>
                                  <from>configuration items</from>
                                </input>
                              </document>
                              <xpath-expression>
                                <xpath-replacement-tokens />
                                <xpath><![CDATA[string-length(.) = 0]]></xpath>
                              </xpath-expression>
                            </condition>
                            <sequence>
                              <assign>
                                <assignment>
                                  <input>
                                    <from>enum success status</from>
                                  </input>
                                  <output>
                                    <to>success status</to>
                                  </output>
                                </assignment>
                                <assignment>
                                  <input>
                                    <from>enum status message</from>
                                  </input>
                                  <output>
                                    <to>status message</to>
                                  </output>
                                </assignment>
                                <meta>
                                  <documentation />
                                  <checkpoint>false</checkpoint>
                                </meta>
                                <location>:switch[1]:sequence[2]:switch[1]:sequence[2]:switch[2]:sequence[2]:switch[1]:sequence[2]:assign[1]</location>
                              </assign>
                            </sequence>
                          </case>
                          <location>:switch[1]:sequence[2]:switch[1]:sequence[2]:switch[2]:sequence[2]:switch[1]</location>
                        </switch>
                      </sequence>
                    </case>
                    <location>:switch[1]:sequence[2]:switch[1]:sequence[2]:switch[2]</location>
                  </switch>
                </sequence>
              </case>
              <case>
                <condition>
                  <document>
                    <input>
                      <from>system type</from>
                    </input>
                  </document>
                  <xpath-expression>
                    <xpath-replacement-tokens />
                    <xpath><![CDATA[text() = "Custom"]]></xpath>
                  </xpath-expression>
                </condition>
                <sequence>
                  <call-process>
                    <process-name>:AutoPilot-OA-Configuration_Management:Custom:Find Items</process-name>
                    <parameters>
                      <input>
                        <from>configuration name</from>
                        <to>configuration name</to>
                      </input>
                      <input>
                        <from>key 1</from>
                        <to>key 1</to>
                      </input>
                      <input>
                        <from>value 1</from>
                        <to>value 1</to>
                      </input>
                      <output>
                        <from>configuration items</from>
                        <to>configuration items</to>
                      </output>
                    </parameters>
                    <meta>
                      <documentation />
                      <run-mode-handling>
                        <run-mode>OCP</run-mode>
                        <allow-step-into>false</allow-step-into>
                      </run-mode-handling>
                      <checkpoint>false</checkpoint>
                    </meta>
                    <location>:switch[1]:sequence[2]:switch[1]:sequence[3]:call-process[1]</location>
                  </call-process>
                </sequence>
              </case>
              <case>
                <condition>
                  <document>
                    <input>
                      <from>system type</from>
                    </input>
                  </document>
                  <xpath-expression>
                    <xpath-replacement-tokens />
                    <xpath><![CDATA[text()="Atrium CMDB"]]></xpath>
                  </xpath-expression>
                </condition>
                <sequence>
                  <assign>
                    <assignment>
                      <document>
                        <input>
                          <from>query mappings</from>
                        </input>
                      </document>
                      <result>
                        <output>
                          <to>fields</to>
                        </output>
                      </result>
                      <xslt-stylesheet>
                        <stylesheet-replacement-tokens />
                        <stylesheet><![CDATA[<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
  <xsl:output indent="yes" />
  <xsl:template match="/">
    <attributes>
      <xsl:apply-templates />
    </attributes>
  </xsl:template>
  <xsl:template match="query-mappings/*">
    <xsl:if test="string(@queryable) = '' or @queryable='true' ">
      <items>
        <xsl:value-of select="." />
      </items>
    </xsl:if>
  </xsl:template>
</xsl:stylesheet>]]></stylesheet>
                      </xslt-stylesheet>
                    </assignment>
                    <assignment>
                      <document>
                        <input>
                          <from>query mappings</from>
                        </input>
                      </document>
                      <result>
                        <output>
                          <to>key 1</to>
                        </output>
                      </result>
                      <xpath-expression>
                        <xpath-replacement-tokens>
                          <replacement-token name="key 1">
                            <input global="false">
                              <from>key 1</from>
                            </input>
                          </replacement-token>
                        </xpath-replacement-tokens>
                        <xpath><![CDATA[//*[local-name()='${key 1}']/text()]]></xpath>
                      </xpath-expression>
                    </assignment>
                    <assignment>
                      <document>
                        <input>
                          <from>query mappings</from>
                        </input>
                      </document>
                      <result>
                        <output>
                          <to>key 2</to>
                        </output>
                      </result>
                      <xslt-stylesheet>
                        <stylesheet-replacement-tokens>
                          <replacement-token name="key 2">
                            <input global="false">
                              <from>key 2</from>
                            </input>
                          </replacement-token>
                        </stylesheet-replacement-tokens>
                        <stylesheet><![CDATA[<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
  <xsl:output indent="no" />
  <xsl:template match="/">
    <value>
      <xsl:if test="string-length('$[key 2]') !=0">
        <xsl:value-of select="//*[local-name()='${key 2}']/text()" disable-output-escaping="no" />
      </xsl:if>
    </value>
  </xsl:template>
</xsl:stylesheet>]]></stylesheet>
                      </xslt-stylesheet>
                    </assignment>
                    <meta>
                      <documentation />
                      <checkpoint>false</checkpoint>
                    </meta>
                    <location>:switch[1]:sequence[2]:switch[1]:sequence[4]:assign[1]</location>
                  </assign>
                  <switch>
                    <meta>
                      <documentation />
                      <run-mode-handling>
                        <run-mode>OCP</run-mode>
                        <allow-step-into>true</allow-step-into>
                      </run-mode-handling>
                      <checkpoint>false</checkpoint>
                    </meta>
                    <execute-all-applicable-cases>false</execute-all-applicable-cases>
                    <default>
                      <sequence>
                        <assign>
                          <assignment>
                            <document>
                              <input>
                                <from>query item</from>
                              </input>
                            </document>
                            <result>
                              <output>
                                <to>soap username</to>
                              </output>
                            </result>
                            <xpath-expression>
                              <xpath-replacement-tokens />
                              <xpath><![CDATA[//soap/username/text()]]></xpath>
                            </xpath-expression>
                          </assignment>
                          <assignment>
                            <document>
                              <input>
                                <from>query item</from>
                              </input>
                            </document>
                            <result>
                              <output>
                                <to>soap password</to>
                              </output>
                            </result>
                            <xpath-expression>
                              <xpath-replacement-tokens />
                              <xpath><![CDATA[//soap/password/text()]]></xpath>
                            </xpath-expression>
                          </assignment>
                          <assignment>
                            <document>
                              <input>
                                <from>query item</from>
                              </input>
                            </document>
                            <result>
                              <output>
                                <to>login userid</to>
                              </output>
                            </result>
                            <xpath-expression>
                              <xpath-replacement-tokens />
                              <xpath><![CDATA[//login-info/user-id/text()]]></xpath>
                            </xpath-expression>
                          </assignment>
                          <assignment>
                            <document>
                              <input>
                                <from>query item</from>
                              </input>
                            </document>
                            <result>
                              <output>
                                <to>login pw</to>
                              </output>
                            </result>
                            <xpath-expression>
                              <xpath-replacement-tokens />
                              <xpath><![CDATA[//login-info/password/text()]]></xpath>
                            </xpath-expression>
                          </assignment>
                          <assignment>
                            <document>
                              <input>
                                <from>query item</from>
                              </input>
                            </document>
                            <result>
                              <output>
                                <to>login lang</to>
                              </output>
                            </result>
                            <xpath-expression>
                              <xpath-replacement-tokens />
                              <xpath><![CDATA[//login-info/lang/text()]]></xpath>
                            </xpath-expression>
                          </assignment>
                          <assignment>
                            <document>
                              <input>
                                <from>query item</from>
                              </input>
                            </document>
                            <result>
                              <output>
                                <to>namespace name</to>
                              </output>
                            </result>
                            <xpath-expression>
                              <xpath-replacement-tokens />
                              <xpath><![CDATA[//class-name-id/namespace-name/text()]]></xpath>
                            </xpath-expression>
                          </assignment>
                          <assignment>
                            <document>
                              <input>
                                <from>query item</from>
                              </input>
                            </document>
                            <result>
                              <output>
                                <to>class name</to>
                              </output>
                            </result>
                            <xpath-expression>
                              <xpath-replacement-tokens />
                              <xpath><![CDATA[//class-name-id/class-name/text()]]></xpath>
                            </xpath-expression>
                          </assignment>
                          <assignment>
                            <document>
                              <input>
                                <from>query item</from>
                              </input>
                            </document>
                            <result>
                              <output>
                                <to>datasetid</to>
                              </output>
                            </result>
                            <xpath-expression>
                              <xpath-replacement-tokens />
                              <xpath><![CDATA[//class-name-id/dataset-id/text()]]></xpath>
                            </xpath-expression>
                          </assignment>
                          <assignment>
                            <document>
                              <input>
                                <from>query item</from>
                              </input>
                            </document>
                            <result>
                              <output>
                                <to>get mask</to>
                              </output>
                            </result>
                            <xpath-expression>
                              <xpath-replacement-tokens />
                              <xpath><![CDATA[//class-name-id/get-mask/text()]]></xpath>
                            </xpath-expression>
                          </assignment>
                          <assignment>
                            <document>
                              <input>
                                <from>query item</from>
                              </input>
                            </document>
                            <result>
                              <output>
                                <to>first retrieve</to>
                              </output>
                            </result>
                            <xpath-expression>
                              <xpath-replacement-tokens />
                              <xpath><![CDATA[//first-retrieve/text()]]></xpath>
                            </xpath-expression>
                          </assignment>
                          <assignment>
                            <document>
                              <input>
                                <from>query item</from>
                              </input>
                            </document>
                            <result>
                              <output>
                                <to>max retrieve</to>
                              </output>
                            </result>
                            <xpath-expression>
                              <xpath-replacement-tokens />
                              <xpath><![CDATA[//max-retrieve/text()]]></xpath>
                            </xpath-expression>
                          </assignment>
                          <assignment>
                            <document>
                              <input>
                                <from>query item</from>
                              </input>
                            </document>
                            <result>
                              <output>
                                <to>sort by</to>
                              </output>
                            </result>
                            <xpath-expression>
                              <xpath-replacement-tokens />
                              <xpath><![CDATA[//sort-by/text()]]></xpath>
                            </xpath-expression>
                          </assignment>
                          <assignment>
                            <document>
                              <input>
                                <from>query item</from>
                              </input>
                            </document>
                            <result>
                              <output>
                                <to>sort order</to>
                              </output>
                            </result>
                            <xpath-expression>
                              <xpath-replacement-tokens />
                              <xpath><![CDATA[//sort-order/text()]]></xpath>
                            </xpath-expression>
                          </assignment>
                          <assignment>
                            <output>
                              <to>query 1</to>
                              <value>
                                <empty />
                              </value>
                            </output>
                            <xslt-stylesheet>
                              <stylesheet-replacement-tokens>
                                <replacement-token name="key 1">
                                  <input global="false">
                                    <from>key 1</from>
                                  </input>
                                </replacement-token>
                                <replacement-token name="value 1">
                                  <input global="false">
                                    <from>value 1</from>
                                  </input>
                                </replacement-token>
                                <replacement-token name="key 2">
                                  <input global="false">
                                    <from>key 2</from>
                                  </input>
                                </replacement-token>
                                <replacement-token name="value 2">
                                  <input global="false">
                                    <from>value 2</from>
                                  </input>
                                </replacement-token>
                              </stylesheet-replacement-tokens>
                              <stylesheet><![CDATA[<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
  <xsl:output indent="no" />
  <xsl:template match="/">
    <query>
      <xsl:if test="string-length('${key 1}')&gt;0 and string-length('${value 1}')&gt;0 and string-length('${key 2}')=0 and string-length('${value 2}')=0">
        <xsl:text disable-output-escaping="no">${key 1} = "$[value 1]"</xsl:text>
      </xsl:if>
      <xsl:if test="string-length('${key 1}')&gt;0 and string-length('${value 1}')&gt;0 and string-length('${key 2}')&gt;0 and string-length('${value 2}')&gt;0">
        <xsl:text disable-output-escaping="no">${key 1} = "$[value 1]" and ${key 2} = "$[value 2]"</xsl:text>
      </xsl:if>
    </query>
  </xsl:template>
</xsl:stylesheet>]]></stylesheet>
                            </xslt-stylesheet>
                          </assignment>
                          <assignment>
                            <document>
                              <input>
                                <from>query 1</from>
                              </input>
                            </document>
                            <result>
                              <output>
                                <to>items</to>
                              </output>
                            </result>
                            <xslt-stylesheet>
                              <stylesheet-replacement-tokens>
                                <replacement-token name="fields">
                                  <input global="false">
                                    <from>fields</from>
                                  </input>
                                </replacement-token>
                                <replacement-token name="soap username">
                                  <input global="false">
                                    <from>soap username</from>
                                  </input>
                                </replacement-token>
                                <replacement-token name="soap password">
                                  <input global="false">
                                    <from>soap password</from>
                                  </input>
                                </replacement-token>
                                <replacement-token name="login userid">
                                  <input global="false">
                                    <from>login userid</from>
                                  </input>
                                </replacement-token>
                                <replacement-token name="login pw">
                                  <input global="false">
                                    <from>login pw</from>
                                  </input>
                                </replacement-token>
                                <replacement-token name="login lang">
                                  <input global="false">
                                    <from>login lang</from>
                                  </input>
                                </replacement-token>
                                <replacement-token name="namespace">
                                  <input global="false">
                                    <from>namespace name</from>
                                  </input>
                                </replacement-token>
                                <replacement-token name="class">
                                  <input global="false">
                                    <from>class name</from>
                                  </input>
                                </replacement-token>
                                <replacement-token name="datasetid">
                                  <input global="false">
                                    <from>datasetid</from>
                                  </input>
                                </replacement-token>
                                <replacement-token name="mask">
                                  <input global="false">
                                    <from>get mask</from>
                                  </input>
                                </replacement-token>
                                <replacement-token name="first retrieve">
                                  <input global="false">
                                    <from>first retrieve</from>
                                  </input>
                                </replacement-token>
                                <replacement-token name="max retrieve">
                                  <input global="false">
                                    <from>max retrieve</from>
                                  </input>
                                </replacement-token>
                                <replacement-token name="sort by">
                                  <input global="false">
                                    <from>sort by</from>
                                  </input>
                                </replacement-token>
                                <replacement-token name="sort order">
                                  <input global="false">
                                    <from>sort order</from>
                                  </input>
                                </replacement-token>
                              </stylesheet-replacement-tokens>
                              <stylesheet><![CDATA[<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
  <xsl:output indent="yes" cdata-section-elements="query" />
  <xsl:template match="/">
    <items>
      <item>
        <parameters>
          <username>
            <xsl:text disable-output-escaping="no">$[soap username]</xsl:text>
          </username>
          <password>
            <xsl:text disable-output-escaping="no">$[soap password]</xsl:text>
          </password>
          <login-info>
            <user-id>
              <xsl:text disable-output-escaping="no">$[login userid]</xsl:text>
            </user-id>
            <password>
              <xsl:text disable-output-escaping="no">$[login pw]</xsl:text>
            </password>
            <lang>
              <xsl:text disable-output-escaping="no">$[login lang]h</xsl:text>
            </lang>
          </login-info>
          <class-name-id>
            <namespace-name>
              <xsl:text disable-output-escaping="no">$[namespace]</xsl:text>
            </namespace-name>
            <class-name>
              <xsl:text disable-output-escaping="no">$[class]</xsl:text>
            </class-name>
          </class-name-id>
          <query>
            <xsl:value-of select="." disable-output-escaping="no" />
          </query>
          <attributes>${fields}</attributes>
          <first-retrieve>
            <xsl:text disable-output-escaping="no">$[first retrieve]</xsl:text>
          </first-retrieve>
          <max-retrieve>
            <xsl:text disable-output-escaping="no">$[max retrieve]</xsl:text>
          </max-retrieve>
          <sort-order>
            <items>
              <attribute-name>
                <xsl:text disable-output-escaping="no">$[sort by]</xsl:text>
              </attribute-name>
              <sort-order>
                <xsl:text disable-output-escaping="no">$[sort order]</xsl:text>
              </sort-order>
            </items>
          </sort-order>
          <a-dataset-id>
            <xsl:text disable-output-escaping="no">$[datasetid]</xsl:text>
          </a-dataset-id>
          <a-get-mask>
            <xsl:text disable-output-escaping="no">$[mask]</xsl:text>
          </a-get-mask>
        </parameters>
      </item>
    </items>
  </xsl:template>
</xsl:stylesheet>]]></stylesheet>
                            </xslt-stylesheet>
                          </assignment>
                          <meta>
                            <documentation />
                            <checkpoint>false</checkpoint>
                          </meta>
                          <location>:switch[1]:sequence[2]:switch[1]:sequence[4]:switch[1]:sequence[1]:assign[1]</location>
                        </assign>
                      </sequence>
                    </default>
                    <case>
                      <condition>
                        <document>
                          <input>
                            <from>query 1</from>
                          </input>
                        </document>
                        <xpath-expression>
                          <xpath-replacement-tokens />
                          <xpath><![CDATA[string-length(.)>0]]></xpath>
                        </xpath-expression>
                      </condition>
                      <sequence>
                        <assign>
                          <assignment>
                            <document>
                              <input>
                                <from>query item</from>
                              </input>
                            </document>
                            <result>
                              <output>
                                <to>soap username</to>
                              </output>
                            </result>
                            <xpath-expression>
                              <xpath-replacement-tokens />
                              <xpath><![CDATA[//soap/username/text()]]></xpath>
                            </xpath-expression>
                          </assignment>
                          <assignment>
                            <document>
                              <input>
                                <from>query item</from>
                              </input>
                            </document>
                            <result>
                              <output>
                                <to>soap password</to>
                              </output>
                            </result>
                            <xpath-expression>
                              <xpath-replacement-tokens />
                              <xpath><![CDATA[//soap/password/text()]]></xpath>
                            </xpath-expression>
                          </assignment>
                          <assignment>
                            <document>
                              <input>
                                <from>query item</from>
                              </input>
                            </document>
                            <result>
                              <output>
                                <to>login userid</to>
                              </output>
                            </result>
                            <xpath-expression>
                              <xpath-replacement-tokens />
                              <xpath><![CDATA[//login-info/user-id/text()]]></xpath>
                            </xpath-expression>
                          </assignment>
                          <assignment>
                            <document>
                              <input>
                                <from>query item</from>
                              </input>
                            </document>
                            <result>
                              <output>
                                <to>login pw</to>
                              </output>
                            </result>
                            <xpath-expression>
                              <xpath-replacement-tokens />
                              <xpath><![CDATA[//login-info/password/text()]]></xpath>
                            </xpath-expression>
                          </assignment>
                          <assignment>
                            <document>
                              <input>
                                <from>query item</from>
                              </input>
                            </document>
                            <result>
                              <output>
                                <to>login lang</to>
                              </output>
                            </result>
                            <xpath-expression>
                              <xpath-replacement-tokens />
                              <xpath><![CDATA[//login-info/lang/text()]]></xpath>
                            </xpath-expression>
                          </assignment>
                          <assignment>
                            <document>
                              <input>
                                <from>query item</from>
                              </input>
                            </document>
                            <result>
                              <output>
                                <to>namespace name</to>
                              </output>
                            </result>
                            <xpath-expression>
                              <xpath-replacement-tokens />
                              <xpath><![CDATA[//class-name-id/namespace-name/text()]]></xpath>
                            </xpath-expression>
                          </assignment>
                          <assignment>
                            <document>
                              <input>
                                <from>query item</from>
                              </input>
                            </document>
                            <result>
                              <output>
                                <to>class name</to>
                              </output>
                            </result>
                            <xpath-expression>
                              <xpath-replacement-tokens />
                              <xpath><![CDATA[//class-name-id/class-name/text()]]></xpath>
                            </xpath-expression>
                          </assignment>
                          <assignment>
                            <document>
                              <input>
                                <from>query item</from>
                              </input>
                            </document>
                            <result>
                              <output>
                                <to>datasetid</to>
                              </output>
                            </result>
                            <xpath-expression>
                              <xpath-replacement-tokens />
                              <xpath><![CDATA[//class-name-id/dataset-id/text()]]></xpath>
                            </xpath-expression>
                          </assignment>
                          <assignment>
                            <document>
                              <input>
                                <from>query item</from>
                              </input>
                            </document>
                            <result>
                              <output>
                                <to>get mask</to>
                              </output>
                            </result>
                            <xpath-expression>
                              <xpath-replacement-tokens />
                              <xpath><![CDATA[//class-name-id/get-mask/text()]]></xpath>
                            </xpath-expression>
                          </assignment>
                          <assignment>
                            <document>
                              <input>
                                <from>query item</from>
                              </input>
                            </document>
                            <result>
                              <output>
                                <to>first retrieve</to>
                              </output>
                            </result>
                            <xpath-expression>
                              <xpath-replacement-tokens />
                              <xpath><![CDATA[//first-retrieve/text()]]></xpath>
                            </xpath-expression>
                          </assignment>
                          <assignment>
                            <document>
                              <input>
                                <from>query item</from>
                              </input>
                            </document>
                            <result>
                              <output>
                                <to>max retrieve</to>
                              </output>
                            </result>
                            <xpath-expression>
                              <xpath-replacement-tokens />
                              <xpath><![CDATA[//max-retrieve/text()]]></xpath>
                            </xpath-expression>
                          </assignment>
                          <assignment>
                            <document>
                              <input>
                                <from>query item</from>
                              </input>
                            </document>
                            <result>
                              <output>
                                <to>sort by</to>
                              </output>
                            </result>
                            <xpath-expression>
                              <xpath-replacement-tokens />
                              <xpath><![CDATA[//sort-by/text()]]></xpath>
                            </xpath-expression>
                          </assignment>
                          <assignment>
                            <document>
                              <input>
                                <from>query item</from>
                              </input>
                            </document>
                            <result>
                              <output>
                                <to>sort order</to>
                              </output>
                            </result>
                            <xpath-expression>
                              <xpath-replacement-tokens />
                              <xpath><![CDATA[//sort-order/text()]]></xpath>
                            </xpath-expression>
                          </assignment>
                          <assignment>
                            <document>
                              <input>
                                <from>query 1</from>
                              </input>
                            </document>
                            <result>
                              <output>
                                <to>items</to>
                              </output>
                            </result>
                            <xslt-stylesheet>
                              <stylesheet-replacement-tokens>
                                <replacement-token name="fields">
                                  <input global="false">
                                    <from>fields</from>
                                  </input>
                                </replacement-token>
                                <replacement-token name="soap username">
                                  <input global="false">
                                    <from>soap username</from>
                                  </input>
                                </replacement-token>
                                <replacement-token name="soap password">
                                  <input global="false">
                                    <from>soap password</from>
                                  </input>
                                </replacement-token>
                                <replacement-token name="login userid">
                                  <input global="false">
                                    <from>login userid</from>
                                  </input>
                                </replacement-token>
                                <replacement-token name="login pw">
                                  <input global="false">
                                    <from>login pw</from>
                                  </input>
                                </replacement-token>
                                <replacement-token name="login lang">
                                  <input global="false">
                                    <from>login lang</from>
                                  </input>
                                </replacement-token>
                                <replacement-token name="namespace">
                                  <input global="false">
                                    <from>namespace name</from>
                                  </input>
                                </replacement-token>
                                <replacement-token name="class">
                                  <input global="false">
                                    <from>class name</from>
                                  </input>
                                </replacement-token>
                                <replacement-token name="datasetid">
                                  <input global="false">
                                    <from>datasetid</from>
                                  </input>
                                </replacement-token>
                                <replacement-token name="mask">
                                  <input global="false">
                                    <from>get mask</from>
                                  </input>
                                </replacement-token>
                                <replacement-token name="first retrieve">
                                  <input global="false">
                                    <from>first retrieve</from>
                                  </input>
                                </replacement-token>
                                <replacement-token name="max retrieve">
                                  <input global="false">
                                    <from>max retrieve</from>
                                  </input>
                                </replacement-token>
                                <replacement-token name="sort by">
                                  <input global="false">
                                    <from>sort by</from>
                                  </input>
                                </replacement-token>
                                <replacement-token name="sort order">
                                  <input global="false">
                                    <from>sort order</from>
                                  </input>
                                </replacement-token>
                              </stylesheet-replacement-tokens>
                              <stylesheet><![CDATA[<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
  <xsl:output indent="yes" cdata-section-elements="query" />
  <xsl:template match="/">
    <items>
      <item>
        <parameters>
          <username>
            <xsl:text disable-output-escaping="no">$[soap username]</xsl:text>
          </username>
          <password>
            <xsl:text disable-output-escaping="no">$[soap password]</xsl:text>
          </password>
          <login-info>
            <user-id>
              <xsl:text disable-output-escaping="no">$[login userid]</xsl:text>
            </user-id>
            <password>
              <xsl:text disable-output-escaping="no">$[login pw]</xsl:text>
            </password>
            <lang>
              <xsl:text disable-output-escaping="no">$[login lang]h</xsl:text>
            </lang>
          </login-info>
          <class-name-id>
            <namespace-name>
              <xsl:text disable-output-escaping="no">$[namespace]</xsl:text>
            </namespace-name>
            <class-name>
              <xsl:text disable-output-escaping="no">$[class]</xsl:text>
            </class-name>
          </class-name-id>
          <query>
            <xsl:value-of select="." disable-output-escaping="no" />
          </query>
          <attributes>${fields}</attributes>
          <first-retrieve>
            <xsl:text disable-output-escaping="no">$[first retrieve]</xsl:text>
          </first-retrieve>
          <max-retrieve>
            <xsl:text disable-output-escaping="no">$[max retrieve]</xsl:text>
          </max-retrieve>
          <sort-order>
            <items>
              <attribute-name>
                <xsl:text disable-output-escaping="no">$[sort by]</xsl:text>
              </attribute-name>
              <sort-order>
                <xsl:text disable-output-escaping="no">$[sort order]</xsl:text>
              </sort-order>
            </items>
          </sort-order>
          <a-dataset-id>
            <xsl:text disable-output-escaping="no">$[datasetid]</xsl:text>
          </a-dataset-id>
          <a-get-mask>
            <xsl:text disable-output-escaping="no">$[mask]</xsl:text>
          </a-get-mask>
        </parameters>
      </item>
    </items>
  </xsl:template>
</xsl:stylesheet>]]></stylesheet>
                            </xslt-stylesheet>
                          </assignment>
                          <meta>
                            <documentation />
                            <checkpoint>false</checkpoint>
                          </meta>
                          <location>:switch[1]:sequence[2]:switch[1]:sequence[4]:switch[1]:sequence[2]:assign[1]</location>
                        </assign>
                      </sequence>
                    </case>
                    <location>:switch[1]:sequence[2]:switch[1]:sequence[4]:switch[1]</location>
                  </switch>
                  <call-process>
                    <process-name>:AutoPilot-AD-BMC_Atrium_CMDB:Find Items</process-name>
                    <parameters>
                      <input>
                        <from>adapter</from>
                        <to>adapter name</to>
                      </input>
                      <input>
                        <from>version</from>
                        <to>version</to>
                      </input>
                      <input>
                        <from>items</from>
                        <to>items</to>
                      </input>
                      <input>
                        <value>configurationitem</value>
                        <to>item type</to>
                      </input>
                      <output>
                        <from>adapter response</from>
                        <to>adapter response</to>
                      </output>
                    </parameters>
                    <meta>
                      <documentation />
                      <run-mode-handling>
                        <run-mode>OCP</run-mode>
                        <allow-step-into>false</allow-step-into>
                      </run-mode-handling>
                      <checkpoint>false</checkpoint>
                    </meta>
                    <location>:switch[1]:sequence[2]:switch[1]:sequence[4]:call-process[1]</location>
                  </call-process>
                  <assign>
                    <assignment>
                      <document>
                        <input>
                          <from>adapter response</from>
                        </input>
                      </document>
                      <result>
                        <output>
                          <to>entry count</to>
                        </output>
                      </result>
                      <xpath-expression>
                        <xpath-replacement-tokens />
                        <xpath><![CDATA[//metadata/item-count/text()]]></xpath>
                      </xpath-expression>
                    </assignment>
                    <meta>
                      <documentation />
                      <checkpoint>false</checkpoint>
                    </meta>
                    <location>:switch[1]:sequence[2]:switch[1]:sequence[4]:assign[2]</location>
                  </assign>
                  <switch>
                    <meta>
                      <documentation />
                      <run-mode-handling>
                        <run-mode>OCP</run-mode>
                        <allow-step-into>true</allow-step-into>
                      </run-mode-handling>
                      <checkpoint>false</checkpoint>
                    </meta>
                    <execute-all-applicable-cases>false</execute-all-applicable-cases>
                    <default>
                      <sequence>
                        <assign>
                          <assignment>
                            <output>
                              <to>success status</to>
                              <value>failure</value>
                            </output>
                          </assignment>
                          <assignment>
                            <document>
                              <input>
                                <from>value 1</from>
                              </input>
                            </document>
                            <result>
                              <output>
                                <to>status message</to>
                              </output>
                            </result>
                            <xpath-expression>
                              <xpath-replacement-tokens />
                              <xpath><![CDATA[concat("The process failed for ", .)]]></xpath>
                            </xpath-expression>
                          </assignment>
                          <meta>
                            <documentation />
                            <checkpoint>false</checkpoint>
                          </meta>
                          <location>:switch[1]:sequence[2]:switch[1]:sequence[4]:switch[2]:sequence[1]:assign[1]</location>
                        </assign>
                      </sequence>
                    </default>
                    <case>
                      <condition>
                        <document>
                          <input>
                            <from>entry count</from>
                          </input>
                        </document>
                        <xpath-expression>
                          <xpath-replacement-tokens />
                          <xpath><![CDATA[number(.)>0]]></xpath>
                        </xpath-expression>
                      </condition>
                      <sequence>
                        <call-process>
                          <process-name>:AutoPilot-OA-Common_Utilities:Translate Source to Concept CMDB</process-name>
                          <parameters>
                            <input>
                              <from>adapter response</from>
                              <to>source data</to>
                              <xpath-expression>
                                <xpath-replacement-tokens />
                                <xpath><![CDATA[//instance-info]]></xpath>
                              </xpath-expression>
                            </input>
                            <input>
                              <from>query mappings</from>
                              <to>context to target mapping</to>
                            </input>
                            <input>
                              <from>concept template</from>
                              <to>collection template</to>
                            </input>
                            <output>
                              <from>items</from>
                              <to>configuration items</to>
                            </output>
                          </parameters>
                          <meta>
                            <documentation />
                            <run-mode-handling>
                              <run-mode>OCP</run-mode>
                              <allow-step-into>false</allow-step-into>
                            </run-mode-handling>
                            <checkpoint>false</checkpoint>
                          </meta>
                          <location>:switch[1]:sequence[2]:switch[1]:sequence[4]:switch[2]:sequence[2]:call-process[1]</location>
                        </call-process>
                        <assign>
                          <assignment>
                            <output>
                              <to>success status</to>
                              <value>success</value>
                            </output>
                          </assignment>
                          <assignment>
                            <document>
                              <input>
                                <from>value 1</from>
                              </input>
                            </document>
                            <result>
                              <output>
                                <to>status message</to>
                              </output>
                            </result>
                            <xpath-expression>
                              <xpath-replacement-tokens />
                              <xpath><![CDATA[concat("The process completed successfully for ", .)]]></xpath>
                            </xpath-expression>
                          </assignment>
                          <meta>
                            <documentation />
                            <checkpoint>false</checkpoint>
                          </meta>
                          <location>:switch[1]:sequence[2]:switch[1]:sequence[4]:switch[2]:sequence[2]:assign[1]</location>
                        </assign>
                      </sequence>
                    </case>
                    <location>:switch[1]:sequence[2]:switch[1]:sequence[4]:switch[2]</location>
                  </switch>
                </sequence>
              </case>
              <location>:switch[1]:sequence[2]:switch[1]</location>
            </switch>
          </sequence>
        </case>
        <location>:switch[1]</location>
      </switch>
    </sequence>
    <meta>
      <expose-to>
        <consumer>RULE</consumer>
        <consumer>SCHEDULE</consumer>
      </expose-to>
      <documentation>
        <description>This process will find configuration items for a given variable. Variables are the elements defined in the Configuration Management concept.
Remedy CMDB queries must be formed using application system source attribute names. eg Status, AccountID and SerialNumber.  Queries are formed by creating a regular expression using the attributes. eg. AccountID!=NULL.  </description>
        <version>1.0</version>
      </documentation>
      <peer-location>
        <location>any</location>
      </peer-location>
      <record-metrics>false</record-metrics>
      <process-id>095a270f-d6f1-3c9a-87e8-c3f0dad76d89</process-id>
      <author>admin</author>
      <category></category>
      <status></status>
      <keywords></keywords>
      <systems></systems>
      <last-modified-by>admin</last-modified-by>
      <last-modified>1414573817595</last-modified>
    </meta>
  </process-def>
</process>