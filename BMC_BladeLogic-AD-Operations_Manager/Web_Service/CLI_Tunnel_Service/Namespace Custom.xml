<process draft="false" dev-studio-version="7.7.02">
  <process-def name=":BMC_BladeLogic-AD-Operations_Manager:Web_Service:CLI_Tunnel_Service:Namespace Custom">
    <parameters>
      <input global="false" required="false">
        <description>The name of the adapter to be used by this process, as configured in Grid Manager. If the adapter name is not provided, then "BladeLogic Adapter" will be used.</description>
        <from>adapter name</from>
        <to>adapter name</to>
      </input>
      <input global="false" required="true">
        <description>Command to be invoked for Get namespace

E.g.

/group/Jobs/Workspace/NSH Script Jobs/sleep loop</description>
        <from>command</from>
        <to>command</to>
      </input>
      <input global="false" required="true">
        <description>Specifies the BladeLogic namespace in which to execute the command</description>
        <from>namespace</from>
        <to>namespace</to>
      </input>
      <input global="false" required="false">
        <description>Optional:: 

Specifies the user role for executing commands on the server hosting BMC Server Automation 

Use this element to override the &lt;default-user-role&gt; element in the adapter configuration.</description>
        <from>user role</from>
        <to>user role</to>
      </input>
      <input global="false" required="false">
        <description>Optional -- Contains the arguments for the BLCLI command 

Do not provide empty XML is therre is no argument required

One or more argument elements may be included in the request, as required by the BLCLI command.

E.g.

&lt;arguments&gt;
    &lt;argument&gt;192.168.0.10&lt;/argument&gt;
   &lt;/arguments&gt;
  &lt;/command&gt;</description>
        <from>arguments</from>
        <to>arguments</to>
      </input>
      <output global="false" required="false">
        <to>status</to>
        <from>success</from>
      </output>
      <output global="false" required="false">
        <to>return values</to>
        <from>values</from>
      </output>
      <output global="false" required="false">
        <to>error message</to>
        <from>error</from>
      </output>
      <output global="false" required="false">
        <to>debug messsage</to>
        <from>debug</from>
      </output>
      <output global="false" required="false">
        <to>output</to>
        <from>adapter response</from>
      </output>
      <output global="false" required="false">
        <to>script lines</to>
        <from>script lines</from>
      </output>
    </parameters>
    <access />
    <sequence>
      <switch>
        <meta>
          <documentation />
          <run-mode-handling>
            <run-mode>OCP</run-mode>
            <allow-step-into>true</allow-step-into>
          </run-mode-handling>
          <checkpoint>false</checkpoint>
        </meta>
        <execute-all-applicable-cases>false</execute-all-applicable-cases>
        <default>
          <sequence>
            <assign>
              <assignment>
                <input>
                  <from>adapter name</from>
                </input>
                <output>
                  <to>adapter name</to>
                </output>
              </assignment>
              <meta>
                <documentation />
                <checkpoint>false</checkpoint>
              </meta>
              <location>:switch[1]:sequence[1]:assign[1]</location>
            </assign>
          </sequence>
        </default>
        <case>
          <condition>
            <document>
              <input>
                <from>adapter name</from>
              </input>
            </document>
            <xpath-expression>
              <xpath-replacement-tokens />
              <xpath><![CDATA[string-length(.)=0]]></xpath>
            </xpath-expression>
          </condition>
          <sequence>
            <assign>
              <assignment>
                <output>
                  <to>adapter name</to>
                  <value>BladeLogic Adapter</value>
                </output>
              </assignment>
              <meta>
                <documentation />
                <checkpoint>false</checkpoint>
              </meta>
              <location>:switch[1]:sequence[2]:assign[1]</location>
            </assign>
          </sequence>
        </case>
        <location>:switch[1]</location>
      </switch>
      <assign>
        <assignment>
          <input>
            <from>namespace</from>
          </input>
          <output>
            <to>namespace</to>
          </output>
        </assignment>
        <assignment>
          <document>
            <input>
              <from>command</from>
            </input>
          </document>
          <result>
            <output>
              <to>adapter request</to>
            </output>
          </result>
          <xslt-stylesheet>
            <stylesheet-replacement-tokens>
              <replacement-token name="user role">
                <input global="false">
                  <from>user role</from>
                </input>
              </replacement-token>
              <replacement-token name="namespace">
                <input global="false">
                  <from>namespace</from>
                </input>
              </replacement-token>
              <replacement-token name="arguments">
                <input global="false">
                  <from>arguments</from>
                </input>
              </replacement-token>
              <replacement-token name="command">
                <input global="false">
                  <from>command</from>
                </input>
              </replacement-token>
            </stylesheet-replacement-tokens>
            <stylesheet><![CDATA[<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
  <xsl:output indent="no" />
  <xsl:template match="/">
    <request-data>
      <bladelogic-request>
        <request-data>
          <command executable-type="cli">
            <namespace>
              <xsl:text disable-output-escaping="no">${namespace}</xsl:text>
            </namespace>
            <command-name>$[command]</command-name>
            ${arguments}
          </command>
          <xsl:if test="string-length('${user role}') != 0">
            <user-role>
              <xsl:text disable-output-escaping="no">$[user role]</xsl:text>
            </user-role>
          </xsl:if>
        </request-data>
      </bladelogic-request>
    </request-data>
  </xsl:template>
</xsl:stylesheet>]]></stylesheet>
          </xslt-stylesheet>
        </assignment>
        <meta>
          <documentation />
          <checkpoint>false</checkpoint>
        </meta>
        <after-execution>
          <log>
            <level>debug</level>
            <parameters>
              <input>
                <value>Adapter request</value>
              </input>
              <input>
                <from>adapter request</from>
              </input>
            </parameters>
          </log>
        </after-execution>
        <location>:assign[1]</location>
      </assign>
      <call-adapter>
        <parameters>
          <input global="false">
            <from>adapter name</from>
          </input>
          <input>
            <value>
              <adapter-request>
                <peer-location>
                  <location>any</location>
                </peer-location>
              </adapter-request>
            </value>
          </input>
          <input global="false">
            <from>adapter request</from>
          </input>
          <input global="false">
            <from>adapter request</from>
          </input>
          <output global="false">
            <to>adapter response</to>
          </output>
        </parameters>
        <meta>
          <documentation />
          <checkpoint>false</checkpoint>
        </meta>
        <after-execution>
          <log>
            <level>debug</level>
            <parameters>
              <input>
                <value>Adapter response</value>
              </input>
              <input>
                <from>adapter response</from>
              </input>
            </parameters>
          </log>
        </after-execution>
        <location>:call-adapter[1]</location>
      </call-adapter>
      <call-process>
        <process-name>:BMC_BladeLogic-AD-Operations_Manager:Utilities:Parse Output</process-name>
        <parameters>
          <input>
            <from>adapter response</from>
            <to>script lines</to>
          </input>
          <output>
            <from>success</from>
            <to>success</to>
          </output>
          <output>
            <from>debug</from>
            <to>debug</to>
          </output>
          <output>
            <from>error</from>
            <to>error</to>
          </output>
          <output>
            <from>values</from>
            <to>values</to>
          </output>
          <output>
            <from>script lines</from>
            <to>script lines</to>
          </output>
        </parameters>
        <meta>
          <documentation />
          <run-mode-handling>
            <run-mode>OCP</run-mode>
            <allow-step-into>false</allow-step-into>
          </run-mode-handling>
          <checkpoint>false</checkpoint>
        </meta>
        <location>:call-process[1]</location>
      </call-process>
    </sequence>
    <meta>
      <expose-to>
        <consumer>RULE</consumer>
        <consumer>SCHEDULE</consumer>
      </expose-to>
      <documentation>
        <description></description>
        <version></version>
      </documentation>
      <peer-location>
        <location>any</location>
      </peer-location>
      <record-metrics>false</record-metrics>
      <process-id>a11b6185-5b8d-464d-8a0e-adb138db6b36</process-id>
      <author>aoadmin</author>
      <category></category>
      <status></status>
      <keywords></keywords>
      <systems></systems>
      <last-modified-by>aoadmin</last-modified-by>
      <last-modified>1521786472269</last-modified>
    </meta>
  </process-def>
</process>