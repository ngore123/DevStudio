<process draft="false" dev-studio-version="7.6.03">
  <process-def name=":AO-AD-BMC_Mainview_AutoOperator:v7.3:Send Event">
    <parameters>
      <input global="false" required="false">
        <description>not required if the adapter is enabled using the default adapter name i.e. MVAutoOperatorAdapter </description>
        <from>adapter name</from>
        <to>adapter name</to>
      </input>
      <input global="false" required="false">
        <description>The cell name where the events are reported on MainView AutoOperator, the name of the cell must match with one of the cells specified in mcell.dir specified in adapter configuration.
If not provided in request, then the request executes with cell name specified in adapter configuration</description>
        <from>cell name</from>
        <to>cell name</to>
      </input>
      <input global="false" required="false">
        <description>The Event Class Name where the events are reported on MainView AutoOperator . E.g. BAO_EVENT, MV_EVENT etc. if not provided in request, then the request executes with Event Class Name specified in adapter configuration.

Default Value is "EVENT" if not specified both in Adapter request and Configuration.   
</description>
        <from>event class name</from>
        <to>event class name</to>
      </input>
      <input global="false" required="false">
        <description>The user name used for authentication </description>
        <from>user name</from>
        <to>user name</to>
      </input>
      <input global="false" required="true">
        <description>list of slots that needs to be updated for this operation 

items
The items XML that will be used to send the event.
Sample:


&lt;items&gt;
&lt;item&gt;
&lt;slot-values&gt;
                        &lt;slot name="severity"&gt;MAJOR&lt;/slot&gt;
                        &lt;slot name="mc_priority"&gt;"PRIORITY_2"&lt;/slot&gt;
                        &lt;slot name="msg"&gt;An example message -- Deepak ---- 4&lt;/slot&gt;
                        &lt;slot name="class_name"&gt;MV_EVENT&lt;/slot&gt;
                    &lt;/slot-values&gt;
&lt;/item&gt;
&lt;/items&gt;</description>
        <from>slots</from>
        <to>slots</to>
      </input>
      <output global="false" required="false">
        <to>adapter response</to>
        <from>adapter response</from>
      </output>
    </parameters>
    <access />
    <sequence>
      <call-process>
        <process-name>:AO-AD-BMC_Mainview_AutoOperator:Utilities:Set Default Adapter Name</process-name>
        <unique-id>7fbf997a-0fe2-4443-b3c2-300a0fb09ee1</unique-id>
        <parameters>
          <input>
            <from>adapter name</from>
            <to>adapter name</to>
          </input>
          <output>
            <from>adapter name</from>
            <to>adapter name</to>
          </output>
        </parameters>
        <meta>
          <documentation />
          <run-mode-handling>
            <run-mode>OCP</run-mode>
            <allow-step-into>false</allow-step-into>
          </run-mode-handling>
          <checkpoint>false</checkpoint>
        </meta>
        <location>:call-process[1]</location>
      </call-process>
      <assign>
        <assignment>
          <document>
            <input>
              <from>slots</from>
            </input>
          </document>
          <result>
            <output>
              <to>adapter request</to>
            </output>
          </result>
          <xslt-stylesheet>
            <stylesheet-replacement-tokens>
              <replacement-token name="cell name">
                <input global="false">
                  <from>cell name</from>
                </input>
              </replacement-token>
              <replacement-token name="user name">
                <input global="false">
                  <from>user name</from>
                </input>
              </replacement-token>
              <replacement-token name="event class name">
                <input global="false">
                  <from>event class name</from>
                </input>
              </replacement-token>
            </stylesheet-replacement-tokens>
            <stylesheet><![CDATA[<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
  <xsl:output indent="no" />
  <xsl:template match="/">
    <request-data>
      <mv-ao-request>
        <send-events>
          <send-event>
            <cell-name>${cell name}</cell-name>
            <event-class-name>${event class name}</event-class-name>
            <xsl:if test="string-length('${user name}')!=0">
              <user-name>${user name}</user-name>
            </xsl:if>
            <xsl:if test="//items/item/slot-values">
              <slot-values>
                <xsl:copy-of select="//items/item/slot-values/*" />
              </slot-values>
            </xsl:if>
          </send-event>
        </send-events>
      </mv-ao-request>
    </request-data>
  </xsl:template>
</xsl:stylesheet>]]></stylesheet>
          </xslt-stylesheet>
        </assignment>
        <meta>
          <documentation />
          <checkpoint>false</checkpoint>
        </meta>
        <after-execution>
          <log>
            <level>debug</level>
            <parameters>
              <input>
                <value>################################ Adapter request######################################</value>
              </input>
              <input>
                <from>adapter request</from>
              </input>
            </parameters>
          </log>
        </after-execution>
        <location>:assign[1]</location>
      </assign>
      <call-adapter>
        <parameters>
          <input global="false">
            <from>adapter name</from>
          </input>
          <input>
            <value>
              <adapter-request>
                <peer-location>
                  <location>any</location>
                </peer-location>
                <request-action>send-event</request-action>
              </adapter-request>
            </value>
          </input>
          <input global="false">
            <from>adapter request</from>
          </input>
          <input global="false">
            <from>adapter request</from>
          </input>
          <output global="false">
            <to>adapter response</to>
          </output>
        </parameters>
        <meta>
          <documentation />
          <checkpoint>false</checkpoint>
        </meta>
        <after-execution>
          <log>
            <level>debug</level>
            <parameters>
              <input>
                <value>####################### Adapter Response #############################</value>
              </input>
              <input>
                <from>adapter response</from>
              </input>
            </parameters>
          </log>
        </after-execution>
        <location>:call-adapter[1]</location>
      </call-adapter>
    </sequence>
    <meta>
      <expose-to>
        <consumer>RULE</consumer>
        <consumer>SCHEDULE</consumer>
      </expose-to>
      <documentation>
        <description></description>
        <version></version>
      </documentation>
      <peer-location>
        <location>any</location>
      </peer-location>
      <record-metrics>false</record-metrics>
      <process-id>12c81685-b76b-4fa7-a9cf-f1e056144a28</process-id>
      <author>admin</author>
      <category></category>
      <status></status>
      <keywords></keywords>
      <systems></systems>
      <last-modified-by>admin</last-modified-by>
      <last-modified>1393601669194</last-modified>
    </meta>
  </process-def>
</process>