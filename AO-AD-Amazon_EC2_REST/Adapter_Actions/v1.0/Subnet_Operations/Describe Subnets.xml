<process draft="false" dev-studio-version="20.02.00">
  <process-def name=":AO-AD-Amazon_EC2_REST:Adapter_Actions:v1.0:Subnet_Operations:Describe Subnets">
    <parameters>
      <input global="false" required="false">
        <description>adapter name    [Optional]
            The name of the adapter use to handle the request.

Default value: AmazonEC2RESTActorAdapter</description>
        <from>adapter name</from>
        <to>adapter name</to>
      </input>
      <input global="false" required="false">
        <description>access key    [Optional]
	The AWS access key.</description>
        <from>access key</from>
        <to>access key</to>
      </input>
      <input global="false" required="false">
        <description>secret key    [Optional]
	The AWS secret access key.</description>
        <from>secret key</from>
        <to>secret key</to>
      </input>
      <input global="false" required="false">
        <description>session token [Optional] : The AWS session token which is generally created for temporary access to users for role based authorization.

Please Note: The temporary access key , secret key and session token to be generated by the user to provide in adapter request.

Please refer below AWS docs for more details

https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_temp_request.html  

https://docs.aws.amazon.com/cli/latest/reference/sts/assume-role.html
</description>
        <from>session token</from>
        <to>session token</to>
      </input>
      <input global="false" required="false">
        <description>region    [Optional]
		The region to communicate with.</description>
        <from>region</from>
        <to>region</to>
      </input>
      <input global="false" required="false">
        <description>subnet set [Optional]

A list of subnets. Each subnet's information is wrapped in an item element.

&lt;subnet-set&gt;
    &lt;!--Zero or more repetition--&gt;
    &lt;item&gt;
        &lt;subnet-id&gt;&lt;/subnet-id&gt;
    &lt;/item&gt;
&lt;/subnet-set&gt;</description>
        <from>subnet set</from>
        <to>subnet set</to>
      </input>
      <input global="false" required="false">
        <description>filter set [Optional]

Details of the filter with filter-name and filter-value to retrieve corresponding subnets.

Sample Value:

&lt;filter-set&gt;
    &lt;!--Zero or more repetition--&gt;
    &lt;item&gt;
        &lt;name&gt;vpc-id&lt;/name&gt;
        &lt;value-set&gt;
            &lt;!--Zero or more repetition--&gt;
            &lt;item&gt;
                &lt;value&gt;vpc-915867f8&lt;/value&gt;
            &lt;/item&gt;
        &lt;/value-set&gt;
    &lt;/item&gt;
&lt;/filter-set&gt;

The following are the available filters.

availability-zone (Type: String)
    The Availability Zone for the subnet.

available-ip-address-count (Type: String)
	The number of IP addresses in the subnet that are available.

cidr (Type: String)
	The CIDR block of the subnet. The CIDR block you specify must exactly match the subnet's CIDR block for information to be returned for the subnet.

    Constraints: Must contain the slash followed by one or two digits (for example, /28).
	
defaultForAz (Type: Boolean)
	Indicates whether this is the default subnet for the Availability Zone.
    
state (Type: String)
	The state of the subnet.
    Valid values: pending | available

subnet-id (Type: String)
	The ID of the subnet.
    
tag-key (Type: String)

    The key of a tag assigned to the resource. This filter is independent of the tag-value filter. For example, if you use both the filter "tag-key=Purpose" and the filter "tag-value=X", you get any resources assigned both the tag key Purpose (regardless of what the tag's value is), and the tag value X (regardless of what the tag's key is). If you want to list only resources where Purpose is X, see the tag:key=value filter.

tag-value (Type: String)
	The value of a tag assigned to the resource. This filter is independent of the tag-key filter.

    
tag:key=value (Type: String)

    The key/value combination of a tag assigned to the resource.

    Example: To list the resources with the tag Purpose=X, use:
    --filter tag:Purpose=X

    Example: To list resources with the tag Purpose=X or the tag Purpose=Y, use:
    --filter tag:Purpose=X --filter tag:Purpose=Y

vpc-id (Type: String)
    The ID of the VPC for the subnet.
</description>
        <from>filter set</from>
        <to>filter set</to>
      </input>
      <output global="false" required="false">
        <description>The adapter response containing the results. </description>
        <to>adapter response</to>
        <from>adapter response</from>
      </output>
    </parameters>
    <access />
    <sequence>
      <call-process>
        <process-name>:AO-AD-Amazon_EC2_REST:Utilities:Subnet_Operations:Construct Request for Describe Subnets</process-name>
        <parameters>
          <input>
            <from>access key</from>
            <to>access key</to>
          </input>
          <input>
            <from>secret key</from>
            <to>secret key</to>
          </input>
          <input>
            <from>session token</from>
            <to>session token</to>
          </input>
          <input>
            <from>region</from>
            <to>region</to>
          </input>
          <input>
            <from>subnet set</from>
            <to>subnet set</to>
          </input>
          <input>
            <from>filter set</from>
            <to>filter set</to>
          </input>
          <output>
            <from>adapter request</from>
            <to>adapter request</to>
          </output>
        </parameters>
        <meta>
          <documentation />
          <run-mode-handling>
            <run-mode>OCP</run-mode>
            <allow-step-into>false</allow-step-into>
          </run-mode-handling>
          <checkpoint>false</checkpoint>
        </meta>
        <location>:call-process[1]</location>
      </call-process>
      <call-process>
        <process-name>:AO-AD-Amazon_EC2_REST:Utilities:Call Amazon EC2 Adapter</process-name>
        <unique-id>9059c308-39fc-3695-a5b3-24f374d1da7b</unique-id>
        <parameters>
          <input>
            <from>adapter name</from>
            <to>adapter name</to>
          </input>
          <input>
            <from>adapter request</from>
            <to>adapter request</to>
          </input>
          <output>
            <from>adapter response</from>
            <to>adapter response</to>
          </output>
        </parameters>
        <meta>
          <documentation />
          <run-mode-handling>
            <run-mode>OCP</run-mode>
            <allow-step-into>false</allow-step-into>
          </run-mode-handling>
          <checkpoint>false</checkpoint>
        </meta>
        <location>:call-process[2]</location>
      </call-process>
    </sequence>
    <meta>
      <expose-to>
        <consumer>RULE</consumer>
        <consumer>SCHEDULE</consumer>
      </expose-to>
      <documentation>
        <description>Gives you information about your subnets. You can filter the results to return information only about subnets that match criteria you specify. For example, you could get information only about subnets whose state is available. You can specify multiple values for the filter. The subnet must match at least one of the specified values for it to be included in the results.

You can specify multiple filters (e.g., the subnet is in a particular VPC, and the subnet's state is available). The result includes information for a particular subnet only if it matches all your filters. If there's no match, no special message is returned; the response is simply empty.

You can use wildcards with the filter values: * matches zero or more characters, and ? matches exactly one character. You can escape special characters using a backslash before the character. For example, a value of \*amazon\?\\ searches for the literal string *amazon?\.</description>
        <version>1.0</version>
      </documentation>
      <logging-options>
        <is-enabled>false</is-enabled>
        <log-file-name></log-file-name>
      </logging-options>
      <peer-location>
        <location>any</location>
      </peer-location>
      <record-metrics>false</record-metrics>
      <process-id>e0657017-ef19-4bff-a45a-efcb127ceaf5</process-id>
      <author>admin</author>
      <category></category>
      <status></status>
      <keywords></keywords>
      <systems></systems>
      <last-modified-by>aoadmin</last-modified-by>
      <last-modified>1609915844497</last-modified>
    </meta>
  </process-def>
</process>