<process draft="false" dev-studio-version="20.02.00">
  <process-def name=":AO-AD-Amazon_EC2_REST:Adapter_Actions:v1.0:Elastic_IP_Address_Operations:Associate Address">
    <parameters>
      <input global="false" required="false">
        <description>adapter name    [Optional]
            The name of the adapter use to handle the request.

Default value: AmazonEC2RESTActorAdapter</description>
        <from>adapter name</from>
        <to>adapter name</to>
      </input>
      <input global="false" required="false">
        <description>access key    [Optional]
	The AWS access key.</description>
        <from>access key</from>
        <to>access key</to>
      </input>
      <input global="false" required="false">
        <description>secret key    [Optional]
	The AWS secret access key.</description>
        <from>secret key</from>
        <to>secret key</to>
      </input>
      <input global="false" required="false">
        <description>session token [Optional] : The AWS session token which is generally created for temporary access to users for role based authorization.

Please Note: The temporary access key , secret key and session token to be generated by the user to provide in adapter request.

Please refer below AWS docs for more details

https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_temp_request.html  

https://docs.aws.amazon.com/cli/latest/reference/sts/assume-role.html
</description>
        <from>session token</from>
        <to>session token</to>
      </input>
      <input global="false" required="false">
        <description>region    [Optional]
		 The region to communicate with.</description>
        <from>region</from>
        <to>region</to>
      </input>
      <input global="false" required="false">
        <description>public ip [Conditional]

The Elastic IP address to be assigned to the specified instance.

Condition: Required for Elastic IP addresses to be associated with instances in EC2-Classic.</description>
        <from>public ip</from>
        <to>public ip</to>
      </input>
      <input global="false" required="false">
        <description>instance id [Conditional]

The instance to associate with the IP address.

Condition: Required for EC2-Classic. For a VPC, you can specify either InstanceID or NetworkInterfaceID, but not both.</description>
        <from>instance id</from>
        <to>instance id</to>
      </input>
      <input global="false" required="false">
        <description>allocation id [Conditional]

The allocation ID that AWS returned when you allocated the elastic IP address for use with Amazon VPC.

Condition: Required for EC2-VPC</description>
        <from>allocation id</from>
        <to>allocation id</to>
      </input>
      <input global="false" required="false">
        <description>allow reassociation [Optional] 

Allows an Elastic IP address that is already associated with an instance or network interface to be re-associated with the specified instance or network interface.

Valid Values: true, false (default)

Note: Valid for EC2-VPC only</description>
        <from>allow reassociation</from>
        <to>allow reassociation</to>
      </input>
      <input global="false" required="false">
        <description>network interface id [Conditional]

The Network Interface Id to which this IP address needs to be associated.

Condition: Required when the specified instance has more than one network interface.

Note: Valid for EC2-VPC only</description>
        <from>network interface id</from>
        <to>network interface id</to>
      </input>
      <input global="false" required="false">
        <description>private ip [Optional]

The primary or secondary private IP address to associate with the Elastic IP address. If no private IP address is specified, the Elastic IP address is associated with the primary private IP address.

Note: Valid for EC2-VPC only</description>
        <from>private ip</from>
        <to>private ip</to>
      </input>
      <output global="false" required="false">
        <description>The adapter response containing the results. </description>
        <to>adapter response</to>
        <from>adapter response</from>
      </output>
    </parameters>
    <access />
    <sequence>
      <call-process>
        <process-name>:AO-AD-Amazon_EC2_REST:Utilities:Elastic_IP_Address_Operations:Construct Request for Associate Address</process-name>
        <parameters>
          <input>
            <from>access key</from>
            <to>access key</to>
          </input>
          <input>
            <from>secret key</from>
            <to>secret key</to>
          </input>
          <input>
            <from>session token</from>
            <to>session token</to>
          </input>
          <input>
            <from>region</from>
            <to>region</to>
          </input>
          <input>
            <from>public ip</from>
            <to>public ip</to>
          </input>
          <input>
            <from>instance id</from>
            <to>instance id</to>
          </input>
          <input>
            <from>allocation id</from>
            <to>allocation id</to>
          </input>
          <input>
            <from>allow reassociation</from>
            <to>allow reassociation</to>
          </input>
          <input>
            <from>network interface id</from>
            <to>network interface id</to>
          </input>
          <input>
            <from>private ip</from>
            <to>private ip</to>
          </input>
          <output>
            <from>adapter request</from>
            <to>adapter request</to>
          </output>
        </parameters>
        <meta>
          <documentation />
          <run-mode-handling>
            <run-mode>OCP</run-mode>
            <allow-step-into>false</allow-step-into>
          </run-mode-handling>
          <checkpoint>false</checkpoint>
        </meta>
        <location>:call-process[1]</location>
      </call-process>
      <call-process>
        <process-name>:AO-AD-Amazon_EC2_REST:Utilities:Call Amazon EC2 Adapter</process-name>
        <unique-id>9059c308-39fc-3695-a5b3-24f374d1da7b</unique-id>
        <parameters>
          <input>
            <from>adapter name</from>
            <to>adapter name</to>
          </input>
          <input>
            <from>adapter request</from>
            <to>adapter request</to>
          </input>
          <output>
            <from>adapter response</from>
            <to>adapter response</to>
          </output>
        </parameters>
        <meta>
          <documentation />
          <run-mode-handling>
            <run-mode>OCP</run-mode>
            <allow-step-into>false</allow-step-into>
          </run-mode-handling>
          <checkpoint>false</checkpoint>
        </meta>
        <location>:call-process[2]</location>
      </call-process>
    </sequence>
    <meta>
      <expose-to>
        <consumer>RULE</consumer>
        <consumer>SCHEDULE</consumer>
      </expose-to>
      <documentation>
        <description>Associates an elastic IP address with an instance. If the IP address is currently assigned to another
instance, the IP address is assigned to the new instance. This is an idempotent operation. If you enter
it more than once, Amazon EC2 does not return an error.</description>
        <version>1.0</version>
      </documentation>
      <logging-options>
        <is-enabled>false</is-enabled>
        <log-file-name></log-file-name>
      </logging-options>
      <peer-location>
        <location>any</location>
      </peer-location>
      <record-metrics>false</record-metrics>
      <process-id>f876cd2a-3fa2-37a2-bd39-9290795c2690</process-id>
      <author>admin</author>
      <category></category>
      <status></status>
      <keywords></keywords>
      <systems></systems>
      <last-modified-by>aoadmin</last-modified-by>
      <last-modified>1609915435043</last-modified>
    </meta>
  </process-def>
</process>