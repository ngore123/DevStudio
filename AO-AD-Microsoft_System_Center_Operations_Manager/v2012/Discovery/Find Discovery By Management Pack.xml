<process draft="false" dev-studio-version="7.6.03">
  <process-def name=":AO-AD-Microsoft_System_Center_Operations_Manager:v2012:Discovery:Find Discovery By Management Pack">
    <parameters>
      <input global="false" required="false">
        <description>adapter name [Optional]
The name of the adapter which is enabled on the Peer.
The default adapter name is SCOMActor</description>
        <from>adapter name</from>
        <to>adapter name</to>
      </input>
      <input global="false" required="true">
        <description>This wrapper returns all the available discoveries matching the specified management pack.

Sample Item XML:

&lt;items&gt;
   &lt;item&gt;
      &lt;command-parameters&gt;
         &lt;managementpack&gt;
	       &lt;filters&gt;
		     	&lt;filter&gt;
			   &lt;managementpack-prop-key&gt;DisplayName&lt;/managementpack-prop-key&gt;
			   &lt;managementpack-prop-val&gt;Default Management Pack&lt;/managementpack-prop-val&gt;
			   &lt;operand&gt;equals&lt;/operand&gt;
			&lt;/filter&gt;
		 &lt;/filters&gt;
	   &lt;/managementpack&gt;
	&lt;/command-parameters&gt;
   &lt;/item&gt;
&lt;/items&gt;

Parameter Description:


timeout-secs[Optional]
	Time in seconds after which the request will time-out of not completed. Default is: 60 secs

command-parameters[Required]
	This is the parent tag that contains actual parameters required to execute this particular operation.

managementpack [Required]
	This is the parent element to specify a managament pack.
	
filters[Required]
	This is the parent tag that contains all the filter criteria.

The following tags are required if 'filters' tag is provided by user
filter[Required]
	This tag contains a particular filter criteria. More than one filter tags can be provided. All the filter criteria will be ANDED to get the final result.

managementpack-prop-key[Required]
	This tag contains the name of the property of the management pack based on which the management pack would be searched and the discoveries would be filtered.
	
managementpack-prop-val[Required]
	This tag contains the value of the property specified in management-pack-prop-key. Please refer to 'Regular Expressions Guide.doc' for more details. Texts like true or false should be enclosed in single quotes if they are to be treated as String rather than as Boolean entities.


operand[Optional]
	This tag specifies the operation that will be applied between 'discovery-prop-key' and 'discovery-prop-val'.Please refer to 'Filter Operators Guide.doc' for more details.
Valid values - equals, not equals, matches

NOTE: For more detail on how to write a filter value expression and on how to use a particular operand with the corresponding filter value expression refer to 'Filter Operators Guide.doc'

NOTE: There are a few discrepancies in the naming between SCOM application and API.
		 1. In the SCOM application, the value provided in Name is actually mapped to 'DisplayName' attribute of discovery entity in SCOM API.</description>
        <from>items</from>
        <to>items</to>
      </input>
      <output global="false" required="false">
        <to>adapter response</to>
        <from>adapter response</from>
      </output>
    </parameters>
    <access />
    <sequence>
      <call-process>
        <process-name>:AO-AD-Microsoft_System_Center_Operations_Manager:Utilities:Execute Adapter Request 2012</process-name>
        <parameters>
          <input>
            <from>adapter name</from>
            <to>adapter name</to>
          </input>
          <input>
            <from>items</from>
            <to>items</to>
          </input>
          <input>
            <value>Get-SCOMDiscovery</value>
            <to>operation name</to>
          </input>
          <output>
            <from>adapter response</from>
            <to>adapter response</to>
          </output>
        </parameters>
        <meta>
          <documentation />
          <run-mode-handling>
            <run-mode>OCP</run-mode>
            <allow-step-into>false</allow-step-into>
          </run-mode-handling>
          <checkpoint>false</checkpoint>
        </meta>
        <location>:call-process[1]</location>
      </call-process>
    </sequence>
    <meta>
      <expose-to>
        <consumer>RULE</consumer>
        <consumer>SCHEDULE</consumer>
      </expose-to>
      <documentation>
        <description></description>
        <version></version>
      </documentation>
      <peer-location>
        <location>any</location>
      </peer-location>
      <record-metrics>false</record-metrics>
      <process-id>47ef7986-d3bb-43a5-8ae0-cd80cda51ca8</process-id>
      <author>admin</author>
      <category></category>
      <status></status>
      <keywords></keywords>
      <systems></systems>
      <last-modified-by>admin</last-modified-by>
      <last-modified>1483348256957</last-modified>
    </meta>
  </process-def>
</process>