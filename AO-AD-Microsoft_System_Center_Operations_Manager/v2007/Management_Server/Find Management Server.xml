<process draft="false" dev-studio-version="7.6.01.02">
  <process-def name=":AO-AD-Microsoft_System_Center_Operations_Manager:v2007:Management_Server:Find Management Server">
    <parameters>
      <input global="false" required="false">
        <description>adapter name [Optional]
The name of the adapter that is enabled on the Peer.
The default adapter name is SCOMActor</description>
        <from>adapter name</from>
        <to>adapter name</to>
      </input>
      <input global="false" required="true">
        <description>This wrapper returns the details of the management server.

Sample Item XML:

&lt;items&gt;
  &lt;item&gt;
  &lt;operation-name&gt;get-managementserver&lt;/operation-name&gt;
  &lt;timeout-secs&gt;120&lt;/timeout-secs&gt;
&lt;command-parameters&gt;
&lt;filters&gt;
	&lt;filter&gt;
		&lt;managementserver-prop-key&gt;Name&lt;/managementserver-prop-key&gt;
		&lt;managementserver-prop-val&gt;win2stdvm.synapse.com&lt;/managementserver-prop-val&gt;
		&lt;operand&gt;equals&lt;/operand&gt;
	&lt;/filter&gt;
&lt;/filters&gt;
&lt;/command-parameters&gt;
  &lt;/item&gt;
&lt;/items&gt;

Parameter Description:

operation-name[Required]
	Operation that will be executed

timeout-secs[Optional]
	Time in seconds after which the request will time-out of not completed. Default is: 60 secs

command-parameters[Required]
	This is the parent tag that contains actual parameters required to execute this particular operation.

filters[Optional]
	This is the parent tag that contains all the filter criterias.

The following tags are required if 'filters' tag is provided by user
filter[Optional]
	This tag contains a particular filter criteria. More than one filter tags can be provided. All the filter criterias will be ANDED to get the final result.

managementserver-prop-key[Optional]
	This tag contains the name of the property of management server by which we want to filter the search.
	Valid values - Domain,ManagementGroupId,ProxyingEnabled,MaximumQueueSizeBytes,CommunicationPort,DisplayName,Version,RequestCompression,IsGateway,Id,Name,
HostComputer,IPAddress,Version,ManuallyInstalled,MaximumSizeOfAllTransferredFilesBytes,HostedHealthService,HealthState,PrincipalName,NetworkName,
ComputerName

managementserver-prop-val[Optional]
	This tag contains the value of the property specified in managementserver-prop-key. Please refer to 'Regular Expressions Guide.doc' for more details.

operand[Optional]
	This tag specifies the operation that will be applied between 'managementserver-prop-key' and 'managementserver-prop-key'.Please refer to 'Filter Operators Guide.doc' for more details.
Valid values - equals, not equals, matches

NOTE: For more detail on how to write a filter value expression and on how to use a particular operand with the corresponding filter value expression refer to 'Filter Operators Guide.doc'</description>
        <from>items</from>
        <to>items</to>
      </input>
      <output global="false" required="false">
        <to>adapter response</to>
        <from>adapter response</from>
      </output>
    </parameters>
    <access />
    <sequence>
      <call-process>
        <process-name>:AO-AD-Microsoft_System_Center_Operations_Manager:Utilities:Execute Request</process-name>
        <parameters>
          <input>
            <from>adapter name</from>
            <to>adapter name</to>
          </input>
          <input>
            <from>items</from>
            <to>items</to>
          </input>
          <input>
            <value>get-managementserver</value>
            <to>valid operation name</to>
          </input>
          <output>
            <from>adapter response</from>
            <to>adapter response</to>
          </output>
        </parameters>
        <meta>
          <documentation />
          <run-mode-handling>
            <run-mode>OCP</run-mode>
            <allow-step-into>false</allow-step-into>
          </run-mode-handling>
          <checkpoint>false</checkpoint>
        </meta>
        <location>:call-process[1]</location>
      </call-process>
    </sequence>
    <meta>
      <expose-to>
        <consumer>RULE</consumer>
        <consumer>SCHEDULE</consumer>
      </expose-to>
      <documentation>
        <description>This wrapper is used to gather information on one or more of the following items and output this information to a file or the console:

For Windows:

*  DSMOPTFILE - The contents of dsm.opt file.
*  ENV - Environment variables.
*  ERRORLOG - The Tivoli Storage Manager error log file.
*  FILE - Attributes for the file name that you specify.
*  FILESNOTTOBACKUP - Enumeration of Windows Registry key:
   HKEY_LOCAL_MACHINE\
      SYSTEM\
         CurrentControlSet\
            BackupRestore\
               FilesNotToBackup

   This key specifies those files that backup products should not back up. The query inclexcl command will indicate that these files are excluded per the operating system.
*  INCLEXCL - Compiles a list of include-exclude in the order in which they are processed during backup and archive operations.
*  KEYSNOTTORESTORE - Enumeration of Windows Registry key:
   HKEY_LOCAL_MACHINE\
      SYSTEM\
         ControlSet001\
            BackupRestore\
               KeysNotToRestore

   This key specifies those Windows Registry keys that backup products should not restore.
*  MSINFO - Windows system information (output from MSINFO32.EXE).
*  OPTIONS - Compiled options.
*  OSINFO - Name and version of the client operating system
*  POLICY - Policy set dump.
*  REGISTRY - Windows Tivoli Storage Manager-related Windows Registry entries.
*  SCHEDLOG - The contents of the Tivoli Storage Manager schedule log (usually dsmsched.log).
*  SFP - The list of files protected by Windows System File Protection, and for each file, indicates whether that file exists. These files are backed up as part of the SYSFILES
   system object.
*  SFP=&lt;filename&gt; - Indicates whether the specified file (filename) is protected by Windows System File Protection. For example:
   SFP=C:\WINNT\SYSTEM32\MSVCRT.DLL

*  SYSTEMOBJECT - Windows system object information.
*  CLUSTER - Windows cluster information.
*  ENCRYPT - Available encryption methods.

For Unix:

*  DB2UDB -DATABase=dbconfigname - Verifies that the Configuration Wizard successfully transferred the DB2 UDB, Tivoli Storage Manager, and storage subsystem settings to the master backup node. Replace dbconfigname with the DB2 UDB configuration name provided in the Configuration Wizard. Note that this item is         only valid for AIX when both the DB2 Integration Module and Hardware Devices Snapshot Integration Module are installed.
      *  DSMOPTFILE - The contents of dsm.opt file.
      *  DSMSYSFILE - The contents of the dsm.sys file.
      *  ENV - Environment variables.
      *  ERRORLOG - The Tivoli Storage Manager error log file.
      *  FILE - Attributes for the file name that you specify.
      *  INCLEXCL - Compiles a list of include-exclude in the order in which they are processed during backup and archive operations.
      *  OPTIONS - Compiled options.
      *  OSINFO - Name and version of the client operating system (includes ULIMIT information for UNIX).
      *  POLICY - Policy set dump.
      *  SCHEDLOG - The contents of the Tivoli Storage Manager schedule log (usually dsmsched.log).
      *  CLUSTER - AIX cluster information.
      *  ENCRYPT - Available encryption methods.</description>
        <version></version>
      </documentation>
      <peer-location>
        <location>any</location>
      </peer-location>
      <record-metrics>false</record-metrics>
      <process-id>2ce46748-158a-3d32-b0ed-b7ad36a4f56d</process-id>
      <author />
      <category />
      <status />
      <keywords />
      <systems />
      <last-modified-by />
      <last-modified>1290598730688</last-modified>
    </meta>
  </process-def>
</process>