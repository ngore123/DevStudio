<process draft="false" dev-studio-version="7.6.01.02">
  <process-def name=":AO-AD-Microsoft_System_Center_Operations_Manager:v2007:Management_Pack:Export Management Pack">
    <parameters>
      <input global="false" required="false">
        <description>adapter name [Optional]
The name of the adapter that is enabled on the Peer.
The default adapter name is SCOMActor</description>
        <from>adapter name</from>
        <to>adapter name</to>
      </input>
      <input global="false" required="true">
        <description>This wrapper exports management packs to a particular path.

Sample Item XMLs:

Format 1:

&lt;items&gt;
  &lt;item&gt;
  &lt;operation-name&gt;export-managementpack&lt;/operation-name&gt;
  &lt;timeout-secs&gt;120&lt;/timeout-secs&gt;
&lt;command-parameters&gt;
&lt;managementpack&gt;
&lt;filters&gt;
&lt;filter&gt;
&lt;managementpack-prop-key&gt;Sealed&lt;/managementpack-prop-key&gt;
&lt;managementpack-prop-val&gt;$false&lt;/managementpack-prop-val&gt;
&lt;operand&gt;equals&lt;/operand&gt;
&lt;/filter&gt;
&lt;/filters&gt;
&lt;/managementpack&gt;
&lt;export-path&gt;C:\packs&lt;/export-path&gt;
&lt;/command-parameters&gt;
  &lt;/item&gt;
&lt;/items&gt;

Format 2:

&lt;items&gt;
  &lt;item&gt;
  &lt;operation-name&gt;export-managementpack&lt;/operation-name&gt;
  &lt;timeout-secs&gt;120&lt;/timeout-secs&gt;
&lt;command-parameters&gt;
&lt;managementpack&gt;
&lt;managementpack-id&gt;66de9512-d446-f46b-bb85-197ec864f1f7&lt;/managementpack-id&gt;
&lt;/managementpack&gt;
&lt;export-path&gt;C:\packs&lt;/export-path&gt;
&lt;/command-parameters&gt;
  &lt;/item&gt;
&lt;/items&gt;

Format 3:

&lt;items&gt;
  &lt;item&gt;
  &lt;operation-name&gt;export-managementpack&lt;/operation-name&gt;
  &lt;timeout-secs&gt;120&lt;/timeout-secs&gt;
&lt;command-parameters&gt;
&lt;managementpack&gt;
&lt;managementpack-name&gt;Microsoft.Windows.Client.BusinessCritical&lt;/managementpack-name&gt;
&lt;/managementpack&gt;
&lt;export-path&gt;C:\packs&lt;/export-path&gt;
&lt;/command-parameters&gt;
  &lt;/item&gt;
&lt;/items&gt;

Parameters Description:

operation-name[Required]
	Operation that will be executed

timeout-secs[Optional]
	Time in seconds after which the request will time-out of not completed. Default is: 60 secs

command-parameters[Required]
	This is the parent tag that contains actual parameters required to execute this particular operation.

managementpack[Required]
	This tag contains the details of which management packs need to be imported.

NOTE: Whether the following tags are mandatory or not depends on which format is being used to export the management packs.

managementpack-name[Optional]
	The name of the management pack that will be exported by the wrapper. This tag is required if Format 3 is used.

managementpack-id[Optional]
	The id of the management pack that will be exported by the wrapper. This tag is required if Format 2 is used.

The following tags are required if Format 1 is used.
filters[Optional]
	This is the parent tag that contains all the filter criterias.

The following tags are required if 'filters' tag is provided by user
filter[Optional]
	This tag contains a particular filter criteria. More than one filter tags can be provided. All the filter criterias will be ANDED to get the final result.

managementpack-prop-key[Optional]
	This tag contains the name of the property of management pack by which we want to filter the search.
	Valid values - Name,KeyToken,Version,Id,VersionId,References,Sealed,ContentReadable,FriendlyName,DisplayName,Description,
DefaultLanguageCode,LockObject

managementpack-prop-val[Optional]
	This tag contains the value of the property specified in managementpack-prop-key. Please refer to 'Regular Expressions Guide.doc' for more details.

operand[Optional]
	This tag specifies the operation that will be applied between 'managementpack-prop-key' and 'managementpack-prop-val'.Please refer to 'Filter Operators Guide.doc' for more details.
Valid values - equals, not equals, matches

NOTE: For more detail on how to write a filter value expression and on how to use a particular operand with the corresponding filter value expression refer to 'Filter Operators Guide.doc'

export-path[Required]
	The path where management packs will be exported.

NOTE: There are a few discrepencies in the naming between SCOM application and API.
		 1. In the SCOM application, the value provided in ID is actually mapped to 'Name' attribute of management pack in SCOM API.
		 2. In the SCOM application, the value provided in Name is actually mapped to 'DisplayName' attribute of management pack in SCOM API.</description>
        <from>items</from>
        <to>items</to>
      </input>
      <output global="false" required="false">
        <to>adapter response</to>
        <from>adapter response</from>
      </output>
    </parameters>
    <access />
    <sequence>
      <call-process>
        <process-name>:AO-AD-Microsoft_System_Center_Operations_Manager:Utilities:Execute Request</process-name>
        <parameters>
          <input>
            <from>adapter name</from>
            <to>adapter name</to>
          </input>
          <input>
            <from>items</from>
            <to>items</to>
          </input>
          <input>
            <value>export-managementpack</value>
            <to>valid operation name</to>
          </input>
          <output>
            <from>adapter response</from>
            <to>adapter response</to>
          </output>
        </parameters>
        <meta>
          <documentation />
          <run-mode-handling>
            <run-mode>OCP</run-mode>
            <allow-step-into>false</allow-step-into>
          </run-mode-handling>
          <checkpoint>false</checkpoint>
        </meta>
        <location>:call-process[1]</location>
      </call-process>
    </sequence>
    <meta>
      <expose-to>
        <consumer>RULE</consumer>
        <consumer>SCHEDULE</consumer>
      </expose-to>
      <documentation>
        <description>This wrapper exports a management pack to a file.</description>
        <version></version>
      </documentation>
      <peer-location>
        <location>any</location>
      </peer-location>
      <record-metrics>false</record-metrics>
      <process-id>ac183629-5aec-3781-b488-ed0edafcedd7</process-id>
      <author />
      <category />
      <status />
      <keywords />
      <systems />
      <last-modified-by />
      <last-modified>1290598728891</last-modified>
    </meta>
  </process-def>
</process>