<process draft="false" dev-studio-version="7.6.01.02">
  <process-def name=":AO-AD-Microsoft_System_Center_Operations_Manager:Adapter_Action_Input_Constructors:v2007:Alert:Resolve Alerts">
    <parameters>
      <input global="false" required="false">
        <description>The timeout value is seconds. This is the time after which the command will timeout regardless of whether the command execution is complete or not.</description>
        <from>timeout secs</from>
        <to>timeout secs</to>
      </input>
      <input global="false" required="false">
        <description>resolve alert comment[Optional]
	Comment while resolving the alert.</description>
        <from>resolve alert comment</from>
        <to>resolve alert comment</to>
      </input>
      <input global="false" required="false">
        <description>key[Optional]
	This tag contains the alert attribute by which the alerts are filtered. These alerts are then resolved.
	Valid values for this tag can be any of the alert attributes such as: name, description, id etc. You can use Find Alert By ID to get the list of all the alert attributes.</description>
        <from>key</from>
        <to>key</to>
      </input>
      <input global="false" required="false">
        <description>value[Optional]
	This tag contains the valid search expression for the attribute specified in the key. Please refer to Criteria guide for valid search criteria expression format.
NOTE: For help on writing regular expressions refer to 'Regular Expressions Guide.doc'

Note: XML escapse characters (i.e., ", &lt;, &gt;, &amp;) must be replaced as below- 

" by &amp;quot; 
&lt; by &amp;lt; 
&gt; by &amp;gt;
&amp; by &amp;amp; </description>
        <from>value</from>
        <to>value</to>
      </input>
      <input global="false" required="false">
        <description>operator[Required]
	This' tag specifies the operand for key and value specified.
	Valid values - equals, not equals, like, in,greater than,less than</description>
        <from>operator</from>
        <to>operator</to>
      </input>
      <input global="false" required="false">
        <description>criteria operator[Optional]
	This tag specifies the operand between multiple 'criteria-expression' tags.
	Valid values - and, or</description>
        <from>criteria operator</from>
        <to>criteria operator</to>
      </input>
      <output global="false" required="false">
        <to>items</to>
        <from>final items</from>
      </output>
    </parameters>
    <access />
    <sequence>
      <call-process>
        <process-name>:AO-AD-Microsoft_System_Center_Operations_Manager:Utilities:Constructor_Utilities:Create Alert Search Criteria</process-name>
        <parameters>
          <input>
            <from>operator</from>
            <to>operator</to>
          </input>
          <input>
            <from>key</from>
            <to>key</to>
          </input>
          <input>
            <from>value</from>
            <to>value</to>
          </input>
          <input>
            <from>criteria operator</from>
            <to>criteria operator</to>
          </input>
          <output>
            <from>alert search criteria</from>
            <to>alert search criteria</to>
          </output>
        </parameters>
        <meta>
          <documentation />
          <run-mode-handling>
            <run-mode>OCP</run-mode>
            <allow-step-into>false</allow-step-into>
          </run-mode-handling>
          <checkpoint>false</checkpoint>
        </meta>
        <after-execution>
          <console-output>
            <type>INFO</type>
            <summary>
              <concat>
                <input>
                  <value></value>
                </input>
              </concat>
            </summary>
            <detail>
              <concat>
                <input>
                  <value></value>
                </input>
              </concat>
            </detail>
          </console-output>
        </after-execution>
        <location>:call-process[1]</location>
      </call-process>
      <assign>
        <assignment>
          <document>
            <input>
              <from>alert search criteria</from>
            </input>
          </document>
          <result>
            <output>
              <to>final items</to>
            </output>
          </result>
          <xslt-stylesheet>
            <stylesheet-replacement-tokens>
              <replacement-token name="timeout secs">
                <input global="false">
                  <from>timeout secs</from>
                </input>
              </replacement-token>
              <replacement-token name="comment">
                <input global="false">
                  <from>resolve alert comment</from>
                </input>
              </replacement-token>
            </stylesheet-replacement-tokens>
            <stylesheet><![CDATA[<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
  <xsl:output indent="no" />
  <xsl:template match="/">
    <items>
      <item>
        <operation-name>
          <xsl:text disable-output-escaping="no">resolve-alert</xsl:text>
        </operation-name>
        <xsl:if test="string('${timeout secs}') != ''">
          <timeout-secs>
            <xsl:value-of select="string('${timeout secs}')" disable-output-escaping="no" />
          </timeout-secs>
        </xsl:if>
        <command-parameters>
          <alert>
            <xsl:copy-of select="//alert-search-criteria" />
          </alert>
          <xsl:if test="string('${comment}') != ''">
            <comment>
              <resolve-alert-comment>
                <xsl:value-of select="string('${comment}')" disable-output-escaping="no" />
              </resolve-alert-comment>
            </comment>
          </xsl:if>
        </command-parameters>
      </item>
    </items>
  </xsl:template>
</xsl:stylesheet>]]></stylesheet>
          </xslt-stylesheet>
        </assignment>
        <meta>
          <documentation />
          <checkpoint>false</checkpoint>
        </meta>
        <after-execution>
          <log>
            <level>debug</level>
            <parameters>
              <input>
                <value>FINAL ITEMS: </value>
              </input>
              <input>
                <from>final items</from>
              </input>
            </parameters>
          </log>
        </after-execution>
        <location>:assign[1]</location>
      </assign>
    </sequence>
    <meta>
      <expose-to>
        <consumer>RULE</consumer>
        <consumer>SCHEDULE</consumer>
      </expose-to>
      <documentation>
        <description>Utility to create items xml for the process - "Resolve Alerts"</description>
        <version></version>
      </documentation>
      <peer-location>
        <location>any</location>
      </peer-location>
      <record-metrics>false</record-metrics>
      <process-id>a4894e4d-1733-3fdd-a17a-9c07d4d42a40</process-id>
      <author />
      <category />
      <status />
      <keywords />
      <systems />
      <last-modified-by />
      <last-modified>1290598682672</last-modified>
    </meta>
  </process-def>
</process>