<process draft="false" dev-studio-version="7.6.02.00">
  <process-def name=":AO-AD-Microsoft_System_Center_Configuration_Manager:v2007:Site:Find Site Status">
    <parameters>
      <input global="false" required="false">
        <description>The name of the adapter to use to handle the request. 
Default adapter name: MSSCCMActor.</description>
        <from>adapter name</from>
        <to>adapter name</to>
      </input>
      <input global="false" required="true">
        <description>Sample items Xml: 

&lt;items&gt;
            &lt;item&gt;		
                       	&lt;target&gt;config2&lt;/target&gt;                       
					&lt;availability-state&gt;Online&lt;/availability-state&gt;
					&lt;bytes-free&gt;24321424&lt;/bytes-free&gt;
					&lt;bytes-total&gt;83875332&lt;/bytes-total&gt;
					&lt;down-since /&gt;
					&lt;object-type&gt;NALPATH&lt;/object-type&gt;
					&lt;percent-free&gt;28&lt;/percent-free&gt;
					&lt;role&gt;AI Update Service Point&lt;/role&gt;
					&lt;site-code&gt;123&lt;/site-code&gt;
					&lt;status&gt;OK&lt;/status&gt;
            &lt;/item&gt;
          
&lt;/items&gt;


Elements' Description: 

item [Required]
	This is a child tag of &lt;items&gt; tag. The &lt;item&gt; tag can be specified multiple times to support "multiple items support". 

target [Optional]: 
	This element to specify the connection information for the Microsoft System Center Configuration Manager application.

	Valid values: The value specified for &lt;target&gt; XML element must be same as the value that has been specified for the name attribute of &lt;config&gt; element in Grid Manager adapter configuration.
	
	Default value: 
		If this element is not provided or left empty, the request will be executed on the first defined Grid Manager adapter configuration.

	Note: The value of this tag is case sensitive.

availability-state [Optional]
	Availability state of the site system.
	
	Valid values: Online, Failed, Unknown etc.

bytes-free [Optional]
	Amount of free, unused storage space, in kilobytes, for the storage object.

bytes-total [Optional]
	Maximum amount of storage space, in kilobytes, of the storage object. A negative value indicates that information is currently unavailable. 

down-since [Optional]
	Date and time when the storage object was first found to be down (inaccessible). The storage object is considered down if the site server fails to connect to the storage object due to network problems, security problems, or other problems. The value is null if the storage object is accessible. The time zone is based on the time zone of the SiteCode property.

	Valid value: any input in date time format- 
		YYYYmmDDhhMMssuuuuuu+***
		YYYY-&gt; year, mm -&gt; month, DD -&gt; date, hh-&gt;hour, MM-&gt;minute, ss-&gt;second, uuuuuu-&gt;microsecond, +*** -&gt; Offset from local time

			
object-type [Optional]
	Type of object for which the status is being reported.
	
	Valid values: NALPATH, SQL_DB, SQL_LOG
				

percent-free [Optional]
	Percentage of free storage space available on the storage object.


role [Optional]
	Configuration Manager role performed by the site system.
	Valid values: SMS Component Server, SMS Distribution Point, SMS Fallback Status Point etc. 

	Note: On application these might be visible with diffrent names- for example 
	SMS Component Server -&gt; ConfigMgr Component Server
	SMS Distribution Point -&gt; ConfigMgr Distribution Point
	SMS Fallback Status Point -&gt; ConfigMgr Fallback Status Point
	etc

site-code [Optional]
	Site code of Configuration Manager site.


status [Optional]
	Status value indicating the health of the component.
	Valid values: OK, Warning, Critical 

	Description:
		OK -&gt; GREEN(0) There are no warning or error messages.
		WARNING -&gt; YELLOW(1) Warning messages were generated, but error messages were not generated.
 		CRITICAL -&gt; RED(2) There are error message

</description>
        <from>items</from>
        <to>items</to>
      </input>
      <output global="false" required="false">
        <description>Returned adapter response is captured in this context parameter.</description>
        <to>adapter response</to>
        <from>adapter response</from>
      </output>
    </parameters>
    <access />
    <sequence>
      <assign>
        <assignment>
          <output>
            <to>valid operation name</to>
            <value>find-site-status</value>
          </output>
        </assignment>
        <meta>
          <documentation />
          <checkpoint>false</checkpoint>
        </meta>
        <location>:assign[1]</location>
      </assign>
      <assign>
        <assignment>
          <document>
            <input>
              <from>items</from>
            </input>
          </document>
          <result>
            <output>
              <to>items</to>
            </output>
          </result>
          <xslt-stylesheet>
            <stylesheet-replacement-tokens />
            <stylesheet><![CDATA[<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
  <xsl:output indent="no" />
  <xsl:template match="/">
    <items>
      <operation-name>
        <xsl:text disable-output-escaping="no">find-site-status</xsl:text>
      </operation-name>
      <xsl:copy-of select="./items/*" />
    </items>
  </xsl:template>
</xsl:stylesheet>]]></stylesheet>
          </xslt-stylesheet>
        </assignment>
        <meta>
          <documentation />
          <checkpoint>false</checkpoint>
        </meta>
        <location>:assign[2]</location>
      </assign>
      <call-process>
        <process-name>:AO-AD-Microsoft_System_Center_Configuration_Manager:Utilities:Execute Request</process-name>
        <parameters>
          <input>
            <from>adapter name</from>
            <to>adapter name</to>
          </input>
          <input>
            <from>items</from>
            <to>items</to>
          </input>
          <input>
            <from>valid operation name</from>
            <to>valid operation name</to>
          </input>
          <output>
            <from>adapter response</from>
            <to>adapter response</to>
          </output>
        </parameters>
        <meta>
          <documentation />
          <run-mode-handling>
            <run-mode>OCP</run-mode>
            <allow-step-into>false</allow-step-into>
          </run-mode-handling>
          <checkpoint>false</checkpoint>
        </meta>
        <after-execution>
          <console-output>
            <type>INFO</type>
            <summary>
              <concat>
                <input>
                  <value></value>
                </input>
              </concat>
            </summary>
            <detail>
              <concat>
                <input>
                  <value></value>
                </input>
              </concat>
            </detail>
          </console-output>
        </after-execution>
        <location>:call-process[1]</location>
      </call-process>
    </sequence>
    <meta>
      <expose-to>
        <consumer>RULE</consumer>
        <consumer>SCHEDULE</consumer>
      </expose-to>
      <documentation>
        <description>Find Site Status

This wrapper finds status of a site.</description>
        <version></version>
      </documentation>
      <peer-location>
        <location>any</location>
      </peer-location>
      <record-metrics>false</record-metrics>
      <process-id>a773041a-587f-3371-9c8d-99ec6f3d7f0c</process-id>
      <author>admin</author>
      <category></category>
      <status></status>
      <keywords></keywords>
      <systems></systems>
      <last-modified-by>admin</last-modified-by>
      <last-modified>1298013998786</last-modified>
    </meta>
  </process-def>
</process>