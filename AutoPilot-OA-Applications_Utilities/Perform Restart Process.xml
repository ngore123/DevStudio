<process draft="false" dev-studio-version="7.6.01.00">
  <process-def name=":AutoPilot-OA-Applications_Utilities:Perform Restart Process">
    <parameters>
      <input global="false" required="true">
        <description>XML document conforming to the ConnectionDetails Concept that contains the information required to execute a command.</description>
        <from>connection details</from>
        <to>connection details</to>
      </input>
      <input global="false" required="true">
        <description>The name of the process when it is running may be different than the executable process name used to start it. Enter the name of the process or service you wish to check before starting or restarting.</description>
        <from>name filter</from>
        <to>name filter</to>
      </input>
      <input global="false" required="false">
        <description>Enter the command string required to start the process or service, including the process executable.
Example: net start "Print Spooler"</description>
        <from>start command</from>
        <to>start command</to>
      </input>
      <input global="false" required="false">
        <description>If the process or service can be restarted with a single command string, enter it here. Note include the executable in the command string.
</description>
        <from>restart command</from>
        <to>restart command</to>
      </input>
      <input global="false" required="false">
        <description>If the process or service requires stopping before restarting enter the stop command here, including the executable.
Example: net stop "Print Spooler"</description>
        <from>stop command</from>
        <to>stop command</to>
      </input>
      <output global="false" required="true">
        <description>Did the operation succeed? Valid values:  true</description>
        <to>success</to>
        <from>success</from>
      </output>
    </parameters>
    <access />
    <sequence>
      <call-process>
        <process-name>:AutoPilot-OA-Applications_Utilities:Get Processes Matching</process-name>
        <parameters>
          <input>
            <from>connection details</from>
            <to>connection details</to>
          </input>
          <input>
            <from>name filter</from>
            <to>filter</to>
          </input>
          <output>
            <from>output</from>
            <to>process list</to>
          </output>
        </parameters>
        <meta>
          <documentation />
          <run-mode-handling>
            <run-mode>OCP</run-mode>
            <allow-step-into>false</allow-step-into>
          </run-mode-handling>
          <checkpoint>false</checkpoint>
        </meta>
        <location>:call-process[1]</location>
      </call-process>
      <switch>
        <meta>
          <documentation />
          <run-mode-handling>
            <run-mode>OCP</run-mode>
            <allow-step-into>true</allow-step-into>
          </run-mode-handling>
          <checkpoint>false</checkpoint>
        </meta>
        <execute-all-applicable-cases>false</execute-all-applicable-cases>
        <default>
          <sequence>
            <call-process>
              <process-name>:AutoPilot-OA-Common_Utilities:Invoke Command</process-name>
              <parameters>
                <input>
                  <from>connection details</from>
                  <to>connection details</to>
                </input>
                <input>
                  <from>start command</from>
                  <to>command</to>
                </input>
              </parameters>
              <meta>
                <documentation />
                <run-mode-handling>
                  <run-mode>OCP</run-mode>
                  <allow-step-into>false</allow-step-into>
                </run-mode-handling>
                <checkpoint>false</checkpoint>
              </meta>
              <location>:switch[1]:sequence[1]:call-process[1]</location>
            </call-process>
          </sequence>
        </default>
        <case>
          <condition>
            <document>
              <input>
                <from>process list</from>
              </input>
            </document>
            <xpath-expression>
              <xpath-replacement-tokens />
              <xpath><![CDATA[count(//line) > 0]]></xpath>
            </xpath-expression>
          </condition>
          <sequence>
            <switch>
              <meta>
                <documentation />
                <run-mode-handling>
                  <run-mode>OCP</run-mode>
                  <allow-step-into>true</allow-step-into>
                </run-mode-handling>
                <checkpoint>false</checkpoint>
              </meta>
              <execute-all-applicable-cases>false</execute-all-applicable-cases>
              <default>
                <sequence>
                  <call-process>
                    <process-name>:AutoPilot-OA-Common_Utilities:Invoke Command</process-name>
                    <parameters>
                      <input>
                        <from>connection details</from>
                        <to>connection details</to>
                      </input>
                      <input>
                        <from>restart command</from>
                        <to>command</to>
                      </input>
                    </parameters>
                    <meta>
                      <documentation />
                      <run-mode-handling>
                        <run-mode>OCP</run-mode>
                        <allow-step-into>false</allow-step-into>
                      </run-mode-handling>
                      <checkpoint>false</checkpoint>
                    </meta>
                    <location>:switch[1]:sequence[2]:switch[1]:sequence[1]:call-process[1]</location>
                  </call-process>
                </sequence>
              </default>
              <case>
                <condition>
                  <document>
                    <input>
                      <from>stop command</from>
                    </input>
                  </document>
                  <xpath-expression>
                    <xpath-replacement-tokens />
                    <xpath><![CDATA[string(.)!=0]]></xpath>
                  </xpath-expression>
                </condition>
                <sequence>
                  <call-process>
                    <process-name>:AutoPilot-OA-Common_Utilities:Invoke Command</process-name>
                    <parameters>
                      <input>
                        <from>connection details</from>
                        <to>connection details</to>
                      </input>
                      <input>
                        <from>stop command</from>
                        <to>command</to>
                      </input>
                    </parameters>
                    <meta>
                      <documentation />
                      <run-mode-handling>
                        <run-mode>OCP</run-mode>
                        <allow-step-into>false</allow-step-into>
                      </run-mode-handling>
                      <checkpoint>false</checkpoint>
                    </meta>
                    <location>:switch[1]:sequence[2]:switch[1]:sequence[2]:call-process[1]</location>
                  </call-process>
                  <call-process>
                    <process-name>:AutoPilot-OA-Common_Utilities:Invoke Command</process-name>
                    <parameters>
                      <input>
                        <from>connection details</from>
                        <to>connection details</to>
                      </input>
                      <input>
                        <from>start command</from>
                        <to>command</to>
                      </input>
                    </parameters>
                    <meta>
                      <documentation />
                      <run-mode-handling>
                        <run-mode>OCP</run-mode>
                        <allow-step-into>false</allow-step-into>
                      </run-mode-handling>
                      <checkpoint>false</checkpoint>
                    </meta>
                    <location>:switch[1]:sequence[2]:switch[1]:sequence[2]:call-process[2]</location>
                  </call-process>
                </sequence>
              </case>
              <location>:switch[1]:sequence[2]:switch[1]</location>
            </switch>
          </sequence>
        </case>
        <location>:switch[1]</location>
      </switch>
      <call-process>
        <process-name>:AutoPilot-OA-Applications_Utilities:Get Processes Matching</process-name>
        <parameters>
          <input>
            <from>connection details</from>
            <to>connection details</to>
          </input>
          <input>
            <from>name filter</from>
            <to>filter</to>
          </input>
          <output>
            <from>output</from>
            <to>process list</to>
          </output>
        </parameters>
        <meta>
          <documentation />
          <run-mode-handling>
            <run-mode>OCP</run-mode>
            <allow-step-into>false</allow-step-into>
          </run-mode-handling>
          <checkpoint>false</checkpoint>
        </meta>
        <location>:call-process[2]</location>
      </call-process>
      <assign>
        <assignment>
          <document>
            <input>
              <from>process list</from>
            </input>
          </document>
          <result>
            <output>
              <to>success</to>
            </output>
          </result>
          <xpath-expression>
            <xpath-replacement-tokens />
            <xpath><![CDATA[count(//line) > 0]]></xpath>
          </xpath-expression>
        </assignment>
        <meta>
          <documentation />
          <checkpoint>false</checkpoint>
        </meta>
        <location>:assign[1]</location>
      </assign>
    </sequence>
    <meta>
      <expose-to>
        <consumer>RULE</consumer>
        <consumer>SCHEDULE</consumer>
      </expose-to>
      <documentation>
        <description>Perform Restart Process
    Restarts a specified process or service. </description>
        <version>1.0</version>
      </documentation>
      <peer-location>
        <location>any</location>
      </peer-location>
      <record-metrics>false</record-metrics>
      <process-id>6074d570-8207-3711-a6e1-8c6c20d60586</process-id>
      <author />
      <category />
      <status />
      <keywords />
      <systems />
      <last-modified-by />
      <last-modified>1290436577960</last-modified>
    </meta>
  </process-def>
</process>