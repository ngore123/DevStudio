<process draft="false" dev-studio-version="7.6.02.01">
  <process-def name=":RBA-AD-VMware_Infrastructure:Utilities:Advanced_VM_Operations:Construct Item for Relocate VM">
    <parameters>
      <input global="false" required="true">
        <description>virtual machine inventory path                                                                                                                                       	Inventory path of the virtual machine used to make the method call.</description>
        <from>virtual machine</from>
        <to>virtual machine</to>
      </input>
      <input global="false" required="false">
        <description>datacenter [optional]
	The name of the datacenter hosting the datastore.</description>
        <from>datacenter</from>
        <to>datacenter</to>
      </input>
      <input global="false" required="false">
        <description>datastore [optional]
	The datastore where the virtual machine should be located. If not specified, the current datastore is used.</description>
        <from>datastore</from>
        <to>datastore</to>
      </input>
      <input global="false" required="false">
        <description>disk list [optional]
      Allows specifying the datastore location for each virtual disk. 

Value takes the form:

&lt;disk-list&gt;
	&lt;disk&gt;
		&lt;datastore&gt;&lt;/datastore&gt;
		&lt;disk-id&gt;&lt;/disk-id&gt;
		&lt;disk-move-type&gt;&lt;/disk-move-type&gt;
	&lt;/disk&gt;
	&lt;disk&gt;
		&lt;datastore&gt;&lt;/datastore&gt;
		&lt;disk-id&gt;&lt;/disk-id&gt;
		&lt;disk-move-type&gt;&lt;/disk-move-type&gt;
	&lt;/disk&gt;
	.......
&lt;/disk-list&gt;</description>
        <from>disk list</from>
        <to>disk list</to>
      </input>
      <input global="false" required="false">
        <description>disk move type [optional]
	Manner in which to move the virtual disk to the target datastore. The set of possible values are:

createNewChildDiskBacking: Create a new child disk backing on the destination datastore. None of the virtual disk's existing files should be moved from their current locations. 

moveAllDiskBackingsAndAllowSharing: All of the virtual disk's backings should be moved to the new datastore. If a disk backing is not the child-most backing of this virtual machine, and there exists a read-only disk backing with the same content ID on the target datastore, then this disk backing may not be copied. Instead it is acceptable to attach to the read-only disk backing at the target datastore. A read-only disk backing is defined as a virtual disk backing which no virtual machine is defined as a virtual disk backing which no virtual machine is currently writing to. 

moveAllDiskBackingsAndDisallowSharing: All of the virtual disk's backings should be moved to the new datastore. It is not acceptable to attach to a disk backing with the same content ID on the destination datastore.
 
moveChildMostDiskBacking: Move only the child-most disk backing. Any parent disk backings should be left in their current locations. This option only differs from moveAllDiskBackingsAndAllowSharing and moveAllDiskBackingsAndDisallowSharing when the virtual disk has a parent backing. 

Note: This property applies to all the disks which the virtual machine has, but can be overridden on a per-disk basis using diskMoveType.

This property can only be set if deltaDiskBackingsSupported is true at HostSystem level.
 
If left unset then moveAllDiskBackingsAndDisallowSharing is assumed.

Only supported in vSphere 4.0</description>
        <from>disk move type</from>
        <to>disk move type</to>
      </input>
      <input global="false" required="false">
        <description>host system [optional]

The target host for the virtual machine. If not specified,
if resource pool is not specified, current host is used.
if resource pool is specified, and the target pool represents a stand-alone host, the host is used.
if resource pool is specified, and the target pool represents a DRS-enabled cluster, a host selected by DRS is used.
if resource pool is specified and the target pool represents a cluster without DRS enabled, an InvalidArgument exception be thrown.</description>
        <from>host system</from>
        <to>host system</to>
      </input>
      <input global="false" required="false">
        <description>transform [optional]  
         Transformation to perform on the disks. The backend is free to ignore this hint if it is not valid for the current operation. This can be used by clients, for example, to create sparse disks for templates.

Valid values: flat, sparse</description>
        <from>transform</from>
        <to>transform</to>
      </input>
      <output global="false" required="false">
        <to>items</to>
        <from>items</from>
      </output>
    </parameters>
    <access />
    <sequence>
      <assign>
        <assignment>
          <output>
            <to>items</to>
            <value>
              <empty />
            </value>
          </output>
          <xslt-stylesheet>
            <stylesheet-replacement-tokens>
              <replacement-token name="virtual machine">
                <input global="false">
                  <from>virtual machine</from>
                </input>
              </replacement-token>
              <replacement-token name="datastore">
                <input global="false">
                  <from>datastore</from>
                </input>
              </replacement-token>
              <replacement-token name="disk list">
                <input global="false">
                  <from>disk list</from>
                </input>
              </replacement-token>
              <replacement-token name="disk move type">
                <input global="false">
                  <from>disk move type</from>
                </input>
              </replacement-token>
              <replacement-token name="transform">
                <input global="false">
                  <from>transform</from>
                </input>
              </replacement-token>
              <replacement-token name="host system">
                <input global="false">
                  <from>host system</from>
                </input>
              </replacement-token>
              <replacement-token name="datacenter">
                <input global="false">
                  <from>datacenter</from>
                </input>
              </replacement-token>
            </stylesheet-replacement-tokens>
            <stylesheet><![CDATA[<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
  <xsl:output indent="yes" />
  <xsl:template match="/">
    <items>
      <item>
        <parameters>
          <virtual-machine>${virtual machine}</virtual-machine>
          <datacenter>${datacenter}</datacenter>
          <spec>
            <datastore>${datastore}</datastore>
            <disk-move-type>${disk move type}</disk-move-type>
            <host-system>${host system}</host-system>
            ${disk list}
            <transform>${transform}</transform>
          </spec>
        </parameters>
      </item>
    </items>
  </xsl:template>
</xsl:stylesheet>]]></stylesheet>
          </xslt-stylesheet>
        </assignment>
        <meta>
          <documentation />
          <checkpoint>false</checkpoint>
        </meta>
        <location>:assign[1]</location>
      </assign>
    </sequence>
    <meta>
      <expose-to>
        <consumer>RULE</consumer>
        <consumer>SCHEDULE</consumer>
      </expose-to>
      <documentation>
        <description>Constructs &lt;items&gt; for Relocate VM operation</description>
        <version></version>
      </documentation>
      <peer-location>
        <location>any</location>
      </peer-location>
      <record-metrics>false</record-metrics>
      <process-id>fe4eb848-e2a7-32c6-80c7-e68b3b6468ca</process-id>
      <author>admin</author>
      <category></category>
      <status></status>
      <keywords></keywords>
      <systems></systems>
      <last-modified-by>admin</last-modified-by>
      <last-modified>1314956424740</last-modified>
    </meta>
  </process-def>
</process>