<process draft="false" dev-studio-version="7.6.01.04">
  <process-def name=":RBA-AD-VMware_Infrastructure:Utilities:VApp_Configuration_Operations:Construct VApp CPU Allocation Parameters">
    <parameters>
      <input global="false" required="false">
        <description>In a resource pool with an expandable reservation, the reservation on a resource pool can grow beyond the specified value, if the parent resource pool has unreserved resources. A non-expandable reservation is called a fixed reservation. This property is ignored for virtual machines.

Valid value: “true” and “false”
</description>
        <from>cpu allocation expandable reservation</from>
        <to>cpu allocation expandable reservation</to>
      </input>
      <input global="false" required="false">
        <description>Amount of resource that is guaranteed available to the virtual
machine or resource pool
Reserved resources are not wasted if they are not used. If the
utilization is less than the reservation, the resources can be used by
other running virtual machines.
The amount of CPU to be reserved should be less than the CPU limit
specified for the virtual machine.
Valid value: Number
</description>
        <from>cpu allocation reservation</from>
        <to>cpu allocation reservation</to>
      </input>
      <input global="false" required="false">
        <description>The utilization of a virtual machine or a resource pool must not
exceed this limit, even if there are available resources
This is typically used to ensure a consistent performance of virtual
machines or resource pools independent of available resources. If
limit is set to -1, there is no fixed limit on resource usage and is only
bounded by available resources and shares.
The unit of measurement is MHz.

valid value:Number
</description>
        <from>cpu allocation limit</from>
        <to>cpu allocation limit</to>
      </input>
      <input global="false" required="false">
        <description>The number of shares allocated
The value is used to determine resource allocation in the case of
resource contention. There is no unit for this value. It is a relative
measure based on the settings for other resource pools. This value is
only set if the level is set to custom. Only shares with custom values
can be compared.
If this level is not set to custom, this value is ignored.
Valid value: Number
</description>
        <from>cpu allocation shares</from>
        <to>cpu allocation shares</to>
      </input>
      <input global="false" required="false">
        <description>The allocation level
The level is a simplified view of shares. Levels map to a predetermined
set of numeric values for shares.
Valid values:
■ custom - Shares are specified in the shares column.
■ high - Shares = 2000 * number of virtual CPUs.
■ low - Shares = 500 * number of virtual CPUs.
■ normal - Shares = 1000 * number of virtual CPUs.
If the shares value does not map to a predefined size, the level is set
as custom.

Valid value: String
</description>
        <from>cpu allocation level</from>
        <to>cpu allocation level</to>
      </input>
      <output global="false" required="false">
        <to>cpu allocation</to>
        <from>cpu allocation</from>
      </output>
    </parameters>
    <access />
    <sequence>
      <call-process>
        <process-name>:RBA-AD-VMware_Infrastructure:Utilities:VApp_Configuration_Operations:Construct VApp Shares Parameters</process-name>
        <parameters>
          <input>
            <from>cpu allocation shares</from>
            <to>shares</to>
          </input>
          <input>
            <from>cpu allocation level</from>
            <to>level</to>
          </input>
          <output>
            <from>shares info</from>
            <to>shares info</to>
          </output>
        </parameters>
        <meta>
          <documentation />
          <run-mode-handling>
            <run-mode>OCP</run-mode>
            <allow-step-into>false</allow-step-into>
          </run-mode-handling>
          <checkpoint>false</checkpoint>
        </meta>
        <location>:call-process[1]</location>
      </call-process>
      <assign>
        <assignment>
          <output>
            <to>cpu allocation</to>
            <value>
              <empty />
            </value>
          </output>
          <xslt-stylesheet>
            <stylesheet-replacement-tokens>
              <replacement-token name="cpu expandable reservation">
                <input global="false">
                  <from>cpu allocation expandable reservation</from>
                </input>
              </replacement-token>
              <replacement-token name="cpu reservation">
                <input global="false">
                  <from>cpu allocation reservation</from>
                </input>
              </replacement-token>
              <replacement-token name="cpu limit">
                <input global="false">
                  <from>cpu allocation limit</from>
                </input>
              </replacement-token>
              <replacement-token name="shares info">
                <input global="false">
                  <from>shares info</from>
                </input>
              </replacement-token>
            </stylesheet-replacement-tokens>
            <stylesheet><![CDATA[<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
  <xsl:output indent="no" />
  <xsl:template match="/">
    <cpu-allocation>
      <expandable-reservation>${cpu expandable reservation}</expandable-reservation>
      <limit>${cpu limit}</limit>
      <reservation>${cpu reservation}</reservation>
      ${shares info}
    </cpu-allocation>
  </xsl:template>
</xsl:stylesheet>]]></stylesheet>
          </xslt-stylesheet>
        </assignment>
        <meta>
          <documentation />
          <checkpoint>false</checkpoint>
        </meta>
        <location>:assign[1]</location>
      </assign>
    </sequence>
    <meta>
      <expose-to>
        <consumer>RULE</consumer>
        <consumer>SCHEDULE</consumer>
      </expose-to>
      <documentation>
        <description>Constructs complex &lt;cpu-allocation&gt; parameter.</description>
        <version></version>
      </documentation>
      <peer-location>
        <location>any</location>
      </peer-location>
      <record-metrics>false</record-metrics>
      <process-id>72573ab7-f105-44da-9561-5869795ccc9a</process-id>
      <author>admin</author>
      <category></category>
      <status></status>
      <keywords></keywords>
      <systems></systems>
      <last-modified-by>admin</last-modified-by>
      <last-modified>1297318949866</last-modified>
    </meta>
  </process-def>
</process>