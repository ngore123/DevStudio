<process draft="false" dev-studio-version="7.6.01.02">
  <process-def name=":RBA-AD-VMware_Infrastructure:Utilities:Host_Operations:Construct NIC Teaming Policy Parameters">
    <parameters>
      <input global="false" required="false">
        <description>policy: 
Network adapter teaming policy includes failover and load balancing,.

Valid values: 
loadbalance_ip: route based on ip hash. 
loadbalance_srcmac: route based on source MAC hash. 
loadbalance_srcid: route based on the source of the port ID. 
failover_explicit: use explicity failover order. 
</description>
        <from>nic teaming policy</from>
        <to>nic teaming policy</to>
      </input>
      <input global="false" required="false">
        <description>reverse-policy:

The flag to indicate whether or not the teaming policy is applied to inbound frames as well. For example, if the policy is explicit failover, a broadcast request goes through uplink1 and comes back through uplink2. Then if the reverse policy is set, the frame is dropped when it is received from uplink2. This reverse policy is useful to prevent the virtual machine from getting reflections.

Valid values: true, false
</description>
        <from>nic teaming reverse policy</from>
        <to>nic teaming reverse policy</to>
      </input>
      <input global="false" required="false">
        <description>notify-switches: 

Flag to specify whether or not to notify the physical switch if a link fails. If this property is true, ESX Server will respond to the failure by sending a RARP packet from a different physical adapter, causing the switch to update its cache.

Valid values: true, false
</description>
        <from>nic teaming notify switches</from>
        <to>nic teaming notify switches</to>
      </input>
      <input global="false" required="false">
        <description>rolling-order: 

The flag to indicate whether or not to use a rolling policy when restoring links. For example, assume the explicit link order is (vmnic9, vmnic0), therefore vmnic9 goes down, vmnic0 comes up. 
However, when vmnic9 comes backup, if rollingOrder is set to be true, vmnic0 continues to be used, otherwise, vmnic9 is restored as specified in the explicitly order.

Valid values: true, false
</description>
        <from>nic teaming rolling order</from>
        <to>nic teaming rolling order</to>
      </input>
      <input global="false" required="false">
        <description>check-speed:

To use link speed as the criteria, checkSpeed must be one of the following values: 
exact: Use exact speed to detect link failure. speed is the configured exact speed. 
minimum: Use minimum speed to detect failure. speed is the configured minimum speed. 
empty string: Do not use link speed to detect failure. speed is unused in this case. 
</description>
        <from>failure criteria check speed</from>
        <to>failure criteria check speed</to>
      </input>
      <input global="false" required="false">
        <description>speed: See check-speed

Valid values: Number
</description>
        <from>failure criteria speed</from>
        <to>failure criteria speed</to>
      </input>
      <input global="false" required="false">
        <description>check-duplex : 

The flag to indicate whether or not to use the link duplex reported by the driver as link selection criteria. 

If check-duplex is true, then fullDuplex is the configured duplex mode. The link is considered bad if the link duplex reported by driver is not the same as fullDuplex. 
If check-duplex is false, then fullDuplex is unused, and link duplexity is not used as a detection method.

Valid value: true, false</description>
        <from>failure criteria check duplex</from>
        <to>failure criteria check duplex</to>
      </input>
      <input global="false" required="false">
        <description>full-duplex: See check-duplex

Valid values: true, false
</description>
        <from>failure criteria full duplex</from>
        <to>failure criteria full duplex</to>
      </input>
      <input global="false" required="false">
        <description>check-error-percent:

The flag to indicate whether or not to use link error percentage to detect failure. 

If check-error-percent is true, then percentage is the configured error percentage that is tolerated. The link is considered bad if error rate exceeds percentage. 
If check-error-percent is false, percentage is unused, and error percentage is not used as a detection method.
</description>
        <from>failure criteria check error percent</from>
        <to>failure criteria check error percent</to>
      </input>
      <input global="false" required="false">
        <description>percentage: See check-error-percent

Valid values: Number

</description>
        <from>failure criteria percentage</from>
        <to>failure criteria percentage</to>
      </input>
      <input global="false" required="false">
        <description>check-beacon: 

The flag to indicate whether or not to enable this property to enable beacon probing as a method to validate the link status of a physical network adapter. 
checkBeacon can be enabled only if the VirtualSwitch has been configured to use the beacon. Attempting to set checkBeacon on a PortGroup or VirtualSwitch that does not have beacon probing configured for the applicable VirtualSwitch results in an error.

Valid values: true, false
</description>
        <from>failure criteria check beacon</from>
        <to>failure criteria check beacon</to>
      </input>
      <input global="false" required="false">
        <description>Takes in XML with the list of active network adapters used for load balancing:

&lt;active-nic-list&gt;
	&lt;active-nic&gt;&lt;/active-nic&gt;
	&lt;active-nic&gt;&lt;/active-nic&gt;
&lt;/active-nic-list&gt;

active-nic : Active network adapters used for load balancing.
Valid values: String</description>
        <from>active nic list</from>
        <to>active nic list</to>
      </input>
      <input global="false" required="false">
        <description>Takes in XML with the list of standby network adapters used for failover:

&lt;standby-nic-list&gt;
	&lt;standby-nic&gt;&lt;/standby-nic&gt;
	&lt;standby-nic&gt;&lt;/standby-nic&gt;
&lt;/standby-nic-list&gt;

standby-nic : Standby network adapters used for failover
Valid values: String</description>
        <from>standby nic list</from>
        <to>standby nic list</to>
      </input>
      <output global="false" required="false">
        <to>nic teaming</to>
        <from>nic teaming</from>
      </output>
    </parameters>
    <access />
    <sequence>
      <assign>
        <assignment>
          <output>
            <to>nic teaming</to>
            <value>
              <empty />
            </value>
          </output>
          <xslt-stylesheet>
            <stylesheet-replacement-tokens>
              <replacement-token name="check speed">
                <input global="false">
                  <from>failure criteria check speed</from>
                </input>
              </replacement-token>
              <replacement-token name="speed">
                <input global="false">
                  <from>failure criteria speed</from>
                </input>
              </replacement-token>
              <replacement-token name="check duplex">
                <input global="false">
                  <from>failure criteria check duplex</from>
                </input>
              </replacement-token>
              <replacement-token name="full duplex">
                <input global="false">
                  <from>failure criteria full duplex</from>
                </input>
              </replacement-token>
              <replacement-token name="check error percent">
                <input global="false">
                  <from>failure criteria check error percent</from>
                </input>
              </replacement-token>
              <replacement-token name="percentage">
                <input global="false">
                  <from>failure criteria percentage</from>
                </input>
              </replacement-token>
              <replacement-token name="check beacon">
                <input global="false">
                  <from>failure criteria check beacon</from>
                </input>
              </replacement-token>
              <replacement-token name="policy">
                <input global="false">
                  <from>nic teaming policy</from>
                </input>
              </replacement-token>
              <replacement-token name="reverse policy">
                <input global="false">
                  <from>nic teaming reverse policy</from>
                </input>
              </replacement-token>
              <replacement-token name="notify switches">
                <input global="false">
                  <from>nic teaming notify switches</from>
                </input>
              </replacement-token>
              <replacement-token name="rolling order">
                <input global="false">
                  <from>nic teaming rolling order</from>
                </input>
              </replacement-token>
              <replacement-token name="active nic list">
                <input global="false">
                  <from>active nic list</from>
                </input>
              </replacement-token>
              <replacement-token name="standby nic list">
                <input global="false">
                  <from>standby nic list</from>
                </input>
              </replacement-token>
            </stylesheet-replacement-tokens>
            <stylesheet><![CDATA[<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
  <xsl:output indent="no" />
  <xsl:template match="/">
    <nic-teaming>
      <policy>${policy}</policy>
      <reverse-policy>${reverse policy}</reverse-policy>
      <notify-switches>${notify switches}</notify-switches>
      <rolling-order>${rolling order}</rolling-order>
      <failure-criteria>
        <check-speed>${check speed}</check-speed>
        <speed>${speed}</speed>
        <check-duplex>${check duplex}</check-duplex>
        <full-duplex>${full duplex}</full-duplex>
        <check-error-percent>${check error percent}</check-error-percent>
        <percentage>${percentage}</percentage>
        <check-beacon>${check beacon}</check-beacon>
      </failure-criteria>
      <nic-order>${active nic list}${standby nic list}</nic-order>
    </nic-teaming>
  </xsl:template>
</xsl:stylesheet>]]></stylesheet>
          </xslt-stylesheet>
        </assignment>
        <meta>
          <documentation />
          <checkpoint>false</checkpoint>
        </meta>
        <location>:assign[1]</location>
      </assign>
    </sequence>
    <meta>
      <expose-to>
        <consumer>RULE</consumer>
        <consumer>SCHEDULE</consumer>
      </expose-to>
      <documentation>
        <description>Constructs complex &lt;nic-teaming&gt; parameter.</description>
        <version></version>
      </documentation>
      <peer-location>
        <location>any</location>
      </peer-location>
      <record-metrics>false</record-metrics>
      <process-id>7b29db36-cf0b-3053-8785-a38e14759d2c</process-id>
      <author />
      <category />
      <status />
      <keywords />
      <systems />
      <last-modified-by />
      <last-modified>1288251424695</last-modified>
    </meta>
  </process-def>
</process>