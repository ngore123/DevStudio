<process draft="false" dev-studio-version="7.6.02.03">
  <process-def name=":RBA-AD-VMware_Infrastructure:Utilities:Host_Operations:Construct Item for Update Virtual Switch">
    <parameters>
      <input global="false" required="true">
        <description>DNS name of the host whose details are to be retrieved.

Valid value:  dns name 
</description>
        <from>host</from>
        <to>host</to>
      </input>
      <input global="false" required="true">
        <description>The name of the virtual switch. Maximum length is 32 characters.

Valid values: String
</description>
        <from>name</from>
        <to>name</to>
      </input>
      <input global="false" required="true">
        <description>The number of ports that this virtual switch is configured to use. Changing this setting does not take effect until the next reboot. The maximum value is 1024, although other constraints, such as memory limits, may establish a lower effective limit.

Valid values: Number
</description>
        <from>num port</from>
        <to>num port</to>
      </input>
      <input global="false" required="false">
        <description>The bridge specification describes how physical network adapters can be bridged to a virtual switch. 

valid value: String</description>
        <from>bridge nic device</from>
        <to>bridge nic device</to>
      </input>
      <input global="false" required="true">
        <description>The flag to indicate whether or not all traffic is seen on the port

Valid values: true, false

</description>
        <from>security allow promiscuous</from>
        <to>security allow promiscuous</to>
      </input>
      <input global="false" required="true">
        <description>The flag to indicate whether or not the Media Access Control (MAC) address can be changed.

Valid values: true, false
</description>
        <from>security mac changes</from>
        <to>security mac changes</to>
      </input>
      <input global="false" required="true">
        <description>The flag to indicate whether or not the virtual network adapter should be allowed to send network traffic with a different MAC address than that of the virtual network adapter.

Valid values: true, false
</description>
        <from>security forged transmits</from>
        <to>security forged transmits</to>
      </input>
      <input global="false" required="true">
        <description>Network adapter teaming policy includes failover and load balancing,.

Valid values: 

loadbalance_ip: route based on ip hash. 
loadbalance_srcmac: route based on source MAC hash. 
loadbalance_srcid: route based on the source of the port ID. 
failover_explicit: use explicity failover order. 
</description>
        <from>nic teaming policy</from>
        <to>nic teaming policy</to>
      </input>
      <input global="false" required="true">
        <description>The flag to indicate whether or not the teaming policy is applied to inbound frames as well. For example, if the policy is explicit failover, a broadcast request goes through uplink1 and comes back through uplink2. Then if the reverse policy is set, the frame is dropped when it is received from uplink2. This reverse policy is useful to prevent the virtual machine from getting reflections.

Valid values: true, false
</description>
        <from>nic teaming reverse policy</from>
        <to>nic teaming reverse policy</to>
      </input>
      <input global="false" required="true">
        <description>Flag to specify whether or not to notify the physical switch if a link fails. If this property is true, ESX Server will respond to the failure by sending a RARP packet from a different physical adapter, causing the switch to update its cache.

Valid values: true, false

</description>
        <from>nic teaming notify switches</from>
        <to>nic teaming notify switches</to>
      </input>
      <input global="false" required="true">
        <description>The flag to indicate whether or not to use a rolling policy when restoring links. For example, assume the explicit link order is (vmnic9, vmnic0), therefore vmnic9 goes down, vmnic0 comes up. 
However, when vmnic9 comes backup, if rollingOrder is set to be true, vmnic0 continues to be used, otherwise, vmnic9 is restored as specified in the explicitly order.

Valid values: true, false

</description>
        <from>nic teaming rolling order</from>
        <to>nic teaming rolling order</to>
      </input>
      <input global="false" required="true">
        <description>To use link speed as the criteria, checkSpeed must be one of the following values: 
exact: Use exact speed to detect link failure. speed is the configured exact speed. 
minimum: Use minimum speed to detect failure. speed is the configured minimum speed. 
empty string: Do not use link speed to detect failure. speed is unused in this case. 
</description>
        <from>failure criteria check speed</from>
        <to>failure criteria check speed</to>
      </input>
      <input global="false" required="true">
        <description>See check-speed

Valid values: Number</description>
        <from>failure criteria speed</from>
        <to>failure criteria speed</to>
      </input>
      <input global="false" required="true">
        <description>The flag to indicate whether or not to use the link duplex reported by the driver as link selection criteria. 

If check-duplex is true, then fullDuplex is the configured duplex mode. The link is considered bad if the link duplex reported by driver is not the same as fullDuplex. 
If check-duplex is false, then fullDuplex is unused, and link duplexity is not used as a detection method.</description>
        <from>failure criteria check duplex</from>
        <to>failure criteria check duplex</to>
      </input>
      <input global="false" required="true">
        <description>See check-duplex

Valid values: true, false</description>
        <from>failure criteria full duplex</from>
        <to>failure criteria full duplex</to>
      </input>
      <input global="false" required="true">
        <description>check-error-percent: 

The flag to indicate whether or not to use link error percentage to detect failure. 

If check-error-percent is true, then percentage is the configured error percentage that is tolerated. The link is considered bad if error rate exceeds percentage. 
If check-error-percent is false, percentage is unused, and error percentage is not used as a detection method.</description>
        <from>failure criteria check error percent</from>
        <to>failure criteria check error percent</to>
      </input>
      <input global="false" required="true">
        <description>percentage: See check-error-percent

Valid values: Number</description>
        <from>failure criteria percentage</from>
        <to>failure criteria percentage</to>
      </input>
      <input global="false" required="true">
        <description>check-beacon: 

The flag to indicate whether or not to enable this property to enable beacon probing as a method to validate the link status of a physical network adapter. 
checkBeacon can be enabled only if the VirtualSwitch has been configured to use the beacon. Attempting to set checkBeacon on a PortGroup or VirtualSwitch that does not have beacon probing configured for the applicable VirtualSwitch results in an error.

Valid values: true, false</description>
        <from>failure criteria check beacon</from>
        <to>failure criteria check beacon</to>
      </input>
      <input global="false" required="false">
        <description>Takes in XML with following parameters:

&lt;active-nic-list&gt;
	&lt;active-nic&gt;&lt;/active-nic&gt;
	&lt;active-nic&gt;&lt;/active-nic&gt;
&lt;/active-nic-list&gt;

active-nic : Active network adapters used for load balancing.
Valid values: String</description>
        <from>active nic list</from>
        <to>active nic list</to>
      </input>
      <input global="false" required="false">
        <description>Takes in XML with following parameters:

&lt;standby-nic-list&gt;
	&lt;standby-nic&gt;&lt;/standby-nic&gt;
	&lt;standby-nic&gt;&lt;/standby-nic&gt;
&lt;/standby-nic-list&gt;

standby-nic : Standby network adapters used for failover
Valid values: String

</description>
        <from>standby nic list</from>
        <to>standby nic list</to>
      </input>
      <input global="false" required="false">
        <description>csum-offload: The flag to indicate whether or not checksum offloading is supported

Valid values: true, false</description>
        <from>offload policy csum offload</from>
        <to>offload policy csum offload</to>
      </input>
      <input global="false" required="false">
        <description>tcp-segmentation : The flag to indicate whether or not TCP segmentation offloading (TSO) is supported.

Valid values: true, false</description>
        <from>offload policy tcp segmentation</from>
        <to>offload policy tcp segmentation</to>
      </input>
      <input global="false" required="false">
        <description>zero-copy-xmit: The flag to indicate whether or not zero copy transmits are supported.

Valid values: true, false</description>
        <from>offload policy zero copy xmit</from>
        <to>offload policy zero copy xmit</to>
      </input>
      <input global="false" required="true">
        <description>enabled: The flag to indicate whether or not traffic shaper is enabled on the port.

Valid values: true, false
</description>
        <from>shaping policy enabled</from>
        <to>shaping policy enabled</to>
      </input>
      <input global="false" required="true">
        <description>average-bandwidth: The average bandwidth in bits per second if shaping is enabled on the port.

Valid values: Number
</description>
        <from>shaping policy average bandwidth</from>
        <to>shaping policy average bandwidth</to>
      </input>
      <input global="false" required="true">
        <description>peak-bandwidth: The peak bandwidth during bursts in bits per second if traffic shaping is enabled on the port.

Valid values: Number</description>
        <from>shaping policy peak bandwidth</from>
        <to>shaping policy peak bandwidth</to>
      </input>
      <input global="false" required="true">
        <description>burst-size: The maximum burst size allowed in bytes if shaping is enabled on the port.

Valid values: Number</description>
        <from>shaping policy burst size</from>
        <to>shaping policy burst size</to>
      </input>
      <output global="false" required="false">
        <to>items</to>
        <from>items</from>
      </output>
    </parameters>
    <access />
    <sequence>
      <call-process>
        <process-name>:RBA-AD-VMware_Infrastructure:Utilities:Host_Operations:Construct Policy Parameters</process-name>
        <unique-id>c7ef7dcf-f205-359f-aa3a-0cb1abd0b1a9</unique-id>
        <parameters>
          <input>
            <from>security allow promiscuous</from>
            <to>security allow promiscuous</to>
          </input>
          <input>
            <from>security mac changes</from>
            <to>security mac changes</to>
          </input>
          <input>
            <from>security forged transmits</from>
            <to>security forged transmits</to>
          </input>
          <input>
            <from>nic teaming policy</from>
            <to>nic teaming policy</to>
          </input>
          <input>
            <from>nic teaming reverse policy</from>
            <to>nic teaming reverse policy</to>
          </input>
          <input>
            <from>nic teaming notify switches</from>
            <to>nic teaming notify switches</to>
          </input>
          <input>
            <from>nic teaming rolling order</from>
            <to>nic teaming rolling order</to>
          </input>
          <input>
            <from>failure criteria check speed</from>
            <to>failure criteria check speed</to>
          </input>
          <input>
            <from>failure criteria speed</from>
            <to>failure criteria speed</to>
          </input>
          <input>
            <from>failure criteria check duplex</from>
            <to>failure criteria check duplex</to>
          </input>
          <input>
            <from>failure criteria full duplex</from>
            <to>failure criteria full duplex</to>
          </input>
          <input>
            <from>failure criteria check error percent</from>
            <to>failure criteria check error percent</to>
          </input>
          <input>
            <from>failure criteria percentage</from>
            <to>failure criteria percentage</to>
          </input>
          <input>
            <from>failure criteria check beacon</from>
            <to>failure criteria check beacon</to>
          </input>
          <input>
            <from>active nic list</from>
            <to>active nic list</to>
          </input>
          <input>
            <from>standby nic list</from>
            <to>standby nic list</to>
          </input>
          <input>
            <from>offload policy csum offload</from>
            <to>offload policy csum offload</to>
          </input>
          <input>
            <from>offload policy tcp segmentation</from>
            <to>offload policy tcp segmentation</to>
          </input>
          <input>
            <from>offload policy zero copy xmit</from>
            <to>offload policy zero copy xmit</to>
          </input>
          <input>
            <from>shaping policy enabled</from>
            <to>shaping policy enabled</to>
          </input>
          <input>
            <from>shaping policy average bandwidth</from>
            <to>shaping policy average bandwidth</to>
          </input>
          <input>
            <from>shaping policy peak bandwidth</from>
            <to>shaping policy peak bandwidth</to>
          </input>
          <input>
            <from>shaping policy burst size</from>
            <to>shaping policy burst size</to>
          </input>
          <output>
            <from>policy</from>
            <to>policy</to>
          </output>
        </parameters>
        <meta>
          <documentation />
          <run-mode-handling>
            <run-mode>OCP</run-mode>
            <allow-step-into>false</allow-step-into>
          </run-mode-handling>
          <checkpoint>false</checkpoint>
        </meta>
        <location>:call-process[1]</location>
      </call-process>
      <assign>
        <assignment>
          <output>
            <to>items</to>
            <value>
              <empty />
            </value>
          </output>
          <xslt-stylesheet>
            <stylesheet-replacement-tokens>
              <replacement-token name="host">
                <input global="false">
                  <from>host</from>
                </input>
              </replacement-token>
              <replacement-token name="name">
                <input global="false">
                  <from>name</from>
                </input>
              </replacement-token>
              <replacement-token name="num port">
                <input global="false">
                  <from>num port</from>
                </input>
              </replacement-token>
              <replacement-token name="policy">
                <input global="false">
                  <from>policy</from>
                </input>
              </replacement-token>
              <replacement-token name="bridge nic device">
                <input global="false">
                  <from>bridge nic device</from>
                </input>
              </replacement-token>
            </stylesheet-replacement-tokens>
            <stylesheet><![CDATA[<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
  <xsl:output indent="no" />
  <xsl:template match="/">
    <items>
      <item>
        <parameters>
          <host-system>${host}</host-system>
          <vswitch-name>${name}</vswitch-name>
          <spec>
            <num-ports>${num port}</num-ports>
            <bridge>
              <nic-device>${bridge nic device}</nic-device>
            </bridge>
            ${policy}
          </spec>
        </parameters>
      </item>
    </items>
  </xsl:template>
</xsl:stylesheet>]]></stylesheet>
          </xslt-stylesheet>
        </assignment>
        <meta>
          <documentation />
          <checkpoint>false</checkpoint>
        </meta>
        <location>:assign[1]</location>
      </assign>
    </sequence>
    <meta>
      <expose-to>
        <consumer>RULE</consumer>
        <consumer>SCHEDULE</consumer>
      </expose-to>
      <documentation>
        <description>Constructs &lt;items&gt; for Update Virtual Switch operation</description>
        <version></version>
      </documentation>
      <peer-location>
        <location>any</location>
      </peer-location>
      <record-metrics>false</record-metrics>
      <process-id>a4b21653-e4e8-42c8-bdfa-7e74cd4e6088</process-id>
      <author>admin</author>
      <category></category>
      <status></status>
      <keywords></keywords>
      <systems></systems>
      <last-modified-by>admin</last-modified-by>
      <last-modified>1331103033281</last-modified>
    </meta>
  </process-def>
</process>