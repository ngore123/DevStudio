<process draft="false" dev-studio-version="20.02.00">
  <process-def name=":BMC-SA-ITSM_Automation:Change_Management:Create Change Ticket">
    <parameters>
      <input global="false" required="false">
        <description>BMC_AR_System/ServiceNow 

If not supplied, default will be taken from module configuration.</description>
        <from>ITSMPlatform</from>
        <to>ITSMPlatform</to>
      </input>
      <input global="false" required="false">
        <description>Template to be used to create the change</description>
        <from>ChangeTemplateName</from>
        <to>ChangeTemplateName</to>
      </input>
      <input global="false" required="false">
        <description>Semicolon separated list of target names assigned to the given job.</description>
        <from>CINameList</from>
        <to>CINameList</to>
      </input>
      <input global="false" required="false">
        <description>List of Reconciliation IDs of each CI to be associated with the Task.

Not supported by ServiceNow.</description>
        <from>CIReconIDList</from>
        <to>CIReconIDList</to>
      </input>
      <input global="false" required="false">
        <description>Customer User ID.

e.g. BLAdmin (user must exist in Remedy)
        System Administrator (ServiceNow)</description>
        <from>CustomerLoginID</from>
        <to>CustomerLoginID</to>
      </input>
      <input global="false" required="false">
        <description>Customer Person ID.
 
Not supported by ServiceNow.

</description>
        <from>CustomerPersonID</from>
        <to>CustomerPersonID</to>
      </input>
      <input global="false" required="false">
        <description>Comments contain description for the Change Summary field.


If not supplied, default will be taken from module configuration.</description>
        <from>Summary</from>
        <to>Comments</to>
      </input>
      <input global="false" required="false">
        <description>Impact of the ticket.

Sample Values for Remedy:
1-Extensive/Widespread
2-Significant/Large
3-Moderate/Limited
4-Minor/Localized


Sample Values for ServiceNow:
1 - High
2 - Medium
3 - Low</description>
        <from>Impact</from>
        <to>Impact</to>
      </input>
      <input global="false" required="false">
        <description>Urgency of the ticket.

Sample Values for remedy:
1-Critical
2-High
3-Medium
4-Low


Sample Values for ServiceNow:
1 - High
2 - Medium
3 - Low</description>
        <from>Urgency</from>
        <to>Urgency</to>
      </input>
      <input global="false" required="false">
        <description>The Class of the Change Ticket.

Valid Values for BMC Remedy:
Emergency
Expedited
Latent
Normal
No Impact
Standard

Valid Values for ServiceNow:
Standard
Normal
Emergency</description>
        <from>ChangeClass</from>
        <to>ChangeClass</to>
      </input>
      <input global="false" required="false">
        <description>ChangeClass of the change 
Sample values for Remedy 
1. Customer/business need
2. Insufficient lead-time
3. Known error correction
4. Scheduling conflict


Not supported by ServiceNow.</description>
        <from>ChangeClassReason</from>
        <to>ChangeClassReason</to>
      </input>
      <input global="false" required="false">
        <description>Reason for Change.

Sample values for Remedy
1. Fix/Repair
2. New Functionality
3. Maintenance
4. Upgrade
5. Other


Sample values for ServiceNow
Problem resolution
User requested
New or removed CI
Hardware upgrade
Software upgrade
Network requirements
Business requirements
Legislation
Location changed
Product or service changed
Other</description>
        <from>ReasonForChange</from>
        <to>ReasonForChange</to>
      </input>
      <input global="false" required="false">
        <description>Change Environment
 
Sample values for Remedy
1. Production
2. Model Office
3. Hot Backup
4. Development

Not supported by ServiceNow.</description>
        <from>ChangeEnvironment</from>
        <to>ChangeEnvironment</to>
      </input>
      <input global="false" required="false">
        <description>Sample values for Remedy
EpochTime


ServiceNow:
yyyy-MM-dd HH:mm:ss</description>
        <from>StartDate</from>
        <to>StartDate</to>
      </input>
      <input global="false" required="false">
        <description>Sample values for Remedy
EpochTime

ServiceNow:
yyyy-MM-dd HH:mm:ss</description>
        <from>EndDate</from>
        <to>EndDate</to>
      </input>
      <input global="false" required="false">
        <description>Status of the Change.

Sample values for Remedy
New
In Progress
Completed
Cancelled

Valid Values for ServiceNow:
New
Assess
Authorize
Scheduled
Implement
Review
Closed
Canceled</description>
        <from>Status</from>
        <to>Status</to>
      </input>
      <input global="false" required="false">
        <description>Status Reason
 
Sample values for Remedy
Success
Failed
To Be Re-Scheduled


Not supported by ServiceNow.</description>
        <from>StatusReason</from>
        <to>StatusReason</to>
      </input>
      <input global="false" required="false">
        <description>Change &lt;Location Company

Sample values for Remedy
Calbro Services


Sample values for ServiceNow:
ACME Africa</description>
        <from>LocationCompany</from>
        <to>LocationCompany</to>
      </input>
      <input global="false" required="false">
        <description>SiteID
 
Not supported by ServiceNow.</description>
        <from>SiteID</from>
        <to>SiteID</to>
      </input>
      <input global="false" required="false">
        <description>=&gt; Only applicable for Remedy.

Maps to SourceID.

Usually name of the host server.

Not supported by ServiceNow.</description>
        <from>HostName</from>
        <to>HostName</to>
      </input>
      <input global="false" required="false">
        <description>ID of the Job represented in source EM.</description>
        <from>JobID</from>
        <to>JobID</to>
      </input>
      <input global="false" required="false">
        <description>Name of the job as represented in source EM
 
Not supported by ServiceNow.</description>
        <from>JobVersion</from>
        <to>JobVersion</to>
      </input>
      <input global="false" required="false">
        <description>Job name of the job for which this process has been invoked.</description>
        <from>JobName</from>
        <to>JobName</to>
      </input>
      <input global="false" required="false">
        <description>Type of the job as represented in source EM
 
Not supported by ServiceNow.</description>
        <from>JobType</from>
        <to>JobType</to>
      </input>
      <input global="false" required="false">
        <description>Detailed description.


Not supported by ServiceNow.</description>
        <from>JobDetailedDescription</from>
        <to>JobDetailedDescription</to>
      </input>
      <input global="false" required="false">
        <description>ScheduleId
 
Not supported by ServiceNow.</description>
        <from>ScheduleId</from>
        <to>ScheduleId</to>
      </input>
      <input global="false" required="false">
        <description>Extra field for feature customization.</description>
        <from>Character01</from>
        <to>Character01</to>
      </input>
      <input global="false" required="false">
        <description>Extra field for feature customization.</description>
        <from>Character02</from>
        <to>Character02</to>
      </input>
      <input global="false" required="false">
        <description>Extra field for feature customization.</description>
        <from>Character03</from>
        <to>Character03</to>
      </input>
      <input global="false" required="false">
        <description>Extra field for feature customization.</description>
        <from>Character04</from>
        <to>Character04</to>
      </input>
      <input global="false" required="false">
        <description>Extra field for feature customization.</description>
        <from>Character05</from>
        <to>Character05</to>
      </input>
      <input global="false" required="false">
        <description>Extra field for feature customization.</description>
        <from>Character06</from>
        <to>Character06</to>
      </input>
      <input global="false" required="false">
        <description>Extra field for feature customization.</description>
        <from>Character07</from>
        <to>Character07</to>
      </input>
      <input global="false" required="false">
        <description>Extra field for feature customization.</description>
        <from>Character08</from>
        <to>Character08</to>
      </input>
      <input global="false" required="false">
        <description>Extra field for feature customization.</description>
        <from>Character09</from>
        <to>Character09</to>
      </input>
      <input global="false" required="false">
        <description>Extra field for feature customization.</description>
        <from>Character10</from>
        <to>Character10</to>
      </input>
      <input global="false" required="false">
        <description>Change Template ID
 
Not supported by ServiceNow.</description>
        <from>TemplateID</from>
        <to>TemplateID</to>
      </input>
      <input global="false" required="false">
        <description>Additional notes</description>
        <from>AdditionalNotes</from>
        <to>AdditionalNotes</to>
      </input>
      <input global="false" required="false">
        <description>Work Info.

Not supported by ServiceNow.</description>
        <from>ChangeWorkInfoNotes</from>
        <to>ChangeWorkInfoNotes</to>
      </input>
      <input global="false" required="false">
        <description>CategorizationTier1
 
Not supported by ServiceNow.</description>
        <from>CategorizationTier1</from>
        <to>CategorizationTier1</to>
      </input>
      <input global="false" required="false">
        <description>CategorizationTier2
 
Not supported by ServiceNow.</description>
        <from>CategorizationTier2</from>
        <to>CategorizationTier2</to>
      </input>
      <input global="false" required="false">
        <description>CategorizationTier3
 
Not supported by ServiceNow.</description>
        <from>CategorizationTier3</from>
        <to>CategorizationTier3</to>
      </input>
      <input global="false" required="false">
        <description>Product Category Tier 1
 
e.g
Hardware/Miscellanous/Network

Not supported by ServiceNow.</description>
        <from>ProductCatTier1</from>
        <to>ProductCatTier1</to>
      </input>
      <input global="false" required="false">
        <description>Product Category Tier 2
 
Not supported by ServiceNow.</description>
        <from>ProductCatTier2</from>
        <to>ProductCatTier2</to>
      </input>
      <input global="false" required="false">
        <description>Product Category Tier3
 
Not supported by ServiceNow.</description>
        <from>ProductCatTier3</from>
        <to>ProductCatTier3</to>
      </input>
      <input global="false" required="false">
        <description>Name of the Product.
 
Not supported by ServiceNow.</description>
        <from>ProductName</from>
        <to>ProductName</to>
      </input>
      <input global="false" required="false">
        <description>Model Version of the product.
 
Not supported by ServiceNow.</description>
        <from>ProductModelVersion</from>
        <to>ProductModelVersion</to>
      </input>
      <input global="false" required="false">
        <description>Manufacturer of the product.
 
Not supported by ServiceNow.</description>
        <from>Manufacturer</from>
        <to>Manufacturer</to>
      </input>
      <input global="false" required="false">
        <description>Assignment Group
 
Valid value for ServiceNow:
Application Development</description>
        <from>VendorAssigneeGroups</from>
        <to>VendorAssigneeGroups</to>
      </input>
      <output global="false" required="false">
        <to>json response</to>
        <from>json response</from>
      </output>
    </parameters>
    <access />
    <sequence>
      <assign>
        <meta>
          <documentation />
          <checkpoint>false</checkpoint>
        </meta>
        <before-execution>
          <log>
            <level>debug</level>
            <parameters>
              <input>
                <value>Inputs Received -</value>
              </input>
              <input>
                <value>Template Name-</value>
              </input>
              <input>
                <from>ChangeTemplateName</from>
              </input>
              <input>
                <value>Change Class</value>
              </input>
              <input>
                <from>ChangeClass</from>
              </input>
              <input>
                <value>Comments -</value>
              </input>
              <input>
                <from>Comments</from>
              </input>
              <input>
                <value>ITSM -</value>
              </input>
              <input>
                <from>ITSMPlatform</from>
              </input>
              <input>
                <value>Impact -</value>
              </input>
              <input>
                <from>Impact</from>
              </input>
              <input>
                <value>JOBID -</value>
              </input>
              <input>
                <from>JobID</from>
              </input>
              <input>
                <value>Schedule</value>
              </input>
              <input>
                <from>StartDate</from>
              </input>
              <input>
                <value>-</value>
              </input>
              <input>
                <from>EndDate</from>
              </input>
              <input>
                <value>Urgency -</value>
              </input>
              <input>
                <from>Urgency</from>
              </input>
              <input>
                <value>User ID -</value>
              </input>
              <input>
                <from>CustomerLoginID</from>
              </input>
            </parameters>
          </log>
        </before-execution>
        <location>:assign[1]</location>
      </assign>
      <call-process>
        <process-name>:BMC-SA-ITSM_Automation:common:Initialize Change Defaults</process-name>
        <parameters>
          <input>
            <from>ITSMPlatform</from>
            <to>configuration name</to>
          </input>
          <input>
            <from>Comments</from>
            <to>comments</to>
          </input>
          <input>
            <from>JobID</from>
            <to>JobID</to>
          </input>
          <input>
            <from>JobName</from>
            <to>JobName</to>
          </input>
          <input>
            <from>JobType</from>
            <to>JobType</to>
          </input>
          <output>
            <from>success status</from>
            <to>success status</to>
          </output>
          <output>
            <from>status message</from>
            <to>status message</to>
          </output>
          <output>
            <from>date format</from>
            <to>date format</to>
          </output>
          <output>
            <from>authentication username</from>
            <to>authentication username</to>
          </output>
          <output>
            <from>summary</from>
            <to>summary</to>
          </output>
          <output>
            <from>change template field name</from>
            <to>change template field name</to>
          </output>
          <output>
            <from>status</from>
            <to>status</to>
          </output>
          <output>
            <from>configuration name</from>
            <to>ITSMPlatform</to>
          </output>
        </parameters>
        <meta>
          <documentation />
          <run-mode-handling>
            <run-mode>OCP</run-mode>
            <allow-step-into>true</allow-step-into>
          </run-mode-handling>
          <checkpoint>false</checkpoint>
        </meta>
        <before-execution>
          <log>
            <level>info</level>
            <parameters>
              <input>
                <value>Initializing Change fields</value>
              </input>
              <input>
                <value></value>
              </input>
            </parameters>
          </log>
        </before-execution>
        <after-execution>
          <log>
            <level>info</level>
            <parameters>
              <input>
                <value>Successfully initialized Change fields</value>
              </input>
              <input>
                <from>ITSMPlatform</from>
              </input>
              <input>
                <value></value>
              </input>
              <input>
                <from>summary</from>
              </input>
              <input>
                <value></value>
              </input>
            </parameters>
          </log>
        </after-execution>
        <location>:call-process[1]</location>
      </call-process>
      <switch>
        <meta>
          <documentation />
          <run-mode-handling>
            <run-mode>OCP</run-mode>
            <allow-step-into>true</allow-step-into>
          </run-mode-handling>
          <checkpoint>false</checkpoint>
        </meta>
        <execute-all-applicable-cases>false</execute-all-applicable-cases>
        <default>
          <sequence>
            <call-process>
              <process-name>:AutoPilot-OA-ITSM_Automation:Utilities:Generate Response</process-name>
              <parameters>
                <input>
                  <value>failure</value>
                  <to>status</to>
                </input>
                <input>
                  <concat>
                    <input>
                      <value>Failed to create Change. Unsupported ITSM Platform Set -  </value>
                    </input>
                    <input required="false">
                      <from>ITSMPlatform</from>
                    </input>
                  </concat>
                  <to>error message</to>
                </input>
                <input>
                  <value>Create Change Ticket</value>
                  <to>request type</to>
                </input>
                <input>
                  <concat>
                    <input>
                      <value>Failed to create Change. Unsupported ITSM Platform Set -  </value>
                    </input>
                    <input required="false">
                      <from>ITSMPlatform</from>
                    </input>
                  </concat>
                  <to>data</to>
                </input>
                <output>
                  <from>json response</from>
                  <to>json response</to>
                </output>
              </parameters>
              <meta>
                <documentation />
                <run-mode-handling>
                  <run-mode>OCP</run-mode>
                  <allow-step-into>false</allow-step-into>
                </run-mode-handling>
                <checkpoint>false</checkpoint>
              </meta>
              <location>:switch[1]:sequence[1]:call-process[1]</location>
            </call-process>
          </sequence>
        </default>
        <case>
          <condition>
            <document>
              <input>
                <from>ITSMPlatform</from>
              </input>
            </document>
            <xpath-expression>
              <xpath-replacement-tokens />
              <xpath><![CDATA[string(.) = "BMC_AR_System"]]></xpath>
            </xpath-expression>
          </condition>
          <sequence>
            <call-process>
              <process-name>:BMC-SA-ITSM_Automation:Utilities:Validate Input</process-name>
              <parameters>
                <input>
                  <from>ITSMPlatform</from>
                  <to>ConfigurationName</to>
                </input>
                <input>
                  <from>Urgency</from>
                  <to>Urgency</to>
                </input>
                <input>
                  <from>Impact</from>
                  <to>Impact</to>
                </input>
                <input>
                  <from>StartDate</from>
                  <to>StartDate</to>
                </input>
                <input>
                  <from>EndDate</from>
                  <to>EndDate</to>
                </input>
                <input>
                  <from>Status</from>
                  <to>Status</to>
                </input>
                <input>
                  <from>StatusReason</from>
                  <to>StatusReason</to>
                </input>
                <input>
                  <from>ChangeClass</from>
                  <to>ChangeClass</to>
                </input>
                <input>
                  <from>ChangeClassReason</from>
                  <to>ChangeClassReason</to>
                </input>
                <input>
                  <from>ReasonForChange</from>
                  <to>ReasonForChange</to>
                </input>
                <input>
                  <from>ChangeEnvironment</from>
                  <to>ChangeEnvironment</to>
                </input>
                <output>
                  <from>urgency validation failure</from>
                  <to>urgency validation failure</to>
                </output>
                <output>
                  <from>change class validation failure</from>
                  <to>change class validation failure</to>
                </output>
                <output>
                  <from>class reason validation failure</from>
                  <to>class reason validation failure</to>
                </output>
                <output>
                  <from>impact validation failure</from>
                  <to>impact validation failure</to>
                </output>
                <output>
                  <from>reason change validation failure</from>
                  <to>reason change validation failure</to>
                </output>
                <output>
                  <from>status validation failure</from>
                  <to>status validation failure</to>
                </output>
                <output>
                  <from>status reason validation failure</from>
                  <to>status reason validation failure</to>
                </output>
                <output>
                  <from>start date validation failure</from>
                  <to>start date validation failure</to>
                </output>
                <output>
                  <from>end date validation failure</from>
                  <to>end date validation failure</to>
                </output>
                <output>
                  <from>consolidated validation failure</from>
                  <to>consolidated validation failure</to>
                  <xpath-expression>
                    <xpath-replacement-tokens />
                    <xpath><![CDATA[normalize-space(.)]]></xpath>
                  </xpath-expression>
                </output>
              </parameters>
              <meta>
                <documentation />
                <run-mode-handling>
                  <run-mode>OCP</run-mode>
                  <allow-step-into>true</allow-step-into>
                </run-mode-handling>
                <checkpoint>false</checkpoint>
              </meta>
              <location>:switch[1]:sequence[2]:call-process[1]</location>
            </call-process>
            <switch>
              <meta>
                <documentation />
                <run-mode-handling>
                  <run-mode>OCP</run-mode>
                  <allow-step-into>true</allow-step-into>
                </run-mode-handling>
                <checkpoint>false</checkpoint>
              </meta>
              <execute-all-applicable-cases>false</execute-all-applicable-cases>
              <default>
                <sequence>
                  <call-process>
                    <process-name>:AutoPilot-OA-ITSM_Automation:Utilities:Generate Response</process-name>
                    <parameters>
                      <input>
                        <value>failure</value>
                        <to>status</to>
                      </input>
                      <input>
                        <concat>
                          <input>
                            <value>Following validations failed  - [</value>
                          </input>
                          <input required="false">
                            <from>consolidated validation failure</from>
                          </input>
                          <input>
                            <value>]</value>
                          </input>
                        </concat>
                        <to>error message</to>
                      </input>
                      <input>
                        <value>Create Change Ticket</value>
                        <to>request type</to>
                      </input>
                      <input>
                        <concat>
                          <input>
                            <value>Following validations failed  - [</value>
                          </input>
                          <input required="false">
                            <from>consolidated validation failure</from>
                          </input>
                          <input>
                            <value>]</value>
                          </input>
                        </concat>
                        <to>data</to>
                      </input>
                      <output>
                        <from>json response</from>
                        <to>json response</to>
                      </output>
                    </parameters>
                    <meta>
                      <documentation />
                      <run-mode-handling>
                        <run-mode>OCP</run-mode>
                        <allow-step-into>false</allow-step-into>
                      </run-mode-handling>
                      <checkpoint>false</checkpoint>
                    </meta>
                    <location>:switch[1]:sequence[2]:switch[1]:sequence[1]:call-process[1]</location>
                  </call-process>
                </sequence>
              </default>
              <case>
                <condition>
                  <document>
                    <input>
                      <from>consolidated validation failure</from>
                    </input>
                  </document>
                  <xpath-expression>
                    <xpath-replacement-tokens />
                    <xpath><![CDATA[normalize-space(.)]]></xpath>
                  </xpath-expression>
                  <xpath-expression>
                    <xpath-replacement-tokens />
                    <xpath><![CDATA[string-length(.)]]></xpath>
                  </xpath-expression>
                  <xpath-expression>
                    <xpath-replacement-tokens />
                    <xpath><![CDATA[number(.) = 0]]></xpath>
                  </xpath-expression>
                </condition>
                <sequence>
                  <call-process>
                    <process-name>:BMC-SA-ITSM_Configuration:Read AR Details</process-name>
                    <parameters>
                      <input>
                        <from>HostName</from>
                        <to>Host</to>
                      </input>
                      <output>
                        <from>ServerUrl</from>
                        <to>ServerUrl</to>
                      </output>
                      <output>
                        <from>Username</from>
                        <to>Username</to>
                      </output>
                      <output>
                        <from>Password</from>
                        <to>Password</to>
                      </output>
                      <output>
                        <from>CommunicationProtocol</from>
                        <to>communication protocol</to>
                      </output>
                      <output>
                        <from>AdapterName</from>
                        <to>AdapterName</to>
                      </output>
                      <output>
                        <from>CreateChangeInterface</from>
                        <to>CreateChangeInterface</to>
                      </output>
                      <output>
                        <from>ChangeSource</from>
                        <to>ChangeSource</to>
                      </output>
                      <output>
                        <from>Keystore</from>
                        <to>Keystore</to>
                      </output>
                      <output>
                        <from>Truststore</from>
                        <to>Truststore</to>
                      </output>
                      <output>
                        <from>Passphrase</from>
                        <to>Passphrase</to>
                      </output>
                      <output>
                        <from>CreateChangeSOAPAction</from>
                        <to>CreateChangeSOAPAction</to>
                      </output>
                    </parameters>
                    <meta>
                      <documentation />
                      <run-mode-handling>
                        <run-mode>OCP</run-mode>
                        <allow-step-into>false</allow-step-into>
                      </run-mode-handling>
                      <checkpoint>false</checkpoint>
                    </meta>
                    <location>:switch[1]:sequence[2]:switch[1]:sequence[2]:call-process[1]</location>
                  </call-process>
                  <call-process>
                    <process-name>:AutoPilot-OA-ITSM_Automation:Change_Management:Do Create Change</process-name>
                    <parameters>
                      <input>
                        <from>ITSMPlatform</from>
                        <to>ITSMPlatform</to>
                      </input>
                      <input>
                        <from>AdapterName</from>
                        <to>AdapterName</to>
                      </input>
                      <input>
                        <from>CreateChangeInterface</from>
                        <to>CreateChangeInterface</to>
                      </input>
                      <input>
                        <from>ChangeSource</from>
                        <to>HostName</to>
                      </input>
                      <input>
                        <from>ServerUrl</from>
                        <to>ServerURL</to>
                      </input>
                      <input>
                        <from>CreateChangeSOAPAction</from>
                        <to>CreateChangeSOAPAction</to>
                      </input>
                      <input>
                        <from>Username</from>
                        <to>UserName</to>
                      </input>
                      <input>
                        <from>Password</from>
                        <to>Password</to>
                      </input>
                      <input>
                        <from>summary</from>
                        <to>Summary</to>
                      </input>
                      <input>
                        <from>ChangeTemplateName</from>
                        <to>ChangeTemplateName</to>
                      </input>
                      <input>
                        <from>CINameList</from>
                        <to>Targets</to>
                      </input>
                      <input>
                        <from>CustomerLoginID</from>
                        <to>CustomerLoginID</to>
                      </input>
                      <input>
                        <from>CustomerPersonID</from>
                        <to>CustomerPersonID</to>
                      </input>
                      <input>
                        <from>Impact</from>
                        <to>Impact</to>
                      </input>
                      <input>
                        <from>Status</from>
                        <to>Status</to>
                      </input>
                      <input>
                        <from>StatusReason</from>
                        <to>StatusReason</to>
                      </input>
                      <input>
                        <from>Urgency</from>
                        <to>Urgency</to>
                      </input>
                      <input>
                        <from>ChangeClass</from>
                        <to>ChangeClass</to>
                      </input>
                      <input>
                        <from>ChangeClassReason</from>
                        <to>ChangeClassReason</to>
                      </input>
                      <input>
                        <from>ReasonForChange</from>
                        <to>ReasonForChange</to>
                      </input>
                      <input>
                        <from>ChangeEnvironment</from>
                        <to>ChangeEnvironment</to>
                      </input>
                      <input>
                        <from>CIReconIDList</from>
                        <to>CIReconIDList</to>
                      </input>
                      <input>
                        <from>StartDate</from>
                        <to>StartDate</to>
                      </input>
                      <input>
                        <from>EndDate</from>
                        <to>EndDate</to>
                      </input>
                      <input>
                        <from>LocationCompany</from>
                        <to>LocationCompany</to>
                      </input>
                      <input>
                        <from>SiteID</from>
                        <to>SiteID</to>
                      </input>
                      <input>
                        <from>JobID</from>
                        <to>JobID</to>
                      </input>
                      <input>
                        <from>JobVersion</from>
                        <to>JobVersion</to>
                      </input>
                      <input>
                        <from>JobName</from>
                        <to>JobName</to>
                      </input>
                      <input>
                        <from>JobType</from>
                        <to>JobType</to>
                      </input>
                      <input>
                        <from>JobDetailedDescription</from>
                        <to>JobDetailedDescription</to>
                      </input>
                      <input>
                        <from>ScheduleId</from>
                        <to>ScheduleID</to>
                      </input>
                      <input>
                        <from>Character01</from>
                        <to>Character01</to>
                      </input>
                      <input>
                        <from>Character02</from>
                        <to>Character02</to>
                      </input>
                      <input>
                        <from>Character03</from>
                        <to>Character03</to>
                      </input>
                      <input>
                        <from>Character04</from>
                        <to>Character04</to>
                      </input>
                      <input>
                        <from>Character05</from>
                        <to>Character05</to>
                      </input>
                      <input>
                        <from>Character06</from>
                        <to>Character06</to>
                      </input>
                      <input>
                        <from>Character07</from>
                        <to>Character07</to>
                      </input>
                      <input>
                        <from>Character08</from>
                        <to>Character08</to>
                      </input>
                      <input>
                        <from>Character09</from>
                        <to>Character09</to>
                      </input>
                      <input>
                        <from>Character10</from>
                        <to>Character10</to>
                      </input>
                      <input>
                        <from>TemplateID</from>
                        <to>TemplateID</to>
                      </input>
                      <input>
                        <from>AdditionalNotes</from>
                        <to>AdditionalNotes</to>
                      </input>
                      <input>
                        <from>ChangeWorkInfoNotes</from>
                        <to>ChangeWorkInfoNotes</to>
                      </input>
                      <input>
                        <from>CategorizationTier1</from>
                        <to>CategorizationTier1</to>
                      </input>
                      <input>
                        <from>CategorizationTier2</from>
                        <to>CategorizationTier2</to>
                      </input>
                      <input>
                        <from>CategorizationTier3</from>
                        <to>CategorizationTier3</to>
                      </input>
                      <input>
                        <from>ProductCatTier1</from>
                        <to>ProductCatTier1</to>
                      </input>
                      <input>
                        <from>ProductCatTier2</from>
                        <to>ProductCatTier2</to>
                      </input>
                      <input>
                        <from>ProductCatTier3</from>
                        <to>ProductCatTier3</to>
                      </input>
                      <input>
                        <from>ProductName</from>
                        <to>ProductName</to>
                      </input>
                      <input>
                        <from>ProductModelVersion</from>
                        <to>ProductModelVersion</to>
                      </input>
                      <input>
                        <from>Manufacturer</from>
                        <to>Manufacturer</to>
                      </input>
                      <input>
                        <from>Keystore</from>
                        <to>Keystore</to>
                      </input>
                      <input>
                        <from>Truststore</from>
                        <to>TrustStore</to>
                      </input>
                      <input>
                        <from>communication protocol</from>
                        <to>CommunicationProtocol</to>
                      </input>
                      <input>
                        <from>Passphrase</from>
                        <to>Passphrase</to>
                      </input>
                      <output>
                        <from>json response</from>
                        <to>json response</to>
                      </output>
                    </parameters>
                    <meta>
                      <documentation />
                      <run-mode-handling>
                        <run-mode>OCP</run-mode>
                        <allow-step-into>false</allow-step-into>
                      </run-mode-handling>
                      <checkpoint>false</checkpoint>
                    </meta>
                    <location>:switch[1]:sequence[2]:switch[1]:sequence[2]:call-process[2]</location>
                  </call-process>
                </sequence>
              </case>
              <location>:switch[1]:sequence[2]:switch[1]</location>
            </switch>
          </sequence>
        </case>
        <case>
          <condition>
            <document>
              <input>
                <from>ITSMPlatform</from>
              </input>
            </document>
            <xpath-expression>
              <xpath-replacement-tokens />
              <xpath><![CDATA[string(.) = "ServiceNow"]]></xpath>
            </xpath-expression>
          </condition>
          <sequence>
            <call-process>
              <process-name>:BMC-SA-ITSM_Automation:common:Format Epoch to Date</process-name>
              <parameters>
                <input>
                  <from>StartDate</from>
                  <to>start date</to>
                </input>
                <input>
                  <from>EndDate</from>
                  <to>end date</to>
                </input>
                <input global="true">
                  <configuration>:BMC-SA-ITSM_Configuration:ITSM:ServiceNow:ChangeManagement:DEFAULT_DATE_FORMAT</configuration>
                  <to>date format</to>
                </input>
                <input global="true">
                  <configuration>:BMC-SA-ITSM_Configuration:ITSM:ServiceNow:UserDefaults:TimeZone</configuration>
                  <to>timezone</to>
                </input>
                <output>
                  <from>start date</from>
                  <to>StartDate</to>
                </output>
                <output>
                  <from>end date</from>
                  <to>EndDate</to>
                </output>
              </parameters>
              <meta>
                <documentation />
                <run-mode-handling>
                  <run-mode>OCP</run-mode>
                  <allow-step-into>false</allow-step-into>
                </run-mode-handling>
                <checkpoint>false</checkpoint>
              </meta>
              <location>:switch[1]:sequence[3]:call-process[1]</location>
            </call-process>
            <assign>
              <assignment>
                <document>
                  <input>
                    <from>Comments</from>
                  </input>
                </document>
                <result>
                  <output>
                    <to>change</to>
                    <concept type="AutoPilot-OA-Change_Management:Change">
                      <attribute>description</attribute>
                    </concept>
                  </output>
                </result>
                <xslt-stylesheet>
                  <stylesheet-replacement-tokens>
                    <replacement-token name="JobID">
                      <input global="false">
                        <from>JobID</from>
                      </input>
                    </replacement-token>
                    <replacement-token name="JobName">
                      <input global="false">
                        <from>JobName</from>
                      </input>
                    </replacement-token>
                  </stylesheet-replacement-tokens>
                  <stylesheet><![CDATA[<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
  <xsl:output indent="no" />
  <xsl:template match="/">
    <xsl:variable name="jobDetails">
      <xsl:choose>
        <xsl:when test="string-length('${JobID}') &gt; 0 and string-length('${JobName}') &gt; 0">
          <xsl:text disable-output-escaping="no">JobID-${JobID}  |  JobName-${JobName}</xsl:text>
        </xsl:when>
        <xsl:when test="string-length('${JobID}') &gt; 0 and string-length('${JobName}') = 0">
          <xsl:text disable-output-escaping="no">JobID-${JobID}</xsl:text>
        </xsl:when>
        <xsl:when test="string-length('${JobID}') = 0 and string-length('${JobName}') &gt; 0">
          <xsl:text disable-output-escaping="no">JobName-${JobName}</xsl:text>
        </xsl:when>
        <xsl:otherwise>
          <xsl:text></xsl:text>
        </xsl:otherwise>
      </xsl:choose>
    </xsl:variable>
    <value>
      <xsl:choose>
        <xsl:when test="string-length(.) &gt; 0 and string-length($jobDetails) &gt; 0">
          <xsl:value-of select="concat(., '  |  ', $jobDetails)" disable-output-escaping="no" />
        </xsl:when>
        <xsl:when test="string-length(.) &gt; 0">
          <xsl:value-of select="string(.)" disable-output-escaping="no" />
        </xsl:when>
        <xsl:otherwise>
          <xsl:value-of select="$jobDetails" disable-output-escaping="no" />
        </xsl:otherwise>
      </xsl:choose>
    </value>
  </xsl:template>
</xsl:stylesheet>]]></stylesheet>
                </xslt-stylesheet>
              </assignment>
              <assignment>
                <input>
                  <from>Impact</from>
                </input>
                <output>
                  <to>change</to>
                  <concept type="AutoPilot-OA-Change_Management:Change">
                    <attribute>impact</attribute>
                  </concept>
                </output>
              </assignment>
              <assignment>
                <input>
                  <from>Urgency</from>
                </input>
                <output>
                  <to>change</to>
                  <concept type="AutoPilot-OA-Change_Management:Change">
                    <attribute>urgency</attribute>
                  </concept>
                </output>
              </assignment>
              <assignment>
                <input>
                  <from>AdditionalNotes</from>
                </input>
                <output>
                  <to>change</to>
                  <concept type="AutoPilot-OA-Change_Management:Change">
                    <attribute>worklog-details</attribute>
                  </concept>
                </output>
              </assignment>
              <assignment>
                <input>
                  <from>ChangeClass</from>
                </input>
                <output>
                  <to>change</to>
                  <concept type="AutoPilot-OA-Change_Management:Change">
                    <attribute>change-type</attribute>
                  </concept>
                </output>
              </assignment>
              <assignment>
                <input>
                  <from>StartDate</from>
                </input>
                <output>
                  <to>change</to>
                  <concept type="AutoPilot-OA-Change_Management:Change">
                    <attribute>scheduled-start-date</attribute>
                  </concept>
                </output>
              </assignment>
              <assignment>
                <input>
                  <from>EndDate</from>
                </input>
                <output>
                  <to>change</to>
                  <concept type="AutoPilot-OA-Change_Management:Change">
                    <attribute>scheduled-end-date</attribute>
                  </concept>
                </output>
              </assignment>
              <assignment>
                <document>
                  <input>
                    <from>CINameList</from>
                  </input>
                </document>
                <result>
                  <output>
                    <to>change</to>
                    <concept type="AutoPilot-OA-Change_Management:Change">
                      <attribute>configuration-item</attribute>
                    </concept>
                  </output>
                </result>
                <xslt-stylesheet>
                  <stylesheet-replacement-tokens />
                  <stylesheet><![CDATA[<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
  <xsl:output indent="no" />
  <xsl:template match="/">
    <value>
      <xsl:choose>
        <xsl:when test="contains(., &quot;;&quot;)">
          <xsl:text />
        </xsl:when>
        <xsl:otherwise>
          <xsl:value-of select="string(.)" disable-output-escaping="no" />
        </xsl:otherwise>
      </xsl:choose>
    </value>
  </xsl:template>
</xsl:stylesheet>]]></stylesheet>
                </xslt-stylesheet>
              </assignment>
              <assignment>
                <document>
                  <input>
                    <from>ChangeTemplateName</from>
                  </input>
                </document>
                <result>
                  <output>
                    <to>change</to>
                    <concept type="AutoPilot-OA-Change_Management:Change">
                      <attribute>template-id</attribute>
                    </concept>
                  </output>
                </result>
                <xslt-stylesheet>
                  <stylesheet-replacement-tokens />
                  <stylesheet><![CDATA[<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
  <xsl:output indent="no" />
  <xsl:template match="/">
    <value>
      <xsl:choose>
        <xsl:when test="contains(., &quot;-&quot;)">
          <xsl:value-of select="normalize-space(substring-before(., &quot;-&quot;))" disable-output-escaping="no" />
        </xsl:when>
        <xsl:otherwise>
          <xsl:value-of select="string(.)" disable-output-escaping="no" />
        </xsl:otherwise>
      </xsl:choose>
    </value>
  </xsl:template>
</xsl:stylesheet>]]></stylesheet>
                </xslt-stylesheet>
              </assignment>
              <assignment>
                <input>
                  <from>ChangeTemplateName</from>
                </input>
                <output>
                  <to>change</to>
                  <concept type="AutoPilot-OA-Change_Management:Change">
                    <attribute>std-change-producer-version</attribute>
                  </concept>
                </output>
              </assignment>
              <assignment>
                <input>
                  <from>ReasonForChange</from>
                </input>
                <output>
                  <to>change</to>
                  <concept type="AutoPilot-OA-Change_Management:Change">
                    <attribute>reason-for-change</attribute>
                  </concept>
                </output>
              </assignment>
              <assignment>
                <input>
                  <from>Status</from>
                </input>
                <output>
                  <to>change</to>
                  <concept type="AutoPilot-OA-Change_Management:Change">
                    <attribute>status</attribute>
                  </concept>
                </output>
              </assignment>
              <assignment>
                <input>
                  <from>LocationCompany</from>
                </input>
                <output>
                  <to>change</to>
                  <concept type="AutoPilot-OA-Change_Management:Change">
                    <attribute>company</attribute>
                  </concept>
                </output>
              </assignment>
              <assignment>
                <input>
                  <from>StatusReason</from>
                </input>
                <output>
                  <to>change</to>
                  <concept type="AutoPilot-OA-Change_Management:Change">
                    <attribute>status-reason</attribute>
                  </concept>
                </output>
              </assignment>
              <assignment>
                <input>
                  <from>CustomerLoginID</from>
                </input>
                <output>
                  <to>change</to>
                  <concept type="AutoPilot-OA-Change_Management:Change">
                    <attribute>requester-login-name</attribute>
                  </concept>
                </output>
              </assignment>
              <assignment>
                <input>
                  <from>VendorAssigneeGroups</from>
                </input>
                <output>
                  <to>change</to>
                  <concept type="AutoPilot-OA-Change_Management:Change">
                    <attribute>assignee-groups</attribute>
                  </concept>
                </output>
              </assignment>
              <assignment>
                <document>
                  <input>
                    <from>change</from>
                  </input>
                </document>
                <result>
                  <output>
                    <to>changes</to>
                  </output>
                </result>
                <xslt-stylesheet>
                  <stylesheet-replacement-tokens>
                    <replacement-token name="change">
                      <input global="false">
                        <from>change</from>
                      </input>
                    </replacement-token>
                  </stylesheet-replacement-tokens>
                  <stylesheet><![CDATA[<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
  <xsl:output indent="yes" cdata-section-elements="location" />
  <xsl:template match="/">
    <Changes>
      <xsl:choose>
        <xsl:when test="string-length(//change) &gt; 0">
          <xsl:copy-of select="//change" />
        </xsl:when>
        <xsl:otherwise>${change}</xsl:otherwise>
      </xsl:choose>
    </Changes>
  </xsl:template>
</xsl:stylesheet>]]></stylesheet>
                </xslt-stylesheet>
              </assignment>
              <meta>
                <documentation />
                <checkpoint>false</checkpoint>
              </meta>
              <after-execution>
                <log>
                  <level>debug</level>
                  <parameters>
                    <input>
                      <value>Show contents of changes</value>
                    </input>
                    <input>
                      <from>changes</from>
                    </input>
                  </parameters>
                </log>
              </after-execution>
              <location>:switch[1]:sequence[3]:assign[1]</location>
            </assign>
            <call-process>
              <process-name>:AutoPilot-OA-Change_Management:Create Changes</process-name>
              <parameters>
                <input>
                  <from>ITSMPlatform</from>
                  <to>configuration name</to>
                </input>
                <input>
                  <from>changes</from>
                  <to>changes</to>
                </input>
                <output>
                  <from>changes</from>
                  <to>changes</to>
                </output>
                <output>
                  <from>success status</from>
                  <to>success status</to>
                </output>
                <output>
                  <from>status message</from>
                  <to>status message</to>
                </output>
              </parameters>
              <meta>
                <documentation />
                <run-mode-handling>
                  <run-mode>OCP</run-mode>
                  <allow-step-into>false</allow-step-into>
                </run-mode-handling>
                <checkpoint>false</checkpoint>
              </meta>
              <location>:switch[1]:sequence[3]:call-process[2]</location>
            </call-process>
            <switch>
              <meta>
                <documentation />
                <run-mode-handling>
                  <run-mode>OCP</run-mode>
                  <allow-step-into>true</allow-step-into>
                </run-mode-handling>
                <checkpoint>false</checkpoint>
              </meta>
              <execute-all-applicable-cases>false</execute-all-applicable-cases>
              <default>
                <sequence>
                  <call-process>
                    <process-name>:BMC-SA-ITSM_Automation:Change_Management:Get Change Status</process-name>
                    <parameters>
                      <input>
                        <from>changes</from>
                        <to>ChangeIDs</to>
                        <xpath-expression>
                          <xpath-replacement-tokens />
                          <xpath><![CDATA[//change-id/text()]]></xpath>
                        </xpath-expression>
                      </input>
                      <input>
                        <from>ITSMPlatform</from>
                        <to>ITSMPlatform</to>
                      </input>
                      <output>
                        <from>json response</from>
                        <to>json response</to>
                      </output>
                    </parameters>
                    <meta>
                      <documentation />
                      <run-mode-handling>
                        <run-mode>OCP</run-mode>
                        <allow-step-into>false</allow-step-into>
                      </run-mode-handling>
                      <checkpoint>false</checkpoint>
                    </meta>
                    <location>:switch[1]:sequence[3]:switch[1]:sequence[1]:call-process[1]</location>
                  </call-process>
                </sequence>
              </default>
              <case>
                <condition>
                  <document>
                    <input>
                      <from>success status</from>
                    </input>
                  </document>
                  <xpath-expression>
                    <xpath-replacement-tokens>
                      <replacement-token name="ciList">
                        <input global="false">
                          <from>CINameList</from>
                        </input>
                      </replacement-token>
                    </xpath-replacement-tokens>
                    <xpath><![CDATA[string(.) = "failure"]]></xpath>
                  </xpath-expression>
                </condition>
                <sequence>
                  <call-process>
                    <process-name>:AutoPilot-OA-ITSM_Automation:Utilities:Generate Response</process-name>
                    <parameters>
                      <input>
                        <value>failure</value>
                        <to>status</to>
                      </input>
                      <input>
                        <value>Failed to create Change.</value>
                        <to>error message</to>
                      </input>
                      <input>
                        <value>Create Change Ticket</value>
                        <to>request type</to>
                      </input>
                      <input>
                        <value>Failed to create Change.</value>
                        <to>data</to>
                      </input>
                      <output>
                        <from>json response</from>
                        <to>json response</to>
                      </output>
                    </parameters>
                    <meta>
                      <documentation />
                      <run-mode-handling>
                        <run-mode>OCP</run-mode>
                        <allow-step-into>false</allow-step-into>
                      </run-mode-handling>
                      <checkpoint>false</checkpoint>
                    </meta>
                    <location>:switch[1]:sequence[3]:switch[1]:sequence[2]:call-process[1]</location>
                  </call-process>
                </sequence>
              </case>
              <case>
                <condition>
                  <document>
                    <input>
                      <from>success status</from>
                    </input>
                  </document>
                  <xpath-expression>
                    <xpath-replacement-tokens>
                      <replacement-token name="ciList">
                        <input global="false">
                          <from>CINameList</from>
                        </input>
                      </replacement-token>
                    </xpath-replacement-tokens>
                    <xpath><![CDATA[string(.) = 'success'  and contains("${ciList}", ";")]]></xpath>
                  </xpath-expression>
                </condition>
                <sequence>
                  <assign>
                    <assignment>
                      <document>
                        <input>
                          <from>changes</from>
                        </input>
                      </document>
                      <result>
                        <output>
                          <to>ciChange</to>
                          <concept type="AutoPilot-OA-Change_Management:Change">
                            <attribute>change-id</attribute>
                          </concept>
                        </output>
                      </result>
                      <xpath-expression>
                        <xpath-replacement-tokens />
                        <xpath><![CDATA[//change-id/text()]]></xpath>
                      </xpath-expression>
                    </assignment>
                    <assignment>
                      <document>
                        <input>
                          <from>ciChange</from>
                        </input>
                      </document>
                      <result>
                        <output>
                          <to>ciChanges</to>
                        </output>
                      </result>
                      <xslt-stylesheet>
                        <stylesheet-replacement-tokens>
                          <replacement-token name="ciChange">
                            <input global="false">
                              <from>ciChange</from>
                            </input>
                          </replacement-token>
                        </stylesheet-replacement-tokens>
                        <stylesheet><![CDATA[<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
  <xsl:output indent="yes" cdata-section-elements="location" />
  <xsl:template match="/">
    <Changes>
      <xsl:choose>
        <xsl:when test="string-length(//change) &gt; 0">
          <xsl:copy-of select="//change" />
        </xsl:when>
        <xsl:otherwise>${ciChange}</xsl:otherwise>
      </xsl:choose>
    </Changes>
  </xsl:template>
</xsl:stylesheet>]]></stylesheet>
                      </xslt-stylesheet>
                    </assignment>
                    <meta>
                      <documentation />
                      <checkpoint>false</checkpoint>
                    </meta>
                    <after-execution>
                      <log>
                        <level>debug</level>
                        <parameters>
                          <input>
                            <value>==== ciChanges ====</value>
                          </input>
                          <input>
                            <from>ciChanges</from>
                          </input>
                        </parameters>
                      </log>
                    </after-execution>
                    <location>:switch[1]:sequence[3]:switch[1]:sequence[3]:assign[1]</location>
                  </assign>
                  <call-process>
                    <process-name>:AutoPilot-OA-Common_Utilities:Tokenize String</process-name>
                    <parameters>
                      <input>
                        <from>CINameList</from>
                        <to>string</to>
                      </input>
                      <input>
                        <value>;</value>
                        <to>delimiter</to>
                      </input>
                      <output>
                        <from>tokens</from>
                        <to>tokens</to>
                      </output>
                    </parameters>
                    <meta>
                      <documentation />
                      <run-mode-handling>
                        <run-mode>OCP</run-mode>
                        <allow-step-into>false</allow-step-into>
                      </run-mode-handling>
                      <checkpoint>false</checkpoint>
                    </meta>
                    <location>:switch[1]:sequence[3]:switch[1]:sequence[3]:call-process[1]</location>
                  </call-process>
                  <assign>
                    <assignment>
                      <document>
                        <input>
                          <from>tokens</from>
                        </input>
                      </document>
                      <result>
                        <output>
                          <to>configuration items</to>
                        </output>
                      </result>
                      <xslt-stylesheet>
                        <stylesheet-replacement-tokens />
                        <stylesheet><![CDATA[<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
  <xsl:output indent="no" />
  <xsl:template match="/">
    <Configuration-Items>
      <xsl:apply-templates select="//token" />
    </Configuration-Items>
  </xsl:template>
  <xsl:template match="token">
    <xsl:param name="token" />
    <Configuration-Item>
      <name>
        <xsl:value-of select="." disable-output-escaping="no" />
      </name>
    </Configuration-Item>
  </xsl:template>
</xsl:stylesheet>]]></stylesheet>
                      </xslt-stylesheet>
                    </assignment>
                    <meta>
                      <documentation />
                      <checkpoint>false</checkpoint>
                    </meta>
                    <location>:switch[1]:sequence[3]:switch[1]:sequence[3]:assign[2]</location>
                  </assign>
                  <assign>
                    <assignment>
                      <document>
                        <input>
                          <from>ciChanges</from>
                        </input>
                      </document>
                      <result>
                        <output>
                          <to>ciChanges</to>
                        </output>
                      </result>
                      <xslt-stylesheet>
                        <stylesheet-replacement-tokens />
                        <stylesheet><![CDATA[<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
  <xsl:output indent="no" />
  <xsl:variable name="rootNode" select="name(/*)" />
  <xsl:variable name="childNode" select="name(/*/*)" />
  <xsl:template match="/">
    <xsl:element name="{$rootNode}">
      <xsl:element name="{$childNode}">
        <xsl:apply-templates select="/*/*/*" />
      </xsl:element>
    </xsl:element>
  </xsl:template>
  <xsl:template match="*">
    <xsl:element name="{local-name(.)}">
      <xsl:value-of select="." disable-output-escaping="no" />
      <xsl:apply-templates select="@*" />
    </xsl:element>
  </xsl:template>
  <xsl:template match="@*">
    <xsl:if test="name()  != 'xmlns'">
      <xsl:copy />
    </xsl:if>
  </xsl:template>
</xsl:stylesheet>]]></stylesheet>
                      </xslt-stylesheet>
                    </assignment>
                    <meta>
                      <documentation />
                      <checkpoint>false</checkpoint>
                    </meta>
                    <before-execution>
                      <log>
                        <level>debug</level>
                        <parameters>
                          <input>
                            <value>Create Task Relationships - ServiceNow - changes before removing namespace attribute</value>
                          </input>
                          <input>
                            <from>changes</from>
                          </input>
                        </parameters>
                      </log>
                    </before-execution>
                    <after-execution>
                      <log>
                        <level>debug</level>
                        <parameters>
                          <input>
                            <value>Create Task Relationships - ServiceNow - changes after removing namespace attribute</value>
                          </input>
                          <input>
                            <from>changes</from>
                          </input>
                        </parameters>
                      </log>
                    </after-execution>
                    <location>:switch[1]:sequence[3]:switch[1]:sequence[3]:assign[3]</location>
                  </assign>
                  <assign>
                    <assignment>
                      <document>
                        <input>
                          <from>configuration items</from>
                        </input>
                      </document>
                      <result>
                        <output>
                          <to>items</to>
                        </output>
                      </result>
                      <xslt-stylesheet>
                        <stylesheet-replacement-tokens>
                          <replacement-token name="changes">
                            <input global="false">
                              <from>ciChanges</from>
                            </input>
                          </replacement-token>
                        </stylesheet-replacement-tokens>
                        <stylesheet><![CDATA[<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:xalan="http://xml.apache.org/xalan" version="1.0">
  <xsl:output indent="no" />
  <xsl:variable name="changesVar">${changes}</xsl:variable>
  <xsl:template match="/">
    <items>
      <xsl:apply-templates select="//Configuration-Item" />
    </items>
  </xsl:template>
  <xsl:template match="Configuration-Item">
    <xsl:apply-templates select="xalan:nodeset($changesVar)//Change">
      <xsl:with-param name="ci-name" select="name/text()" />
    </xsl:apply-templates>
  </xsl:template>
  <xsl:template match="Change">
    <xsl:param name="ci-name" />
    <item>
      <ci-item>
        <xsl:value-of select="$ci-name" disable-output-escaping="no" />
      </ci-item>
      <task>
        <xsl:value-of select="." disable-output-escaping="no" />
      </task>
      <importset-table>
        <xsl:text disable-output-escaping="no">task_ci</xsl:text>
      </importset-table>
    </item>
  </xsl:template>
</xsl:stylesheet>]]></stylesheet>
                      </xslt-stylesheet>
                    </assignment>
                    <meta>
                      <documentation />
                      <checkpoint>false</checkpoint>
                    </meta>
                    <after-execution>
                      <log>
                        <level>debug</level>
                        <parameters>
                          <input>
                            <value>Create Task Relationships - ServiceNow - items </value>
                          </input>
                          <input>
                            <from>items</from>
                          </input>
                        </parameters>
                      </log>
                    </after-execution>
                    <location>:switch[1]:sequence[3]:switch[1]:sequence[3]:assign[4]</location>
                  </assign>
                  <call-process>
                    <process-name>:AO-AD-ServiceNow:Create Items</process-name>
                    <parameters>
                      <input global="true">
                        <configuration>:AutoPilot-OA-Change_Management:ServiceNow:Adapter</configuration>
                        <to>adapter name</to>
                      </input>
                      <input>
                        <value>importset</value>
                        <to>item type</to>
                      </input>
                      <input>
                        <from>items</from>
                        <to>items</to>
                      </input>
                      <input>
                        <value>v1.0</value>
                        <to>version</to>
                      </input>
                      <output>
                        <from>adapter response</from>
                        <to>adapter response</to>
                      </output>
                    </parameters>
                    <meta>
                      <documentation />
                      <run-mode-handling>
                        <run-mode>OCP</run-mode>
                        <allow-step-into>false</allow-step-into>
                      </run-mode-handling>
                      <checkpoint>false</checkpoint>
                    </meta>
                    <location>:switch[1]:sequence[3]:switch[1]:sequence[3]:call-process[2]</location>
                  </call-process>
                  <call-process>
                    <process-name>:BMC-SA-ITSM_Automation:Change_Management:Get Change Status</process-name>
                    <parameters>
                      <input>
                        <from>changes</from>
                        <to>ChangeIDs</to>
                        <xpath-expression>
                          <xpath-replacement-tokens />
                          <xpath><![CDATA[//change-id/text()]]></xpath>
                        </xpath-expression>
                      </input>
                      <input>
                        <from>ITSMPlatform</from>
                        <to>ITSMPlatform</to>
                      </input>
                      <output>
                        <from>json response</from>
                        <to>json response</to>
                      </output>
                    </parameters>
                    <meta>
                      <documentation />
                      <run-mode-handling>
                        <run-mode>OCP</run-mode>
                        <allow-step-into>false</allow-step-into>
                      </run-mode-handling>
                      <checkpoint>false</checkpoint>
                    </meta>
                    <location>:switch[1]:sequence[3]:switch[1]:sequence[3]:call-process[3]</location>
                  </call-process>
                </sequence>
              </case>
              <location>:switch[1]:sequence[3]:switch[1]</location>
            </switch>
            <assign>
              <assignment>
                <document>
                  <input>
                    <from>json response</from>
                  </input>
                </document>
                <result>
                  <output>
                    <to>json response</to>
                  </output>
                </result>
                <xslt-stylesheet>
                  <stylesheet-replacement-tokens />
                  <stylesheet><![CDATA[<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform"  version="1.0"><xsl:output indent="no" /><xsl:template match="/"><text><xsl:variable name="result"><xsl:call-template name="string-replace-all"><xsl:with-param name="text" select="." /><xsl:with-param name="replace" select='"Get Change Status"' /><xsl:with-param name="by" select='"Create Change Ticket"' /></xsl:call-template></xsl:variable><xsl:value-of  select="$result"/></text></xsl:template><xsl:template name="string-replace-all"><xsl:param name="text"/><xsl:param name="replace"/><xsl:param name="by"/><xsl:choose><xsl:when test="contains($text, $replace)"><xsl:value-of select="substring-before($text, $replace)"/><xsl:value-of select="$by"/><xsl:call-template name="string-replace-all"><xsl:with-param name="text" select="substring-after($text, $replace)"/><xsl:with-param name="replace" select="$replace"/><xsl:with-param name="by" select="$by"/></xsl:call-template></xsl:when><xsl:otherwise><xsl:value-of select="$text"/></xsl:otherwise></xsl:choose></xsl:template></xsl:stylesheet>]]></stylesheet>
                </xslt-stylesheet>
              </assignment>
              <meta>
                <documentation />
                <checkpoint>false</checkpoint>
              </meta>
              <location>:switch[1]:sequence[3]:assign[2]</location>
            </assign>
          </sequence>
        </case>
        <location>:switch[1]</location>
      </switch>
      <assign>
        <meta>
          <documentation />
          <checkpoint>false</checkpoint>
        </meta>
        <before-execution>
          <log>
            <level>debug</level>
            <parameters>
              <input>
                <value>Output</value>
              </input>
              <input>
                <from>json response</from>
              </input>
            </parameters>
          </log>
        </before-execution>
        <location>:assign[2]</location>
      </assign>
    </sequence>
    <meta>
      <expose-to>
        <consumer>RULE</consumer>
        <consumer>SCHEDULE</consumer>
        <consumer>OCP</consumer>
      </expose-to>
      <documentation>
        <description>This is top level workflow create a change in target ITSM.

Actions performed - 
1. Initiate defaults
2. Query Customer Info
3. Query template-id
4. Create Change
5. Associate CIs</description>
        <version></version>
      </documentation>
      <logging-options>
        <is-enabled>true</is-enabled>
        <log-file-name>Create-Change-Record</log-file-name>
      </logging-options>
      <peer-location>
        <location>any</location>
      </peer-location>
      <record-metrics>true</record-metrics>
      <process-id>d1a96412-e5ee-43c5-9337-05366b9077a3</process-id>
      <author>aoadmin</author>
      <category></category>
      <status></status>
      <keywords>Change, ITSM, Response,BTD</keywords>
      <systems></systems>
      <last-modified-by>aoadmin</last-modified-by>
      <last-modified>1604389144080</last-modified>
    </meta>
  </process-def>
</process>