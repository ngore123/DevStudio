<process draft="false" dev-studio-version="7.8.00">
  <process-def name=":AutoPilot-OA-Incident_Management:Setup_Validation:Test Close Incident">
    <parameters>
      <input global="false" required="true">
        <description>String Value - The name of a configuration item defined in a configuration module. 

Example: BMC_ARS_System, HP_ServiceCenter</description>
        <from>configuration name</from>
        <to>configuration name</to>
      </input>
      <input global="false" required="true">
        <description>String Value - The incident number. 

Remedy Example: INC000000000006

HP_ServiceCenter Example: IM10056
</description>
        <from>incident number</from>
        <to>incident number</to>
      </input>
      <input global="false" required="true">
        <description>String Value - Closed or Resolved</description>
        <from>new status</from>
        <to>new status</to>
      </input>
      <input global="false" required="false">
        <description>String Value - Status  Reason

BMC AR System:

Valid Values:
  
Infrastructure Change Created
Local Site Action Required
Purchase Order Approval
Registration Approval
Supplier Delivery
Support Contact Hold
Third Party Vendor Action Reqd
Client Action Required
Infrastructure Change
Request
Future Enhancement
Pending Origional Incident
Client Hold
Monitoring Incident
Customer Follow-Up Required
Temporary Corrective Action
No Further Action Required
Resolved by Original Incident
Automated Resolution Reported
No longer a Causal CI
Pending Casual Incident Resolution
Resolved by Casual Incident


Note:

Not a required input for HP_ServiceCenter</description>
        <from>status reason</from>
        <to>status reason</to>
      </input>
      <input global="false" required="false">
        <description>String Value -Open text field describing resolution.

Note:

Not a required input for HP_ServiceCenter</description>
        <from>resolution</from>
        <to>resolution</to>
      </input>
      <output global="false" required="false">
        <description>An XML document providing the data template for single or multiple Concept elements.The incident concept is an XML document containing specific elements used to assign multiple values to a single context item. Each value is associated with an element of the Concept.
</description>
        <to>incidents</to>
        <from>incidents</from>
      </output>
      <output global="false" required="true">
        <description>Indicates whether or not the process completed successfully.
Valid values: success, failure.
</description>
        <to>success status</to>
        <from>success status</from>
      </output>
      <output global="false" required="true">
        <description>A process specific string that explains the value of success status.
</description>
        <to>status message</to>
        <from>status message</from>
      </output>
    </parameters>
    <access />
    <sequence>
      <assign>
        <assignment>
          <input>
            <from>incident number</from>
          </input>
          <output>
            <to>incident</to>
            <concept type="AutoPilot-OA-Incident_Management:Incident">
              <attribute>incident-number</attribute>
            </concept>
          </output>
        </assignment>
        <assignment>
          <input>
            <from>new status</from>
          </input>
          <output>
            <to>incident</to>
            <concept type="AutoPilot-OA-Incident_Management:Incident">
              <attribute>status</attribute>
            </concept>
          </output>
        </assignment>
        <assignment>
          <input>
            <from>status reason</from>
          </input>
          <output>
            <to>incident</to>
            <concept type="AutoPilot-OA-Incident_Management:Incident">
              <attribute>status-reason</attribute>
            </concept>
          </output>
        </assignment>
        <assignment>
          <input>
            <from>resolution</from>
          </input>
          <output>
            <to>incident</to>
            <concept type="AutoPilot-OA-Incident_Management:Incident">
              <attribute>resolution</attribute>
            </concept>
          </output>
        </assignment>
        <assignment>
          <document>
            <input>
              <from>incident</from>
            </input>
          </document>
          <result>
            <output>
              <to>incidents</to>
            </output>
          </result>
          <xslt-stylesheet>
            <stylesheet-replacement-tokens>
              <replacement-token name="incident">
                <input global="false">
                  <from>incident</from>
                </input>
              </replacement-token>
            </stylesheet-replacement-tokens>
            <stylesheet><![CDATA[<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
  <xsl:output indent="yes" cdata-section-elements="location" />
  <xsl:template match="/">
    <Incidents>
      <xsl:choose>
        <xsl:when test="string-length(//incident) &gt; 0">
          <xsl:copy-of select="//incident" />
        </xsl:when>
        <xsl:otherwise>${incident}</xsl:otherwise>
      </xsl:choose>
    </Incidents>
  </xsl:template>
</xsl:stylesheet>]]></stylesheet>
          </xslt-stylesheet>
        </assignment>
        <meta>
          <documentation />
          <checkpoint>false</checkpoint>
        </meta>
        <after-execution>
          <log>
            <level>debug</level>
            <parameters>
              <input>
                <value>Show contents of incident</value>
              </input>
              <input>
                <from>incident</from>
              </input>
            </parameters>
          </log>
        </after-execution>
        <location>:assign[1]</location>
      </assign>
      <call-process>
        <process-name>:AutoPilot-OA-Incident_Management:Update Incidents</process-name>
        <parameters>
          <input>
            <from>incidents</from>
            <to>incidents</to>
          </input>
          <input>
            <from>configuration name</from>
            <to>configuration name</to>
          </input>
          <output>
            <from>incidents</from>
            <to>incidents</to>
          </output>
          <output>
            <from>success status</from>
            <to>success status</to>
          </output>
          <output>
            <from>status message</from>
            <to>status message</to>
          </output>
        </parameters>
        <meta>
          <documentation />
          <run-mode-handling>
            <run-mode>OCP</run-mode>
            <allow-step-into>false</allow-step-into>
          </run-mode-handling>
          <checkpoint>false</checkpoint>
        </meta>
        <before-execution>
          <log>
            <level>debug</level>
            <parameters>
              <input>
                <value>Incident Before</value>
              </input>
              <input>
                <from>incidents</from>
              </input>
            </parameters>
          </log>
        </before-execution>
        <location>:call-process[1]</location>
      </call-process>
    </sequence>
    <meta>
      <expose-to>
        <consumer>RULE</consumer>
        <consumer>SCHEDULE</consumer>
      </expose-to>
      <documentation>
        <description>This workflow resolves or closes an existing incident. </description>
        <version>1.0</version>
      </documentation>
      <logging-options>
        <is-enabled>false</is-enabled>
        <log-file-name></log-file-name>
      </logging-options>
      <peer-location>
        <location>any</location>
      </peer-location>
      <record-metrics>false</record-metrics>
      <process-id>63d54490-5335-3776-a5c9-c99341e272b9</process-id>
      <author>admin</author>
      <category></category>
      <status></status>
      <keywords></keywords>
      <systems></systems>
      <last-modified-by>admin</last-modified-by>
      <last-modified>1439895397536</last-modified>
    </meta>
  </process-def>
</process>