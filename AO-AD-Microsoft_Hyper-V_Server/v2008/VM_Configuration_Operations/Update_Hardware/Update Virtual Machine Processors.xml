<process draft="false" dev-studio-version="7.6.02.03">
  <process-def name=":AO-AD-Microsoft_Hyper-V_Server:v2008:VM_Configuration_Operations:Update_Hardware:Update Virtual Machine Processors">
    <parameters>
      <input global="false" required="false">
        <description>The name of the adapter to use to handle the request. 
Default adapter name: MSHyperVActor.</description>
        <from>adapter name</from>
        <to>adapter name</to>
      </input>
      <input global="false" required="true">
        <description>Updates the CPU Resources allocated to a virtual machine.

Sample items Xml: 

&lt;items&gt;
	&lt;item&gt;
		&lt;target&gt;
			&lt;host&gt;localhost&lt;/host&gt;
			&lt;user-name&gt;admin&lt;/user-name&gt;
			&lt;password encryption-type="Base64"&gt;YWRtaW4=&lt;/password&gt;
			&lt;timeout-secs&gt;120&lt;/timeout-secs&gt;
		&lt;/target&gt;
		&lt;vm&gt;Test_VM&lt;/vm&gt;
		&lt;vm-guid&gt;E8103920-48BC-4039-AF1D-11DECB33875B&lt;/vm-guid&gt;
		&lt;cpu-count&gt;1&lt;/cpu-count&gt;
		&lt;weight&gt;1000&lt;/weight&gt;
		&lt;limit&gt;60&lt;/limit&gt;
		&lt;reservation&gt;40&lt;/reservation&gt;
      &lt;/item&gt;
	&lt;item&gt;
		&lt;target&gt;config2&lt;/target&gt;
		&lt;vm&gt;Test_VM&lt;/vm&gt;
		&lt;vm-guid&gt;E8103920-48BC-4039-AF1D-11DECB33875B&lt;/vm-guid&gt;
		&lt;cpu-count&gt;1&lt;/cpu-count&gt;
		&lt;weight&gt;1000&lt;/weight&gt;
		&lt;limit&gt;60&lt;/limit&gt;
		&lt;reservation&gt;40&lt;/reservation&gt;
	&lt;/item&gt;
&lt;/items&gt;


Elements' Description:

target[Conditional]:
	There are two ways in which this tag can be specified.

	First Option:
		This tag can contain a dynamic target configuration. Following tags are applicable while defining a dynamic target.

		host[Conditional]:
			Host name or IP address of HyperV server. This tag is required while providing dynamic targets.

		user-name[Conditional]:
			Username required to connect HyperV server. This tag is required while providing dynamic targets.

		password[Conditional]:
			The password associated with the &lt;user-name&gt; provided. Encrypted password can be provided by providing an "encryption-type" attribute. This tag is required while providing dynamic targets.
			Valid values for encryption-type are: Plain, Base64
			Default value: Plain

		timeout-secs[Optional]
			Specifies the time, in seconds, after which the attempt to connect to the Microsoft Hyper-V Server fails.
			Default value in seconds: 60

	Second Option:
		This tag can refer to one of pre-defined target configurations of HyperV server on which the request will be executed.

		Valid values: The value specified for &lt;target&gt; XML element must be same as the value that has been specified for the name attribute of &lt;config&gt; element in Grid Manager adapter configuration.

		Default value:
		If this element is not provided or left empty, the request will be executed on the first defined Grid Manager adapter configuration.

	Note: If "target" tag is provided in request then it will take precedence over adapter configurations defined while configuring the adapter.
	Note: If no adapter configurations are specified while configuring the adapter dynamic target need to be defined under "target" tag.

vm[Required]
	Name of the virtual machine to be updated.

vm-guid[Optional]
	If multiple virtual machine exist with the same name the operation can be restricted to a particular virtual machine by specifying the guid.

cpu-count[Optional]
	Specifies the total number of cpu cores in the virtual machine.

weight[Optional]
	The weight for each virtual machine processor. After all reserves have been met, the remaining physical processor capacity of the hosting platform will be allocated to VMs based on their relative weights.
	Value Range: 1-10000 both inclusive

limit[Optional]
	The maximum amount of CPU resources that may be consumed by the virtual machine.
	Valid range: 0-100 both inclusive

reservation[Optional]
	The amount of CPU resources that are reserved for use by the virtual machine. These resources are guaranteed to be available for consumption by the virtual machine.
	Valid range: 0-100 both inclusive   </description>
        <from>items</from>
        <to>items</to>
      </input>
      <output global="false" required="false">
        <to>adapter response</to>
        <from>adapter response</from>
      </output>
    </parameters>
    <access />
    <sequence>
      <assign>
        <assignment>
          <output>
            <to>operation name</to>
            <value>update-vm-processors</value>
          </output>
        </assignment>
        <meta>
          <documentation />
          <checkpoint>false</checkpoint>
        </meta>
        <location>:assign[1]</location>
      </assign>
      <call-process>
        <process-name>:AO-AD-Microsoft_Hyper-V_Server:Utilities:Execute Request</process-name>
        <parameters>
          <input>
            <from>adapter name</from>
            <to>adapter name</to>
          </input>
          <input>
            <from>items</from>
            <to>items</to>
          </input>
          <input>
            <from>operation name</from>
            <to>operation name</to>
          </input>
          <output>
            <from>adapter response</from>
            <to>adapter response</to>
          </output>
        </parameters>
        <meta>
          <documentation />
          <run-mode-handling>
            <run-mode>OCP</run-mode>
            <allow-step-into>false</allow-step-into>
          </run-mode-handling>
          <checkpoint>false</checkpoint>
        </meta>
        <location>:call-process[1]</location>
      </call-process>
    </sequence>
    <meta>
      <expose-to>
        <consumer>RULE</consumer>
        <consumer>SCHEDULE</consumer>
      </expose-to>
      <documentation>
        <description>Updates the CPU Resources allocated to a virtual machine.</description>
        <version></version>
      </documentation>
      <peer-location>
        <location>any</location>
      </peer-location>
      <record-metrics>false</record-metrics>
      <process-id>d4f6a0c0-f511-4dc6-8aee-b46fc654c51d</process-id>
      <author>admin</author>
      <category></category>
      <status></status>
      <keywords></keywords>
      <systems></systems>
      <last-modified-by>admin</last-modified-by>
      <last-modified>1331552051779</last-modified>
    </meta>
  </process-def>
</process>